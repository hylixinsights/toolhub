try{!function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},r=(new e.Error).stack;r&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[r]="e01a7230-7550-4ad9-a3e7-79fe5b18c81e",e._sentryDebugIdIdentifier="sentry-dbid-e01a7230-7550-4ad9-a3e7-79fe5b18c81e")}()}catch(e){}"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2395,13259],{5348:(e,r,t)=>{t.d(r,{i:()=>o});var a=t(20097),i=t(123723),n=t(673068),s=t(320801),l=t(375896);function o(e){var r,t,o,d,c,u;let{folderId:m,children:p,className:v,variant:f="grid",isExpanded:h=!1,hasChildFolders:g=!1,onExpandWhenHovering:x}=e,{isOver:y,setNodeRef:b,active:j}=(0,i.zM)({id:"folder-".concat(f,"-").concat(m),data:{type:n.X.FOLDER,folderId:m}}),w=!!j;(0,s.F)({isOver:y,isDragging:w,isExpanded:h,onExpand:null!=x?x:()=>{}});let N=null==j||null==(r=j.data.current)?void 0:r.type,k=N===n.X.PROJECT,_=N===n.X.FOLDER,C=null==j||null==(t=j.data.current)?void 0:t.project,P=!!C&&"folder_id"in C&&C.folder_id===m,z=null==j||null==(d=j.data.current)||null==(o=d.folder)?void 0:o.id,E=(null==j||null==(u=j.data.current)||null==(c=u.folder)?void 0:c.parent_id)||null,M=z===m,S=E===m,A=_&&!M&&!S,I=y&&(k&&!P||A),F=k&&P||_&&(M||S),O=_&&h&&g&&!M&&!S,Q="sidebar"===f;return(0,a.jsxs)("div",{ref:b,className:(0,l.cn)(v,"transition-colors duration-150",I&&!O&&"bg-border",I&&O&&"bg-border/30",F&&"grid"===f&&"opacity-50",Q&&"relative z-20"),children:[F&&Q&&(0,a.jsx)("div",{className:"pointer-events-none absolute inset-0 z-10 rounded-lg bg-background/60"}),p]})}},77205:(e,r,t)=>{t.r(r),t.d(r,{default:()=>s});var a,i=t(325413);function n(){return(n=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var a in t)({}).hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e}).apply(null,arguments)}let s=function(e){return i.createElement("svg",n({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},e),a||(a=i.createElement("path",{fill:"currentColor",d:"M15.25 10a5.25 5.25 0 1 0-10.5 0 5.25 5.25 0 0 0 10.5 0m1.5 0a6.72 6.72 0 0 1-1.477 4.212l5.257 5.258a.75.75 0 1 1-1.06 1.06l-5.258-5.257A6.75 6.75 0 1 1 16.75 10"})))}},92968:(e,r,t)=>{t.d(r,{a:()=>i});var a=t(774672);let i=(0,t(780493).w)(a.A,"EyeOffIcon")},135345:(e,r,t)=>{t.d(r,{N:()=>a});var a=function(e){return e.Personal="personal",e.Workspace="workspace",e}({})},154724:(e,r,t)=>{t.d(r,{o:()=>i});var a=t(443377);let i=(0,t(780493).w)(a.default,"ProgressActivityIcon")},160970:(e,r,t)=>{t.d(r,{M:()=>m});var a=t(20097),i=t(506286),n=t(440460),s=t(485544),l=t(468852),o=t(654142),d=t(135345),c=t(375896),u=t(640715);function m(e){let{value:r,onChange:t,className:m,disabled:p,disabledMessage:v}=e,{permissions:f}=(0,i.S)(),h=f.includes(u.eZ.ManageWorkspaceFolders),g=!!p,x=!!p||!h;return(0,a.jsxs)("div",{className:(0,c.cn)("space-y-2",m),children:[(0,a.jsx)(l.Label,{className:"text-sm font-medium text-foreground",children:"Visibility"}),p&&v&&(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:v}),(0,a.jsx)(o.z,{value:r,onValueChange:e=>!p&&t(e),children:(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("label",{htmlFor:"personal",className:(0,c.cn)("relative flex items-start gap-3 rounded-xl border p-3 transition-all",g?"cursor-not-allowed opacity-50":"cursor-pointer",r===d.N.Personal?"border-primary ring-1 ring-primary":"border-border",!g&&r!==d.N.Personal&&"hover:bg-muted"),children:[(0,a.jsx)(o.C,{value:d.N.Personal,id:"personal",className:"mt-0.5",disabled:g}),(0,a.jsxs)("div",{className:"flex-1 space-y-0.5",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,a.jsx)(n.o,{size:"small",className:"text-muted-foreground"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:"Personal"})]}),(0,a.jsx)("p",{className:"text-sm leading-relaxed text-muted-foreground",children:"Only you can see and add projects to this folder"})]})]}),(0,a.jsxs)("label",{htmlFor:"workspace",className:(0,c.cn)("relative flex items-start gap-3 rounded-xl border p-3 transition-all",x?"cursor-not-allowed opacity-50":"cursor-pointer",r===d.N.Workspace?"border-primary ring-1 ring-primary":"border-border",!x&&r!==d.N.Workspace&&"hover:bg-muted"),children:[(0,a.jsx)(o.C,{value:d.N.Workspace,id:"workspace",className:"mt-0.5",disabled:x}),(0,a.jsxs)("div",{className:"flex-1 space-y-0.5",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,a.jsx)(s.G,{size:"small",className:"text-muted-foreground"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:"Workspace"})]}),(0,a.jsx)("p",{className:"text-sm leading-relaxed text-muted-foreground",children:x&&!p?"You don't have permission to create workspace folders":"All workspace members can see and add projects to this folder"})]})]})]})})]})}},174423:(e,r,t)=>{t.d(r,{BX:()=>s,Yd:()=>u,eE:()=>i,g$:()=>l,lV:()=>c,sE:()=>o,td:()=>d,vV:()=>n});var a=t(926206);let i=3;async function n(e,r){return(0,a.Pg)().post("/workspaces/".concat(e,"/folders"),r)}async function s(e){return(0,a.Pg)().get("/workspaces/".concat(e,"/folders"))}async function l(e,r,t){return(0,a.Pg)().patch("/workspaces/".concat(e,"/folders/").concat(r),t)}async function o(e,r){let t=!(arguments.length>2)||void 0===arguments[2]||arguments[2];return(0,a.Pg)().delete("/workspaces/".concat(e,"/folders/").concat(r).concat(t?"?cascade=true":""))}async function d(e,r,t){return(0,a.Pg)().post("/workspaces/".concat(e,"/folders/").concat(r,"/projects/batch"),{project_ids:t})}async function c(e,r,t){return(0,a.Pg)().delete("/workspaces/".concat(e,"/folders/").concat(r,"/projects"),{project_ids:t})}async function u(e,r){return(0,a.Pg)().get("/workspaces/".concat(e,"/folders/").concat(r,"/projects"))}},178427:(e,r,t)=>{t.d(r,{A:()=>s});var a,i=t(325413);function n(){return(n=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var a in t)({}).hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e}).apply(null,arguments)}let s=function(e){return i.createElement("svg",n({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},e),a||(a=i.createElement("path",{fill:"currentColor",d:"M19.75 18A3.75 3.75 0 0 1 16 21.75H8A3.75 3.75 0 0 1 4.25 18V6A3.75 3.75 0 0 1 8 2.25h5c.199 0 .39.08.53.22l6 6c.14.14.22.331.22.53zm-14 0A2.25 2.25 0 0 0 8 20.25h8A2.25 2.25 0 0 0 18.25 18V9.75H16A3.75 3.75 0 0 1 12.25 6V3.75H8A2.25 2.25 0 0 0 5.75 6zm8-12A2.25 2.25 0 0 0 16 8.25h1.19l-3.44-3.44z"})))}},253815:(e,r,t)=>{t.d(r,{A:()=>s});var a,i=t(325413);function n(){return(n=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var a in t)({}).hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e}).apply(null,arguments)}let s=function(e){return i.createElement("svg",n({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},e),a||(a=i.createElement("path",{fill:"currentColor",d:"M9.25 16c0-.69-.56-1.25-1.25-1.25H6c-.69 0-1.25.56-1.25 1.25v2c0 .69.56 1.25 1.25 1.25h2c.69 0 1.25-.56 1.25-1.25zm10 0c0-.69-.56-1.25-1.25-1.25h-2c-.69 0-1.25.56-1.25 1.25v2c0 .69.56 1.25 1.25 1.25h2c.69 0 1.25-.56 1.25-1.25zM15.056 3.64a2.75 2.75 0 0 1 3.888 0l1.414 1.414a2.75 2.75 0 0 1 0 3.89l-1.414 1.414a2.75 2.75 0 0 1-3.888 0l-1.414-1.415a2.75 2.75 0 0 1 0-3.889zM9.25 6c0-.69-.56-1.25-1.25-1.25H6c-.69 0-1.25.56-1.25 1.25v2c0 .69.56 1.25 1.25 1.25h2c.69 0 1.25-.56 1.25-1.25zm8.634-1.298a1.25 1.25 0 0 0-1.768 0l-1.414 1.414a1.25 1.25 0 0 0 0 1.768l1.414 1.414a1.25 1.25 0 0 0 1.768 0l1.414-1.414a1.25 1.25 0 0 0 0-1.768zM10.75 18A2.75 2.75 0 0 1 8 20.75H6A2.75 2.75 0 0 1 3.25 18v-2A2.75 2.75 0 0 1 6 13.25h2A2.75 2.75 0 0 1 10.75 16zm10 0A2.75 2.75 0 0 1 18 20.75h-2A2.75 2.75 0 0 1 13.25 18v-2A2.75 2.75 0 0 1 16 13.25h2A2.75 2.75 0 0 1 20.75 16zm-10-10A2.75 2.75 0 0 1 8 10.75H6A2.75 2.75 0 0 1 3.25 8V6A2.75 2.75 0 0 1 6 3.25h2A2.75 2.75 0 0 1 10.75 6z"})))}},266803:(e,r,t)=>{t.d(r,{f:()=>i});var a=t(500924);let i=(0,t(780493).w)(a.A,"HomeIcon")},308102:(e,r,t)=>{t.d(r,{V:()=>d});var a=t(325413),i=t(822534),n=t(262639),s=t(317525),l=t(640715);let o="updated_at",d=e=>{var r,t,d;let{workspaceId:c,pageSize:u=12,enabled:m=!0,folderId:p,requireSearchQuery:v=!1}=e,[f,h]=(0,a.useState)(""),[g,x]=(0,a.useState)("all"),[y,b]=(0,a.useState)(o),[j,w]=(0,a.useState)("desc"),[N,k]=(0,a.useState)("all"),[_,C]=(0,a.useState)("all"),[P,z]=(0,a.useState)(p),[E,M]=(0,a.useState)(!1),S=f.slice(0,400),A=(0,i.d)(S,300),I=f.trim().length>0,F=A.trim().length>0,O=S!==A,Q=(0,a.useMemo)(()=>F&&!E?"relevance":F||"relevance"!==y?y:o,[F,y,E]);(0,a.useEffect)(()=>{F||M(!1)},[F]),(0,a.useEffect)(()=>{x("all"),b(o),w("desc"),h(""),k("all"),C("all"),z(p),M(!1)},[c,p]);let q=(0,a.useMemo)(()=>[{value:"updated_at",label:"Last edited",disabled:!1},{value:"created_at",label:"Created",disabled:!1},{value:"name",label:"Name",disabled:!1},{value:"relevance",label:"Relevance",disabled:!I}],[I]),D=s.yX.searchProjectsInfinite({workspaceId:c,userId:"all"===g?void 0:g,visibility:"all"!==N?N:void 0,publishStatus:function(e){switch(e){case"all":default:return;case"published":return"published";case"internally_published":return"internal";case"externally_published":return"external";case"unpublished":return"not_published"}}(_),folderId:P,query:A||void 0,sortBy:"updated_at"===(d=Q)?"last_edited_at":d,sortOrder:j,pageSize:u}),K=m&&(!v||I&&F),{data:L,isLoading:V,isFetching:B,isFetchingNextPage:W,hasNextPage:T,fetchNextPage:R,refetch:H}=(0,n.Ob)({...D,permission:[l.eZ.ViewWorkspaceProjects,l.eZ.ViewWorkspaceSharedWithMeProjects],enabled:K}),$=(0,a.useMemo)(()=>{var e;return null!=(e=null==L?void 0:L.pages.flatMap(e=>e.projects))?e:[]},[null==L?void 0:L.pages]);return{projects:$,allProjects:$,isLoading:V,isFetching:B,isFetchingNextPage:W,hasMore:null!=T&&T,total:null!=(t=null==L||null==(r=L.pages[0])?void 0:r.total)?t:0,searchQuery:f,setSearchQuery:h,selectedUserId:g,setSelectedUserId:x,sortBy:Q,setSortBy:e=>{F&&"relevance"!==e&&M(!0),b(e)},sortOptions:q,order:j,setOrder:w,visibility:N,setVisibility:k,publishStatus:_,setPublishStatus:C,folderId:P,setFolderId:z,isDebouncePending:O,refetch:()=>void H(),showMore:()=>{T&&!W&&R()}}}},313259:(e,r,t)=>{t.d(r,{$:()=>c,r:()=>d});var a=t(20097),i=t(461364),n=t(715165),s=t(325413),l=t(375896),o=t(902357);let d=(0,n.F)("relative box-border inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-normal brightness-100 transition-[background-color,opacity,color,filter] duration-150 ease-in-out focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0",{variants:{variant:{solid:"btn-safari-fix before:pointer-events-none before:absolute before:inset-0 before:rounded-[inherit] before:bg-gradient-to-b before:from-white/[0.03] before:to-black/[0.03] shadow-[inset_0_0.5px_0_0_rgba(255,255,255,0.2),inset_0_0_0_0.5px_rgba(0,0,0,0.2),0_1px_2px_0_rgba(0,0,0,0.05)] dark:shadow-[inset_0_0.5px_0_0_rgba(255,255,255,0.2),inset_0_0_0_0.5px_rgba(255,255,255,0.1),0_1px_2px_0_rgba(0,0,0,0.05)] active:brightness-[0.65] disabled:brightness-100 [@media(hover:hover)]:hover:brightness-[0.8]",flat:"btn-safari-fix active:brightness-[0.65] disabled:brightness-100 [@media(hover:hover)]:hover:brightness-[0.8]",subtle:"btn-safari-fix active:brightness-[0.65] disabled:brightness-100 [@media(hover:hover)]:hover:brightness-[0.8]",outline:"outline outline-[0.5px] -outline-offset-[0.5px] outline-input bg-transparent focus-visible:outline-0 disabled:bg-transparent",ghost:"bg-transparent disabled:bg-transparent",link:"underline decoration-transparent underline-offset-4 transition-[text-decoration-color,opacity] active:opacity-80 disabled:decoration-transparent [@media(hover:hover)]:hover:decoration-current",text:"px-0 py-0 transition-opacity active:opacity-80 [@media(hover:hover)]:hover:opacity-90"},intent:{default:"",secondary:"",muted:"",affirmative:"",destructive:"",warning:"","brand-twilight":""},size:{xs:"h-6 gap-1 px-2 py-1 text-xs has-[>svg]:px-1.5 [&_svg:not([class*='size-'])]:size-3",sm:"h-7 gap-1.5 px-3 py-2 has-[>svg]:px-2.5 [&_svg:not([class*='size-'])]:size-3.5",default:"h-8 px-4 py-2 has-[>svg]:px-3 [&_svg:not([class*='size-'])]:size-4",md:"h-9 px-4 py-2 has-[>svg]:px-3 [&_svg:not([class*='size-'])]:size-4",lg:"h-11 px-8 has-[>svg]:px-6 [&_svg:not([class*='size-'])]:size-5"},rounded:{true:"rounded-full",false:""},iconOnly:{true:"!p-0",false:""},floatingButton:{true:"shadow-md",false:""}},compoundVariants:[{variant:"solid",intent:"default",className:"bg-primary text-primary-foreground"},{variant:"solid",intent:"secondary",className:"bg-secondary text-primary"},{variant:"solid",intent:"muted",className:"bg-muted text-muted-foreground"},{variant:"solid",intent:"affirmative",className:"bg-affirmative-primary text-affirmative-primary-foreground"},{variant:"solid",intent:"destructive",className:"bg-destructive-primary text-destructive-primary-foreground"},{variant:"solid",intent:"warning",className:"bg-warning-primary text-warning-primary-foreground"},{variant:"solid",intent:"brand-twilight",className:"bg-brand-twilight-primary text-affirmative-primary-foreground"},{variant:"flat",intent:"default",className:"bg-primary text-primary-foreground"},{variant:"flat",intent:"secondary",className:"bg-secondary text-primary"},{variant:"flat",intent:"muted",className:"bg-muted text-muted-foreground"},{variant:"flat",intent:"affirmative",className:"bg-affirmative-primary text-affirmative-primary-foreground"},{variant:"flat",intent:"destructive",className:"bg-destructive-primary text-destructive-primary-foreground"},{variant:"flat",intent:"warning",className:"bg-warning-primary text-warning-primary-foreground"},{variant:"flat",intent:"brand-twilight",className:"bg-brand-twilight-primary text-affirmative-primary-foreground"},{variant:"subtle",intent:"default",className:"bg-primary/30 text-primary-foreground"},{variant:"subtle",intent:"secondary",className:"bg-secondary/30 text-primary"},{variant:"subtle",intent:"muted",className:"bg-muted/30 text-muted-foreground"},{variant:"subtle",intent:"affirmative",className:"btn-safari-fix-subtle-affirmative bg-accent text-accent-foreground active:brightness-[0.90] [@media(hover:hover)]:hover:brightness-[0.95]"},{variant:"subtle",intent:"destructive",className:"bg-destructive-primary/30 text-destructive-foreground"},{variant:"subtle",intent:"warning",className:"bg-warning-primary/30 text-warning-foreground"},{variant:"subtle",intent:"brand-twilight",className:"bg-brand-twilight-primary/30 text-brand-twilight-foreground"},{variant:"outline",intent:"default",className:"outline-primary/40 text-primary active:bg-primary/[0.03] dark:active:bg-primary/10 [@media(hover:hover)]:hover:bg-primary/5 [@media(hover:hover)]:dark:hover:bg-primary/20"},{variant:"outline",intent:"secondary",className:"outline-secondary text-secondary active:bg-secondary/10 dark:active:bg-secondary/5 [@media(hover:hover)]:hover:bg-secondary/20 [@media(hover:hover)]:dark:hover:bg-secondary/10"},{variant:"outline",intent:"muted",className:"outline-input text-muted-foreground active:bg-primary/[0.03] [@media(hover:hover)]:hover:bg-primary/5"},{variant:"outline",intent:"affirmative",className:"outline-affirmative-primary text-affirmative-primary active:bg-affirmative-primary/10 dark:outline-affirmative-foreground dark:text-affirmative-foreground [@media(hover:hover)]:hover:bg-affirmative-primary/20"},{variant:"outline",intent:"destructive",className:"outline-destructive-primary text-destructive-primary active:bg-destructive-primary/10 dark:outline-destructive-foreground dark:text-destructive-foreground [@media(hover:hover)]:hover:bg-destructive-primary/20"},{variant:"outline",intent:"warning",className:"outline-warning-primary text-warning-primary active:bg-warning-primary/10 dark:outline-warning-foreground dark:text-warning-foreground [@media(hover:hover)]:hover:bg-warning-primary/20"},{variant:"outline",intent:"brand-twilight",className:"outline-brand-twilight-primary text-brand-twilight-primary active:bg-brand-twilight-primary/10 dark:outline-brand-twilight-foreground dark:text-brand-twilight-foreground [@media(hover:hover)]:hover:bg-brand-twilight-primary/20"},{variant:"ghost",intent:"default",className:"text-primary active:bg-primary/[0.03] dark:active:bg-primary/10 [@media(hover:hover)]:hover:bg-primary/5 [@media(hover:hover)]:dark:hover:bg-primary/20"},{variant:"ghost",intent:"secondary",className:"text-secondary active:bg-secondary/10 dark:active:bg-secondary/5 [@media(hover:hover)]:hover:bg-secondary/20 [@media(hover:hover)]:dark:hover:bg-secondary/10"},{variant:"ghost",intent:"muted",className:"text-muted-foreground active:bg-primary/[0.03] [@media(hover:hover)]:hover:bg-primary/5"},{variant:"ghost",intent:"affirmative",className:"text-affirmative-primary active:bg-affirmative-primary/10 dark:text-affirmative-foreground [@media(hover:hover)]:hover:bg-affirmative-primary/20"},{variant:"ghost",intent:"destructive",className:"text-destructive-primary active:bg-destructive-primary/10 dark:text-destructive-foreground [@media(hover:hover)]:hover:bg-destructive-primary/20"},{variant:"ghost",intent:"warning",className:"text-warning-primary active:bg-warning-primary/10 dark:text-warning-foreground [@media(hover:hover)]:hover:bg-warning-primary/20"},{variant:"ghost",intent:"brand-twilight",className:"text-brand-twilight-primary active:bg-brand-twilight-primary/10 dark:text-brand-twilight-foreground [@media(hover:hover)]:hover:bg-brand-twilight-primary/20"},{variant:"link",intent:"default",className:"text-primary"},{variant:"link",intent:"secondary",className:"text-secondary"},{variant:"link",intent:"muted",className:"text-muted-foreground"},{variant:"link",intent:"affirmative",className:"text-affirmative-primary dark:text-affirmative-foreground"},{variant:"link",intent:"destructive",className:"text-destructive-primary dark:text-destructive-foreground"},{variant:"link",intent:"warning",className:"text-warning-primary dark:text-warning-foreground"},{variant:"link",intent:"brand-twilight",className:"text-brand-twilight-primary dark:text-brand-twilight-foreground"},{variant:"text",intent:"default",className:"text-primary"},{variant:"text",intent:"secondary",className:"text-secondary"},{variant:"text",intent:"muted",className:"text-muted-foreground"},{variant:"text",intent:"affirmative",className:"text-affirmative-primary dark:text-affirmative-foreground"},{variant:"text",intent:"destructive",className:"text-destructive-primary dark:text-destructive-foreground"},{variant:"text",intent:"warning",className:"text-warning-primary dark:text-warning-foreground"},{variant:"text",intent:"brand-twilight",className:"text-brand-twilight-primary dark:text-brand-twilight-foreground"},{variant:"solid",floatingButton:!0,className:"shadow-[inset_0_0.5px_0_0_rgba(255,255,255,0.2),inset_0_0_0_0.5px_rgba(0,0,0,0.2),0_4px_6px_-1px_rgba(0,0,0,0.1),0_2px_4px_-2px_rgba(0,0,0,0.1)] dark:shadow-[inset_0_0.5px_0_0_rgba(255,255,255,0.2),inset_0_0_0_0.5px_rgba(255,255,255,0.1),0_4px_6px_-1px_rgba(0,0,0,0.1),0_2px_4px_-2px_rgba(0,0,0,0.1)]"},{iconOnly:!0,size:"xs",className:"h-6 w-6"},{iconOnly:!0,size:"sm",className:"h-7 w-7"},{iconOnly:!0,size:"default",className:"h-8 w-8"},{iconOnly:!0,size:"md",className:"h-9 w-9"},{iconOnly:!0,size:"lg",className:"h-11 w-11"}],defaultVariants:{variant:"solid",intent:"default",size:"default",rounded:!1,iconOnly:!1,floatingButton:!1}}),c=s.forwardRef((e,r)=>{let{className:t,variant:n,intent:c,size:u,rounded:m,iconOnly:p,floatingButton:v,asChild:f=!1,children:h,loading:g,loadingText:x,disabled:y,animateTrailingIconOnHover:b,type:j="button",...w}=e,N=f?i.DX:"button";return(0,a.jsx)(N,{className:(0,l.cn)(d({variant:n,intent:c,size:u,rounded:m,iconOnly:p,floatingButton:v,className:t}),b&&"[&:hover>*:last-child]:translate-x-0.5 [&>*:last-child]:transition-transform [&>*:last-child]:duration-150"),ref:r,type:j,...w,disabled:y||g,children:g?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.y,{size:"small"}),x||s.Children.toArray(h).filter(e=>"string"==typeof e||"number"==typeof e)]}):h})});c.displayName="Button"},320801:(e,r,t)=>{t.d(r,{F:()=>i});var a=t(325413);function i(e){let{isOver:r,isDragging:t,isExpanded:i,onExpand:n}=e,s=(0,a.useRef)(null),l=(0,a.useRef)(n);l.current=n,(0,a.useEffect)(()=>(r&&t&&!i&&(s.current=setTimeout(()=>{l.current()},500)),()=>{s.current&&(clearTimeout(s.current),s.current=null)}),[r,t,i])}},375414:(e,r,t)=>{t.d(r,{I:()=>y});var a=t(20097),i=t(400282),n=t(325413),s=t(83245),l=t(488381),o=t(697260),d=t(160970),c=t(145010),u=t(313259),m=t(480695),p=t(631325),v=t(378684),f=t(174423),h=t(639900),g=t(135345),x=t(978642);let y=(e,r)=>{let t=(0,c.f)(b),a=(0,n.useCallback)(()=>{t(!1)},[t]);return(0,n.useCallback)(i=>{t({childProps:{onClose:a,parentId:e,parentName:r,pendingItem:i}})},[t,a,e,r])};function b(e){let{onClose:r,parentId:t,parentName:c,pendingItem:y}=e,b=(0,i.useRouter)(),j=(0,l.j4)(e=>e.currentWorkspace),w=(0,v.Si)(null==j?void 0:j.id),N=(0,v._U)(null==j?void 0:j.id),k=(0,v.eJ)(null==j?void 0:j.id),_=(0,v.HP)(null==j?void 0:j.id),{folders:C}=(0,v.ow)(null==j?void 0:j.id),[P,z]=(0,n.useState)(""),[E,M]=(0,n.useState)(void 0),[S,A]=(0,n.useState)(g.N.Personal),[I,F]=(0,n.useState)(null),[O,Q]=(0,n.useState)(!1),q=!!t,D=!!y,K=t?null==C?void 0:C.find(e=>e.id===t):null,L=null==K?void 0:K.visibility;(0,n.useEffect)(()=>{L&&A(L)},[L]);let V=(0,n.useMemo)(()=>(null==y?void 0:y.type)==="folder"&&C?2+(0,h.RU)(y.id,C)>f.eE?"Cannot nest folders deeper than ".concat(f.eE," levels"):null:null,[y,C]),B=async e=>{e.preventDefault();let a=(0,x.S)(P);if(!a.isValid)return void F(a.error||"Invalid folder name");if(V)return void s.toast.error(V);Q(!0);try{let e=await w.mutateAsync({name:P.trim(),color:null!=E?E:void 0,visibility:S,parent_id:null!=t?t:void 0});if(y)if("projects"===y.type){var i;y.sourceFolderId&&await k.mutateAsync({folderId:y.sourceFolderId,projectIds:y.ids,movingToFolderId:e.id});let r=await N.mutateAsync({folderId:e.id,projectIds:y.ids});if((null==r||null==(i=r.skipped_projects)?void 0:i.length)>0)(0,h.lM)(r,"Added");else{let e=y.ids.length;s.toast.success("Added ".concat(e," project").concat(1!==e?"s":""," to folder"))}}else"folder"===y.type&&await _.mutateAsync({folderId:y.id,data:{parent_id:e.id}});b.push("/dashboard/projects/folders/".concat(e.id)),z(""),M(void 0),A(g.N.Personal),F(null),r()}catch(e){s.toast.error("Failed to create folder. Please try again.")}finally{Q(!1)}};return(0,a.jsx)(m.Cf,{className:"!w-[420px] !max-w-[420px] p-6",size:"sm",children:(0,a.jsxs)("form",{onSubmit:B,children:[(0,a.jsxs)(m.c7,{className:"mb-5",children:[(0,a.jsx)(m.L3,{className:"text-2xl",children:q?"Create subfolder":"Create folder"}),(0,a.jsx)(m.rr,{className:"text-sm",children:D?"projects"===y.type?"Create a folder and add ".concat(1===y.ids.length?"the project":"".concat(y.ids.length," projects")," to it"):"Create a folder and add the folder to it":q?(0,a.jsxs)(a.Fragment,{children:['Create a subfolder inside "',(0,a.jsx)("span",{translate:"no",children:c}),'"']}):"Group related projects together"})]}),(0,a.jsxs)("div",{className:"mb-6 space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(o.y,{color:E,onChange:M}),(0,a.jsx)(p.p,{id:"name",value:P,onChange:e=>{let r=e.target.value;z(r);let t=(0,x.S)(r);F(t.isValid?null:t.error||null)},placeholder:"e.g. Side Projects",maxLength:x.p,required:!0,autoFocus:!0,className:"h-11 !rounded-xl pl-12 text-base ".concat(I?"border-red-500":"")})]}),I&&(0,a.jsx)("p",{className:"text-sm text-red-500",children:I}),!I&&P.length>.8*x.p&&(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:[P.length,"/",x.p," characters"]}),V&&(0,a.jsx)("p",{className:"text-sm text-destructive-primary",children:V})]}),(0,a.jsx)(d.M,{value:S,onChange:A,disabled:q,disabledMessage:q?"Subfolder inherits visibility from the parent folder.":void 0})]}),(0,a.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,a.jsx)(u.$,{type:"button",variant:"outline",onClick:()=>{z(""),M(void 0),A(g.N.Personal),F(null),r()},disabled:O,className:"flex-1 border-border hover:border-border hover:bg-muted-active",children:"Cancel"}),(0,a.jsx)(u.$,{type:"submit",disabled:!P.trim()||!!I||!!V||O,className:"flex-1",loading:O,children:O?"Creating":"Create"})]})]})})}},375896:(e,r,t)=>{t.d(r,{cn:()=>n,g:()=>s});var a=t(137221),i=t(742893);function n(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,i.Q)((0,a.$)(r))}function s(e){return!e||e.startsWith("http://")||e.startsWith("https://")?e:"https://".concat(e)}},378684:(e,r,t)=>{t.d(r,{Fd:()=>y,HP:()=>x,Si:()=>g,Xn:()=>v,Zi:()=>w,_U:()=>b,bJ:()=>k,eJ:()=>j,gV:()=>N,ow:()=>h});var a=t(134472),i=t(715429),n=t(183031),s=t(400282),l=t(83245),o=t(174423),d=t(926206),c=t(630298),u=t(135345),m=t(640715),p=t(262639);let v={all:["folders"],lists:()=>[...v.all,"list"],list:e=>[...v.lists(),e],projectsInFolder:(e,r)=>[...v.all,"projects",e,r]};function f(e,r){return"conflict"===e.type&&409===e.status?e.message||"A folder with this name already exists":e.details||e.message||r}function h(e){var r;let t=(0,p.I4)({queryKey:v.list(null!=e?e:""),queryFn:()=>e?(0,o.BX)(e):Promise.resolve([]),permission:m.eZ.ViewWorkspaceFolders,enabled:!!e});return{folders:null!=(r=t.data)?r:[],isLoading:t.isLoading,error:t.error,refetch:t.refetch}}function g(e){let r=(0,a.jE)();return(0,i.n)({mutationFn:r=>{if(!e)throw Error("Workspace ID is required");return(0,o.vV)(e,r)},onSuccess:t=>{l.toast.success("Folder created successfully"),e&&(r.setQueryData(v.list(e),e=>[...null!=e?e:[],t]),r.invalidateQueries({queryKey:v.list(e)}))},onError:e=>{let r=f(e,"Failed to create folder");l.toast.error(r)}})}function x(e){let r=(0,a.jE)(),t=e?v.list(e):null;return(0,i.n)({mutationFn:r=>{let{folderId:t,data:a}=r;if(!e)throw Error("Workspace ID is required");return(0,o.g$)(e,t,a)},onMutate:async e=>{let{folderId:a,data:i}=e;if(!t)return;await r.cancelQueries({queryKey:t});let n=r.getQueryData(t);return r.setQueryData(t,e=>e?e.map(e=>e.id!==a?e:{...e,...i.name&&{name:i.name},...void 0!==i.color&&{color:i.color},...void 0!==i.parent_id&&{parent_id:i.parent_id||void 0},...void 0!==i.visibility&&{visibility:i.visibility}}):e),{previousFolders:n}},onSuccess:()=>{l.toast.success("Folder updated successfully")},onError:(e,a,i)=>{t&&(null==i?void 0:i.previousFolders)&&r.setQueryData(t,i.previousFolders);let n=f(e,"Failed to update folder");l.toast.error(n)},onSettled:(a,i,n)=>{let{data:s}=n;t&&r.invalidateQueries({queryKey:t}),e&&void 0!==s.visibility&&(r.invalidateQueries({queryKey:c.workspaceKeys.projectsBase(e)}),r.invalidateQueries({queryKey:c.workspaceKeys.searchProjectsBase(e)}),r.invalidateQueries({queryKey:["project-folder"]}))}})}function y(e){let r=(0,a.jE)(),t=(0,s.useRouter)();return(0,i.n)({mutationFn:r=>{if(!e)throw Error("Workspace ID is required");return(0,o.sE)(e,r,!0)},onSuccess:()=>{if(l.toast.success("Folder deleted successfully"),e){let a=r.getQueryData(v.list(e));a&&1===a.length&&t.push("/dashboard/projects"),r.invalidateQueries({queryKey:v.list(e)}),r.invalidateQueries({queryKey:c.workspaceKeys.projectsBase(e)}),r.invalidateQueries({queryKey:c.workspaceKeys.searchProjectsBase(e)}),r.invalidateQueries({queryKey:["project-folder"]})}},onError:e=>{l.toast.error(e.message||"Failed to delete folder")}})}function b(e){let r=(0,a.jE)();return(0,i.n)({mutationFn:r=>{let{folderId:t,projectIds:a}=r;if(!e)throw Error("Workspace ID is required");return(0,o.td)(e,t,a)},onMutate:async t=>{let{folderId:a,projectIds:i}=t;if(!e)return;r.setQueryData(v.projectsInFolder(e,a),e=>[...null!=e?e:[],...i]);let n=r.getQueryData(v.list(e)),s=null==n?void 0:n.find(e=>e.id===a),l=(null==s?void 0:s.visibility)===u.N.Personal?"draft":(null==s?void 0:s.visibility)===u.N.Workspace?"private":void 0;r.setQueriesData({queryKey:c.workspaceKeys.projectsBase(e)},e=>(null==e?void 0:e.projects)?{...e,projects:e.projects.map(e=>i.includes(e.id)?{...e,folder_id:a,...l&&{visibility:l}}:e)}:e)},onError:e=>{l.toast.error(e.message||"Failed to add projects to folder")},onSettled:(t,a,i)=>{if(e)for(let t of(r.invalidateQueries({queryKey:v.projectsInFolder(e,i.folderId)}),r.invalidateQueries({queryKey:c.workspaceKeys.projectsBase(e)}),r.invalidateQueries({queryKey:c.workspaceKeys.searchProjectsBase(e)}),i.projectIds))r.invalidateQueries({queryKey:["project-folder",e,t]})}})}function j(e){let r=(0,a.jE)();return(0,i.n)({mutationFn:r=>{let{folderId:t,projectIds:a}=r;if(!e)throw Error("Workspace ID is required");return(0,o.lV)(e,t,a)},onMutate:async t=>{let{folderId:a,projectIds:i,movingToFolderId:n}=t;if(!e)return;r.setQueryData(v.projectsInFolder(e,a),e=>(null!=e?e:[]).filter(e=>!i.includes(e))),r.setQueriesData({queryKey:c.workspaceKeys.projectsBase(e)},e=>(null==e?void 0:e.projects)?{...e,projects:e.projects.map(e=>i.includes(e.id)?{...e,folder_id:n}:e)}:e);let s=new Set(i);r.setQueriesData({queryKey:c.workspaceKeys.searchProjectsBase(e),predicate:e=>e.queryKey.includes(a)},e=>{if(!(null==e?void 0:e.pages))return e;let r=0,t=e.pages.map(e=>{let t=e.projects.filter(e=>!s.has(e.id));return r+=e.projects.length-t.length,{...e,projects:t}});return{...e,pages:t.map(e=>({...e,total:Math.max(0,e.total-r)}))}})},onError:e=>{l.toast.error(e.message||"Failed to remove projects from folder")},onSettled:(t,a,i)=>{if(e)for(let t of(r.invalidateQueries({queryKey:v.projectsInFolder(e,i.folderId)}),r.invalidateQueries({queryKey:c.workspaceKeys.projectsBase(e)}),r.invalidateQueries({queryKey:c.workspaceKeys.searchProjectsBase(e)}),i.projectIds))r.invalidateQueries({queryKey:["project-folder",e,t]})}})}function w(e,r){var t;let a=(0,n.I)({queryKey:v.projectsInFolder(null!=e?e:"",null!=r?r:""),queryFn:()=>e&&r?(0,o.Yd)(e,r):Promise.resolve([]),enabled:!!e&&!!r});return{projectIds:null!=(t=a.data)?t:[],isLoading:a.isLoading,error:a.error,refetch:a.refetch}}function N(e){let r=(0,a.jE)();return(0,i.n)({mutationFn:async r=>{let{folderIds:t,parentId:a}=r;if(!e)throw Error("Workspace ID is required");let i=(0,d.Pg)();await i.put("/user/preferences/folder-order",{workspace_id:e,parent_id:null!=a?a:"root",folder_ids:t})},onMutate:async t=>{let{folderIds:a,parentId:i}=t;if(!e)return;let n=v.list(e);await r.cancelQueries({queryKey:n});let s=r.getQueryData(n);return r.setQueryData(n,e=>{if(!e)return e;let r=e.filter(e=>{var r;return(null!=(r=e.parent_id)?r:null)===i}),t=e.filter(e=>{var r;return(null!=(r=e.parent_id)?r:null)!==i}),n=new Set(a),s=new Map(r.map(e=>[e.id,e])),l=[];for(let e of a){let r=s.get(e);r&&l.push(r)}return[...l,...r.filter(e=>!n.has(e.id)),...t]}),{previousFolders:s}},onError:(t,a,i)=>{e&&(null==i?void 0:i.previousFolders)&&r.setQueryData(v.list(e),i.previousFolders),l.toast.error("Failed to reorder folders")},onSettled:()=>{e&&r.invalidateQueries({queryKey:v.list(e)})}})}function k(e,r,t){let a=e.findIndex(e=>e.id===r);if(-1===a||a===t||a+1===t)return null;let i=[...e],[n]=i.splice(a,1);return i.splice(t>a?t-1:t,0,n),i}},399390:(e,r,t)=>{t.d(r,{Q:()=>j});var a=t(20097),i=t(325413),n=t(488381),s=t(506286),l=t(71071),o=t(372311),d=t(313259),c=t(480695),u=t(758742),m=t(249687),p=t(266803),v=t(168954),f=t(378684),h=t(174423),g=t(639900),x=t(135345),y=t(375896),b=t(640715);function j(e){var r,t;let{folder:j,open:w,onOpenChange:N}=e,k=(0,n.j4)(e=>e.currentWorkspace),{folders:_,isLoading:C}=(0,f.ow)(null==k?void 0:k.id),P=(0,f.HP)(null==k?void 0:k.id),{permitted:z}=(0,s.J)(b.eZ.UpdateFolders),[E,M]=(0,i.useState)(null!=(r=j.parent_id)?r:null),[S,A]=(0,i.useState)(!1);(0,i.useEffect)(()=>{if(w){var e;M(null!=(e=j.parent_id)?e:null),A(!1)}},[w,j.parent_id]);let I=(0,i.useMemo)(()=>_?(0,g.RU)(j.id,_):0,[_,j.id]),F=(0,i.useMemo)(()=>{if(!_)return[];let e=new Set,r=t=>{e.add(t),_.filter(e=>e.parent_id===t).forEach(e=>r(e.id))};return r(j.id),_.filter(r=>!e.has(r.id)).map(e=>{let r=(0,g.u)(e.id,_)+1+I>h.eE;return{...e,disabled:r}})},[_,j.id,I]),O=1+I<=h.eE,Q=E!==(null!=(t=j.parent_id)?t:null),q=(0,i.useMemo)(()=>E?null==_?void 0:_.find(e=>e.id===E):null,[E,_]),D=(0,i.useMemo)(()=>!!q&&q.visibility!==j.visibility,[q,j.visibility]),K=(0,i.useMemo)(()=>_?(0,g.NE)(j.id,_):0,[_,j.id]),L=async()=>{if(z&&Q){if(D&&!S)return void A(!0);await P.mutateAsync({folderId:j.id,data:{parent_id:null!=E?E:""}}),N(!1)}},V=e=>{M(e),A(!1)};return(0,a.jsx)(c.lG,{open:w,onOpenChange:N,children:(0,a.jsxs)(c.Cf,{className:"sm:max-w-[425px]",children:[(0,a.jsxs)(c.c7,{children:[(0,a.jsx)(c.L3,{children:"Move folder"}),(0,a.jsxs)(c.rr,{children:['Select where to move "',(0,a.jsx)("span",{translate:"no",children:j.name}),'". Choose a parent folder or move it to the root level.']})]}),(0,a.jsx)("div",{className:"py-4",children:C?(0,a.jsx)("div",{className:"space-y-2",children:[void 0,void 0,void 0].map((e,r)=>(0,a.jsx)(v.E,{className:"h-10 w-full"},r))}):(0,a.jsxs)("div",{className:"max-h-[300px] space-y-2 overflow-y-auto",children:[(0,a.jsxs)("div",{className:(0,y.cn)("flex items-center gap-3 rounded-lg border p-3 transition-colors",O?"cursor-pointer hover:bg-muted-active":"cursor-not-allowed opacity-50",null===E&&O&&"border-primary bg-primary/5"),onClick:()=>O&&V(null),children:[(0,a.jsx)(p.f,{size:"small",className:"text-muted-foreground"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:"Root level (no parent)"}),!O&&(0,a.jsx)(o.E,{variant:"secondary",className:"ml-auto text-xs",children:"Too deep"}),O&&null===j.parent_id&&null===E&&(0,a.jsx)(o.E,{variant:"secondary",className:"ml-auto text-xs",children:"Current"})]}),F.map(e=>{let r=E===e.id,t=j.parent_id===e.id,i=e.disabled;return(0,a.jsxs)("div",{className:(0,y.cn)("flex items-center gap-3 rounded-lg border p-3 transition-colors",i?"cursor-not-allowed opacity-50":"cursor-pointer hover:bg-muted-active",r&&!i&&"border-primary bg-primary/5",e.color&&r&&!i&&"border-2"),onClick:()=>!i&&V(e.id),style:{borderColor:e.color&&r&&!i?e.color:void 0},children:[e.visibility===x.N.Personal?(0,a.jsx)(m.B,{size:"small",className:e.color?"flex-shrink-0":"text-muted-foreground",style:e.color?{color:e.color}:void 0}):(0,a.jsx)(u.s,{size:"small",className:e.color?"flex-shrink-0":"text-muted-foreground",style:e.color?{color:e.color}:void 0}),(0,a.jsx)("span",{className:"truncate text-sm font-medium",translate:"no",children:e.name}),i&&(0,a.jsx)(o.E,{variant:"secondary",className:"ml-auto flex-shrink-0 text-xs",children:"Too deep"}),!i&&t&&r&&(0,a.jsx)(o.E,{variant:"secondary",className:"ml-auto flex-shrink-0 text-xs",children:"Current"})]},e.id)}),0===F.length&&(0,a.jsx)("div",{className:"py-4 text-center text-sm text-muted-foreground",children:"No other folders available to move into"})]})}),S&&q&&(0,a.jsx)(l.D,{folder:j,targetVisibility:q.visibility,descendantCount:K}),(0,a.jsxs)(c.Es,{children:[(0,a.jsx)(d.$,{variant:"outline",onClick:()=>N(!1),disabled:P.isPending,children:"Cancel"}),(0,a.jsx)(d.$,{onClick:L,disabled:!Q,loading:P.isPending,loadingText:"Moving...",children:S?"Confirm":"Move folder"})]})]})})}},412753:(e,r,t)=>{t.d(r,{z:()=>s});var a=t(20097),i=t(381222),n=t(640009);let s=e=>{var r;let{isInteractive:t=!1,className:s,workspace:l,shape:o,...d}=e,c=(0,n.Q)(null==l?void 0:l.id),u=null==l?void 0:l.name,m=null!=(r=null==l?void 0:l.image_url)?r:void 0;return(0,a.jsx)(i._,{name:u,isInteractive:t,photoSrc:m,userColor:c,className:s,isWorkspace:!0,shape:o,...d})}},413332:(e,r,t)=>{t.d(r,{S:()=>d});var a=t(20097),i=t(47579),n=t(325413),s=t(375896),l=t(630005),o=t(667773);let d=n.forwardRef((e,r)=>{let{className:t,checked:n,...d}=e;return(0,a.jsx)(i.bL,{ref:r,checked:n,className:(0,s.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow data-[state=checked]:bg-primary data-[state=indeterminate]:bg-primary data-[state=checked]:text-primary-foreground data-[state=indeterminate]:text-primary-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",t),...d,children:(0,a.jsx)(i.C1,{className:(0,s.cn)("flex items-center justify-center text-current"),children:"indeterminate"===n?(0,a.jsx)(l.T,{size:"xsmall"}):(0,a.jsx)(o.t,{size:"xsmall"})})})});d.displayName=i.bL.displayName},440460:(e,r,t)=>{t.d(r,{o:()=>i});var a=t(178427);let i=(0,t(780493).w)(a.A,"FileIcon")},442098:(e,r,t)=>{t.d(r,{p:()=>k});var a=t(20097),i=t(325413),n=t(83245),s=t(616962),l=t(308102),o=t(289965),d=t(19733),c=t(372311),u=t(313259),m=t(413332),p=t(480695),v=t(888047),f=t(536079),h=t(92968),g=t(631325),x=t(243244),y=t(378684),b=t(639900),j=t(552790),w=t(135345),N=t(612466);function k(e){let{open:r,onOpenChange:t,folderId:c,workspaceId:v,availableProjects:f,totalProjectCount:h}=e,[k,C]=(0,i.useState)([]),[P,z]=(0,i.useState)(""),E=(0,y._U)(v),M=(0,j.pP)(),{folders:S}=(0,y.ow)(v),A=null==S?void 0:S.find(e=>e.id===c),I=(0,l.V)({workspaceId:v,pageSize:50,folderId:"none",enabled:r&&M}),F=M?I.searchQuery:P,O=M?I.setSearchQuery:z,Q=(0,i.useMemo)(()=>{if(M){var e;return null!=(e=I.projects)?e:[]}let r=null!=f?f:[],t=P.toLowerCase();return r.filter(e=>{var r,a;let i=(null==(r=e.name)?void 0:r.toLowerCase().includes(t))||(null==(a=e.display_name)?void 0:a.toLowerCase().includes(t));return!e.folder_id&&i})},[M,I.projects,f,P]),q=M?I.total:null!=h?h:0,D=M&&I.isLoading,K=(0,i.useRef)(new Map),L=(0,i.useMemo)(()=>k.map(e=>K.current.get(e)).filter(e=>void 0!==e),[k]),V=(0,i.useMemo)(()=>A&&0!==L.length?L.map(e=>{var r;return null!=(r=e.visibility)?r:void 0}):[],[A,L]),B=(0,i.useMemo)(()=>{if(!A||0===V.length)return!1;let e=A.visibility===w.N.Personal?N.Lu.Draft:N.Lu.Private;return V.some(r=>r&&r!==e)},[A,V]),W=(0,i.useMemo)(()=>(0,x.Q)(L),[L]),T=(0,x.F)({folder:null!=A?A:void 0,projectVisibilities:V,projectOwnerIds:W,enabled:B}),R=async()=>{if(0!==k.length)try{var e;let r=await E.mutateAsync({folderId:c,projectIds:k});(null==(e=r.skipped_projects)?void 0:e.length)>0?(0,b.lM)(r,"Added"):r.total_added>0&&n.toast.success("Added ".concat(r.total_added," project").concat(1!==r.total_added?"s":""," to folder")),C([]),K.current.clear(),O(""),t(!1)}catch(e){}},H=(0,i.useCallback)(e=>{C(r=>{if(r.includes(e))return K.current.delete(e),r.filter(r=>r!==e);let t=Q.find(r=>r.id===e);return t&&K.current.set(e,t),[...r,e]})},[Q]),$=()=>{C([]),K.current.clear(),O(""),t(!1)};return(0,a.jsx)(p.lG,{open:r,onOpenChange:$,children:(0,a.jsxs)(p.Cf,{className:"sm:max-w-[540px]",children:[(0,a.jsxs)(p.c7,{children:[(0,a.jsx)(p.L3,{children:"Add projects to folder"}),(0,a.jsx)(p.rr,{children:"Select projects to add to this folder. A project can only be in one folder at a time."})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsx)(g.p,{placeholder:"Search projects...",value:F,onChange:e=>O(e.target.value),className:"w-full"}),(0,a.jsx)("div",{className:"max-h-[300px] overflow-y-auto",children:D?(0,a.jsx)("p",{className:"py-8 text-center text-muted-foreground",children:"Loading projects..."}):0===Q.length?(0,a.jsx)("p",{className:"py-8 text-center text-muted-foreground",children:F?"No projects found matching your search":0===q?"No projects in this workspace yet":"All projects are already in a folder"}):(0,a.jsx)("div",{className:"space-y-2",children:Q.map(e=>(0,a.jsxs)("div",{className:"grid cursor-pointer grid-cols-[64px_1fr_20px] items-center gap-3 rounded-lg border p-3 transition-all ".concat(k.includes(e.id)?"border-primary bg-primary/5 ring-1 ring-primary/20":"border-border hover:bg-muted-active"),onClick:()=>H(e.id),children:[(0,a.jsx)(s.J,{project:e,className:"h-10 w-16",imageClassName:"border-none"}),(0,a.jsxs)("div",{className:"overflow-hidden",children:[(0,a.jsxs)("div",{className:"flex min-w-0 items-center gap-1.5",children:[(0,a.jsx)("h4",{className:"min-w-0 truncate text-sm font-medium",translate:"no",children:e.display_name||e.name}),(0,a.jsx)(_,{visibility:e.visibility})]}),e.display_name&&e.name&&(0,a.jsx)("p",{className:"truncate text-xs text-muted-foreground",translate:"no",children:e.name})]}),(0,a.jsx)(m.S,{checked:k.includes(e.id),onCheckedChange:()=>H(e.id),onClick:e=>e.stopPropagation(),className:"h-4 w-4"})]},e.id))})})]}),A&&B&&k.length>0&&(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d.J,{folderVisibility:A.visibility,projectVisibilities:V}),T&&(0,a.jsx)(o.$,{diff:T,folderVisibility:A.visibility,maxVisible:3})]}),(0,a.jsxs)(p.Es,{children:[(0,a.jsx)(u.$,{variant:"outline",onClick:$,children:"Cancel"}),(0,a.jsx)(u.$,{onClick:R,disabled:0===k.length||E.isPending,loading:E.isPending,loadingText:"Adding...",children:B?"Confirm":"Add ".concat(k.length," project").concat(1!==k.length?"s":"")})]})]})})}function _(e){let{visibility:r}=e;return r===N.Lu.Public?(0,a.jsxs)(c.E,{variant:"outline",size:"sm",className:"flex-shrink-0 gap-0.5",children:[(0,a.jsx)(v.f,{size:"xsmall"}),"Public"]}):r===N.Lu.Private?(0,a.jsxs)(c.E,{variant:"outline",size:"sm",className:"flex-shrink-0 gap-0.5",children:[(0,a.jsx)(f.X,{size:"xsmall"}),"Private"]}):r===N.Lu.Draft?(0,a.jsxs)(c.E,{variant:"outline",size:"sm",className:"flex-shrink-0 gap-0.5",children:[(0,a.jsx)(h.a,{size:"xsmall"}),"Draft"]}):null}},443377:(e,r,t)=>{t.r(r),t.d(r,{default:()=>s});var a,i=t(325413);function n(){return(n=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var a in t)({}).hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e}).apply(null,arguments)}let s=function(e){return i.createElement("svg",n({xmlns:"http://www.w3.org/2000/svg",width:48,height:48,viewBox:"0 -960 960 960"},e),a||(a=i.createElement("path",{d:"M480-80q-84 0-157-31t-127-85-85-127-31-157 31-157 85-127 127-85 157-31q12 0 21 9t9 21-9 21-21 9q-141 0-240.5 99.5T140-480t99.5 240.5T480-140t240.5-99.5T820-480q0-12 9-21t21-9 21 9 9 21q0 84-31 157t-85 127-127 85-157 31"})))}},456668:(e,r,t)=>{t.d(r,{Q:()=>o});var a=t(20097),i=t(313259),n=t(480695),s=t(17308),l=t(135345);function o(e){let{open:r,onOpenChange:t,folderName:o,onConfirm:d,isDeleting:c=!1,subfolderCount:u=0,folderVisibility:m}=e,p=u>0;return(0,a.jsx)(n.lG,{open:r,onOpenChange:t,children:(0,a.jsxs)(n.Cf,{className:"!w-[400px] !max-w-[400px] p-6",size:"sm",children:[(0,a.jsxs)(n.c7,{className:"mb-2",children:[(0,a.jsx)(n.L3,{className:"text-2xl",children:"Delete folder"}),(0,a.jsxs)(n.rr,{className:"text-sm",children:['Are you sure you want to delete "',(0,a.jsx)("span",{translate:"no",children:o}),'"?',(0,a.jsx)("br",{}),!p&&"Projects won't be deleted, only the folder."]})]}),p&&(0,a.jsxs)("div",{className:"mb-4 flex items-start gap-3 rounded-lg border border-destructive-primary/50 bg-destructive-primary/10 p-3",children:[(0,a.jsx)(s.Y,{size:"small",className:"mt-0.5 flex-shrink-0 text-destructive-primary"}),(0,a.jsxs)("div",{className:"text-sm",children:[(0,a.jsxs)("p",{className:"font-medium text-destructive-primary",children:["This will also delete ",u," subfolder",u>1?"s":""]}),(0,a.jsx)("p",{className:"mt-1 text-muted-foreground",children:"All nested folders will be permanently removed. Projects inside them will be kept."})]})]}),m&&(0,a.jsxs)("div",{className:"mb-4 flex items-start gap-3 rounded-lg border border-warning bg-warning p-3 text-sm text-warning-foreground",children:[(0,a.jsx)(s.Y,{size:"small",className:"mt-0.5 flex-shrink-0"}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{className:"font-medium",children:["Projects will keep their"," ",(0,a.jsx)("strong",{className:"font-semibold",children:m===l.N.Personal?"restricted":"workspace"})," ","visibility"]}),(0,a.jsx)("p",{className:"mt-1 opacity-80",children:m===l.N.Personal?"They wonâ€™t be accessible to other workspace members unless moved.":"They will remain accessible to other workspace members unless moved."})]})]}),(0,a.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,a.jsx)(i.$,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:c,className:"flex-1 border-border hover:border-border hover:bg-muted/50",children:"Cancel"}),(0,a.jsx)(i.$,{type:"button",intent:"destructive",onClick:d,disabled:c,className:"flex-1",loading:c,children:c?"Deleting":p?"Delete all":"Delete"})]})]})})}},485544:(e,r,t)=>{t.d(r,{G:()=>i});var a=t(253815);let i=(0,t(780493).w)(a.A,"ProjectsIcon")},500924:(e,r,t)=>{t.d(r,{A:()=>s});var a,i=t(325413);function n(){return(n=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var a in t)({}).hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e}).apply(null,arguments)}let s=function(e){return i.createElement("svg",n({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},e),a||(a=i.createElement("path",{fill:"currentColor",d:"m18.25 8.939-4.933-3.562a2.25 2.25 0 0 0-2.635 0L5.75 8.94V17A2.25 2.25 0 0 0 8 19.25h8A2.25 2.25 0 0 0 18.25 17zM15 15.25a.75.75 0 0 1 0 1.5H9a.75.75 0 0 1 0-1.5zM19.75 17A3.75 3.75 0 0 1 16 20.75H8A3.75 3.75 0 0 1 4.25 17v-6.977l-.81.586a.751.751 0 0 1-.88-1.217L9.805 4.16a3.75 3.75 0 0 1 4.39 0l7.244 5.232a.751.751 0 0 1-.878 1.217l-.811-.586z"})))}},516858:(e,r,t)=>{t.d(r,{W:()=>i});var a=t(77205);let i=(0,t(780493).w)(a.default,"SearchIcon")},582308:(e,r,t)=>{t.d(r,{b:()=>n});var a=t(488381),i=t(834669);function n(){let{userData:e}=(0,i.u)(),r=(0,a.j4)(e=>e.currentWorkspace),t=(null==e?void 0:e.user_is_temporary_edu)===!0,n=(null==r?void 0:r.is_temporary_edu)===!0;return t||n}},618630:(e,r,t)=>{t.d(r,{v:()=>y});var a=t(20097),i=t(134472),n=t(325413),s=t(488381),l=t(289965),o=t(19733),d=t(697260),c=t(160970),u=t(313259),m=t(480695),p=t(631325),v=t(243244),f=t(378684),h=t(630298),g=t(135345),x=t(978642);function y(e){var r;let{folder:t,open:y,onOpenChange:b}=e,j=(0,i.jE)(),w=(0,s.j4)(e=>e.currentWorkspace),N=(0,f.HP)(null==w?void 0:w.id),{projectIds:k,isLoading:_}=(0,f.Zi)(null==w?void 0:w.id,t.id),{folders:C}=(0,f.ow)(null==w?void 0:w.id),P=null==C?void 0:C.find(e=>e.id===t.id),z=!!(null==P?void 0:P.parent_id),[E,M]=(0,n.useState)(t.name),[S,A]=(0,n.useState)(null!=(r=t.color)?r:void 0),[I,F]=(0,n.useState)(t.visibility||g.N.Personal),[O,Q]=(0,n.useState)(null);(0,n.useEffect)(()=>{var e;M(t.name),A(null!=(e=t.color)?e:void 0),F(t.visibility||g.N.Personal),Q(null)},[t]);let q=I!==(t.visibility||g.N.Personal),D=k.length>0||_,K=(0,n.useMemo)(()=>{var e;if(!q||!D)return[];let r=new Set(k),t=[];for(let[,a]of j.getQueriesData({queryKey:h.workspaceKeys.projectsBase(null!=(e=null==w?void 0:w.id)?e:"")})){if(0===r.size)break;if(null==a?void 0:a.projects)for(let e of a.projects)r.delete(e.id)&&t.push(e)}return t},[q,D,k,j,null==w?void 0:w.id]),L=(0,n.useMemo)(()=>{if(!q||!D)return[];let e=t.visibility===g.N.Personal?"draft":"private";if(0===K.length)return k.map(()=>e);let r=new Map(K.map(e=>[e.id,e.visibility]));return k.map(t=>{var a;return null!=(a=r.get(t))?a:e})},[K,q,D,k,t.visibility]),V=(0,n.useMemo)(()=>K.length>0?(0,v.Q)(K):(null==P?void 0:P.created_by)?[P.created_by]:[],[K,null==P?void 0:P.created_by]),B=(0,n.useMemo)(()=>{var e;if(q&&D)return{id:t.id,workspace_id:"",name:t.name,visibility:I,created_at:0,created_by:null!=(e=null==P?void 0:P.created_by)?e:"",updated_at:0}},[q,D,t,I,null==P?void 0:P.created_by]),W=(0,v.F)({folder:B,projectVisibilities:L,projectOwnerIds:V,enabled:q&&D}),T=async e=>{e.preventDefault();let r=(0,x.S)(E);if(!r.isValid)return void Q(r.error||"Invalid folder name");let a={};E.trim()!==t.name&&(a.name=E.trim()),S!==t.color&&(a.color=null!=S?S:void 0),I!==t.visibility&&(a.visibility=I),Object.keys(a).length>0&&await N.mutateAsync({folderId:t.id,data:a}),b(!1)};return(0,a.jsx)(m.lG,{open:y,onOpenChange:b,children:(0,a.jsx)(m.Cf,{className:"!w-[420px] !max-w-[420px] p-6",size:"sm",children:(0,a.jsxs)("form",{onSubmit:T,children:[(0,a.jsxs)(m.c7,{className:"mb-5",children:[(0,a.jsx)(m.L3,{className:"text-2xl",children:"Edit folder"}),(0,a.jsx)(m.rr,{className:"text-sm",children:"Make changes to your folder"})]}),(0,a.jsxs)("div",{className:"mb-6 space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(d.y,{color:S,onChange:A}),(0,a.jsx)(p.p,{id:"edit-name",value:E,onChange:e=>{let r=e.target.value;M(r);let t=(0,x.S)(r);Q(t.isValid?null:t.error||null)},placeholder:"e.g. Side Projects",maxLength:x.p,required:!0,autoFocus:!0,className:"h-11 !rounded-xl pl-12 text-base ".concat(O?"border-red-500":"")})]}),O&&(0,a.jsx)("p",{className:"text-sm text-red-500",children:O}),!O&&E.length>.8*x.p&&(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:[E.length,"/",x.p," characters"]})]}),(0,a.jsx)(c.M,{value:I,onChange:F,disabled:z,disabledMessage:"Visibility is inherited from the parent folder. Move to root to change."}),q&&D&&(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)(o.J,{folderVisibility:I,projectVisibilities:L}),W&&(0,a.jsx)(l.$,{diff:W,folderVisibility:I})]})]}),(0,a.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,a.jsx)(u.$,{variant:"outline",onClick:()=>{var e;M(t.name),A(null!=(e=t.color)?e:void 0),F(t.visibility||g.N.Personal),Q(null),b(!1)},disabled:N.isPending,className:"flex-1 border-border hover:border-border hover:bg-muted-active",children:"Cancel"}),(0,a.jsx)(u.$,{type:"submit",disabled:!E.trim()||!!O||N.isPending,className:"flex-1",loading:N.isPending,loadingText:"Saving",children:q&&D?"Confirm":"Save"})]})]})})})}},630005:(e,r,t)=>{t.d(r,{T:()=>i});var a=t(877067);let i=(0,t(780493).w)(a.A,"MinusMediumIcon")},774386:(e,r,t)=>{t.d(r,{B:()=>l});var a=t(20097),i=t(325413),n=t(124076),s=t(147682);function l(e){let{children:r,isMobile:t,onOpenChange:l,contextMenuContent:o,menuId:d}=e;return((0,i.useEffect)(()=>()=>{let{openMenuId:e,openMenuType:r,setOpenMenu:t}=s.n.getState();e===d&&"context"===r&&t(null,null)},[d]),t)?(0,a.jsx)(a.Fragment,{children:r}):(0,a.jsxs)(n.tz,{modal:!1,onOpenChange:l,children:[(0,a.jsx)(n.Rc,{asChild:!0,children:r}),(0,a.jsx)(n.Ip,{children:o})]})}},774672:(e,r,t)=>{t.d(r,{A:()=>s});var a,i=t(325413);function n(){return(n=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var a in t)({}).hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e}).apply(null,arguments)}let s=function(e){return i.createElement("svg",n({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},e),a||(a=i.createElement("path",{fill:"currentColor",d:"M5.03 9.271a7.5 7.5 0 0 0-1.142 2.297c-.084.28-.084.584 0 .864C4.994 16.106 8.44 18 12 18q.822 0 1.623-.135l1.258 1.258c-.94.25-1.913.377-2.88.377-4.048 0-8.207-2.175-9.55-6.636a3 3 0 0 1 0-1.728 9 9 0 0 1 1.504-2.939zM12 4.5c4.047 0 8.206 2.175 9.549 6.636a3 3 0 0 1 0 1.728 9 9 0 0 1-1.505 2.938l-1.074-1.075c.49-.666.883-1.43 1.143-2.295a1.5 1.5 0 0 0 0-.864C19.007 7.894 15.56 6 12 6c-.546 0-1.09.045-1.624.134l-1.259-1.26c.94-.25 1.915-.374 2.883-.374M2.47 2.47a.75.75 0 0 1 1.06 0l18 18a.75.75 0 1 1-1.06 1.06l-18-18a.75.75 0 0 1 0-1.06"})))}},775342:(e,r,t)=>{t.d(r,{A:()=>s});var a,i=t(325413);function n(){return(n=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var a in t)({}).hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e}).apply(null,arguments)}let s=function(e){return i.createElement("svg",n({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},e),a||(a=i.createElement("path",{fill:"currentColor",d:"M20.25 12c0-.425-.035-.843-.097-1.25h-3.517l-.333 1.992 1.727 1.728.068.076q.03.04.055.085l.915 1.622A8.2 8.2 0 0 0 20.25 12M12 3.75a8.2 8.2 0 0 0-4.176 1.135l.577.865h1.895A.747.747 0 0 1 11.75 6v.5a.75.75 0 0 1-.065.305l-2 4.5A.75.75 0 0 1 9 11.75H7.041l-.22.66 1.104 1.84H10.5a.75.75 0 0 1 .6.3l1.5 2a.75.75 0 0 1 .1.72l-1.15 2.966q.225.013.45.014a8.23 8.23 0 0 0 6.087-2.684l-1.192-2.11-1.925-1.926a.75.75 0 0 1-.21-.653l.5-3 .034-.13A.75.75 0 0 1 16 9.25h3.78A8.25 8.25 0 0 0 12 3.75M3.75 12a8.25 8.25 0 0 0 6.28 8.01l1.12-2.893-1.025-1.367H7.5a.75.75 0 0 1-.644-.364l-1.5-2.5a.75.75 0 0 1-.068-.623l.5-1.5a.75.75 0 0 1 .712-.513h2.013l1.333-3H8a.75.75 0 0 1-.624-.334l-.77-1.155A8.23 8.23 0 0 0 3.75 12m18 0a9.7 9.7 0 0 1-2.167 6.129A9.73 9.73 0 0 1 12 21.75a10 10 0 0 1-1.624-.135C5.764 20.842 2.25 16.832 2.25 12c0-5.385 4.365-9.75 9.75-9.75 4.641 0 8.523 3.242 9.509 7.584.158.697.241 1.422.241 2.166"})))}},780493:(e,r,t)=>{t.d(r,{w:()=>s,y:()=>n});var a=t(20097),i=t(375896);let n={xsmall:"size-3",small:"size-4",default:"size-5",large:"size-6",xlarge:"size-8","2xlarge":"size-10"};function s(e,r){let t=r=>{let{size:t="default",className:s,...l}=r;return(0,a.jsx)(e,{width:"100%",height:"100%",className:(0,i.cn)("shrink-0",n[t],s),fill:"currentColor",...l})};return t.displayName=r,t}},822534:(e,r,t)=>{t.d(r,{d:()=>i});var a=t(325413);function i(e,r){let[t,i]=(0,a.useState)(e);return(0,a.useEffect)(()=>{let t=setTimeout(()=>{i(e)},r);return()=>{clearTimeout(t)}},[e,r]),t}},843883:(e,r,t)=>{t.d(r,{E:()=>o,Q:()=>d});var a=t(20097),i=t(21696),n=t(488381),s=t(506286),l=t(637093);function o(e){let r=d(e);return r.allowed?(0,a.jsx)(a.Fragment,{children:e.children}):"loading"===r.reason&&e.loading?(0,a.jsx)(a.Fragment,{children:e.loading}):"no_permission_or_plan"===r.reason&&e.fallback?(0,a.jsx)(a.Fragment,{children:e.fallback}):null}let d=e=>{var r;let{permission:t,plans:a,shouldShow:o=!0,adminOnly:d=!1}=e,c=(0,n.j4)(e=>e.currentWorkspace),{isAuthenticated:u}=(0,i.Z2)(),m=(0,l.WW)(),{permissions:p,isLoading:v}=(0,s.S)(),f=!t||p.includes(t),h=null==(r=null==a?void 0:a.some(e=>{var r;return(null==c?void 0:c.plan)===e||(null==c||null==(r=c.plan)?void 0:r.startsWith(e))}))||r;return d&&!m?{allowed:!1,reason:"not_admin"}:t&&v?{allowed:!1,reason:"loading"}:o&&u?f&&h||m?{allowed:!0,reason:"can_access"}:{allowed:!1,reason:"no_permission_or_plan"}:{allowed:!1,reason:"not_allowed"}}},873298:(e,r,t)=>{t.d(r,{P:()=>a});let a=(0,t(602571).vt)(e=>({shouldShowReferralNotice:!1,setIsSuccessfulReferral:()=>e({shouldShowReferralNotice:!0})}))},877067:(e,r,t)=>{t.d(r,{A:()=>s});var a,i=t(325413);function n(){return(n=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var a in t)({}).hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e}).apply(null,arguments)}let s=function(e){return i.createElement("svg",n({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},e),a||(a=i.createElement("path",{fill:"currentColor",d:"M20 11a1 1 0 1 1 0 2H4a1 1 0 1 1 0-2z"})))}},879100:(e,r,t)=>{t.d(r,{aM:()=>a,xp:()=>i});let a=10,i=100},888047:(e,r,t)=>{t.d(r,{f:()=>i});var a=t(775342);let i=(0,t(780493).w)(a.A,"GlobeIcon")},902357:(e,r,t)=>{t.d(r,{y:()=>p});var a=t(20097),i=t(154724),n=t(375896);let s=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";return({xsmall:12,small:16,default:20,large:24,xlarge:32,"2xlarge":40})[e]},l=e=>{let{className:r,size:t,...s}=e;return(0,a.jsx)(i.o,{className:(0,n.cn)("animate-spin",r),size:t,...s})},o=e=>{let{className:r,size:t,...s}=e;return(0,a.jsx)(i.o,{className:(0,n.cn)("animate-spin",r),size:t,...s})},d=e=>{let{className:r,size:t,...s}=e;return(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"absolute inset-0 rotate-180",children:(0,a.jsx)(i.o,{className:(0,n.cn)("animate-spin",r,"text-foreground opacity-20"),size:t,...s})}),(0,a.jsx)(i.o,{className:(0,n.cn)("relative animate-spin",r),size:t,...s})]})},c=e=>{let{size:r,...t}=e,i=s(r);return(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:i,height:i,viewBox:"0 0 24 24",...t,children:[(0,a.jsx)("title",{children:"Loading..."}),(0,a.jsx)("circle",{cx:"4",cy:"12",r:"2",fill:"currentColor",children:(0,a.jsx)("animate",{id:"ellipsis1",begin:"0;ellipsis3.end+0.25s",attributeName:"cy",calcMode:"spline",dur:"0.6s",values:"12;6;12",keySplines:".33,.66,.66,1;.33,0,.66,.33"})}),(0,a.jsx)("circle",{cx:"12",cy:"12",r:"2",fill:"currentColor",children:(0,a.jsx)("animate",{begin:"ellipsis1.begin+0.1s",attributeName:"cy",calcMode:"spline",dur:"0.6s",values:"12;6;12",keySplines:".33,.66,.66,1;.33,0,.66,.33"})}),(0,a.jsx)("circle",{cx:"20",cy:"12",r:"2",fill:"currentColor",children:(0,a.jsx)("animate",{id:"ellipsis3",begin:"ellipsis1.begin+0.2s",attributeName:"cy",calcMode:"spline",dur:"0.6s",values:"12;6;12",keySplines:".33,.66,.66,1;.33,0,.66,.33"})})]})},u=e=>{let{size:r,...t}=e,i=s(r);return(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:i,height:i,viewBox:"0 0 44 44",stroke:"currentColor",...t,children:[(0,a.jsx)("title",{children:"Loading..."}),(0,a.jsxs)("g",{fill:"none",fillRule:"evenodd",strokeWidth:"2",children:[(0,a.jsxs)("circle",{cx:"22",cy:"22",r:"1",children:[(0,a.jsx)("animate",{attributeName:"r",begin:"0s",dur:"1.8s",values:"1; 20",calcMode:"spline",keyTimes:"0; 1",keySplines:"0.165, 0.84, 0.44, 1",repeatCount:"indefinite"}),(0,a.jsx)("animate",{attributeName:"stroke-opacity",begin:"0s",dur:"1.8s",values:"1; 0",calcMode:"spline",keyTimes:"0; 1",keySplines:"0.3, 0.61, 0.355, 1",repeatCount:"indefinite"})]}),(0,a.jsxs)("circle",{cx:"22",cy:"22",r:"1",children:[(0,a.jsx)("animate",{attributeName:"r",begin:"-0.9s",dur:"1.8s",values:"1; 20",calcMode:"spline",keyTimes:"0; 1",keySplines:"0.165, 0.84, 0.44, 1",repeatCount:"indefinite"}),(0,a.jsx)("animate",{attributeName:"stroke-opacity",begin:"-0.9s",dur:"1.8s",values:"1; 0",calcMode:"spline",keyTimes:"0; 1",keySplines:"0.3, 0.61, 0.355, 1",repeatCount:"indefinite"})]})]})]})},m=e=>{let{size:r,...t}=e,i=s(r);return(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:i,height:i,viewBox:"0 0 24 24",...t,children:[(0,a.jsx)("title",{children:"Loading..."}),(0,a.jsx)("style",{children:"\n        .spinner-bar {\n          animation: spinner-bars-animation .8s linear infinite;\n          animation-delay: -.8s;\n        }\n        .spinner-bars-2 {\n          animation-delay: -.65s;\n        }\n        .spinner-bars-3 {\n          animation-delay: -0.5s;\n        }\n        @keyframes spinner-bars-animation {\n          0% {\n            y: 1px;\n            height: 22px;\n          }\n          93.75% {\n            y: 5px;\n            height: 14px;\n            opacity: 0.2;\n          }\n        }\n      "}),(0,a.jsx)("rect",{className:"spinner-bar",x:"1",y:"1",width:"6",height:"22",fill:"currentColor"}),(0,a.jsx)("rect",{className:"spinner-bar spinner-bars-2",x:"9",y:"1",width:"6",height:"22",fill:"currentColor"}),(0,a.jsx)("rect",{className:"spinner-bar spinner-bars-3",x:"17",y:"1",width:"6",height:"22",fill:"currentColor"})]})},p=e=>{let{variant:r="default",size:t,...i}=e;switch(r){case"default":return(0,a.jsx)(l,{size:t,...i});case"circle":return(0,a.jsx)(o,{size:t,...i});case"circle_filled":return(0,a.jsx)(d,{size:t,...i});case"ellipsis":return(0,a.jsx)(c,{size:t,...i});case"ring":return(0,a.jsx)(u,{size:t,...i});case"bars":return(0,a.jsx)(m,{size:t,...i})}}},950552:(e,r,t)=>{t.d(r,{u:()=>l});var a=t(20097),i=t(123723),n=t(673068),s=t(375896);function l(e){let{folder:r,children:t,disabled:l=!1}=e,{attributes:o,listeners:d,setNodeRef:c,isDragging:u}=(0,i.PM)({id:"draggable-folder-".concat(r.id),data:{type:n.X.FOLDER,folder:r},disabled:l}),{"aria-disabled":m,...p}=o;return(0,a.jsx)("div",{ref:c,...d,...p,onContextMenu:l?void 0:e=>e.preventDefault(),className:(0,s.cn)(u&&"touch-none opacity-50"),children:t})}}}]);