try{!function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="0772374b-655c-43f9-8dde-e9e1d24fe2b2",e._sentryDebugIdIdentifier="sentry-dbid-0772374b-655c-43f9-8dde-e9e1d24fe2b2")}()}catch(e){}"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[26206],{145010:(e,t,r)=>{r.d(t,{RootDialog:()=>d,b:()=>l,f:()=>c});var a=r(20097),s=r(325413),n=r(602571),o=r(480695);let i=(0,n.vt)(e=>({openDialog:null,setOpenDialog:t=>{e({openDialog:t})}}));function l(){i.getState().setOpenDialog(null)}function c(e){let t=i(e=>e.setOpenDialog);return(0,s.useCallback)(r=>{r?t({component:e,...r}):t(null)},[e,t])}let d=()=>{let e=i(e=>e.openDialog),t=i(e=>e.setOpenDialog);if((0,s.useEffect)(()=>{if(e){var t,r;null==(r=e.dialogProps)||null==(t=r.onOpen)||t.call(r)}},[e]),!e)return null;let{component:r,dialogProps:n,childProps:l}=e;return(0,a.jsx)(o.lG,{...n,open:!!e,onOpenChange:e=>{var r;e||t(null),null==n||null==(r=n.onOpenChange)||r.call(n,e)},children:(0,a.jsx)(r,{...l})})}},341393:(e,t,r)=>{function a(e){return e instanceof Error&&"number"==typeof e.status&&"data"in e&&"string"==typeof e.httpMethod}r.d(t,{NF:()=>a,uy:()=>n});class s{setResponseHandler(e){this.responseHandler=e}setErrorHandler(e){this.errorHandler=e}createUrl(e,t){let r,a="".concat(this.baseURL).concat(e);return r=this.baseURL.startsWith("/")?new URL(a,window.location.origin):new URL(a),t&&Object.entries(t).forEach(e=>{let[t,a]=e;null!=a&&r.searchParams.append(t,a)}),r.toString()}createRequestOptions(e,t,r){let a={...this.defaultHeaders,...null==t?void 0:t.headers};r instanceof FormData||(a["Content-Type"]="application/json");let s={method:e,headers:a,credentials:this.withCredentials?"include":"same-origin",signal:null==t?void 0:t.signal,cache:null==t?void 0:t.cache};return void 0===r||["GET","HEAD"].includes(e)||(r instanceof FormData?s.body=r:s.body=JSON.stringify(r)),s}async processResponse(e,t){return this.responseHandler?await this.responseHandler(e,t):e}async processError(e,t){throw this.errorHandler&&(e=await this.errorHandler(e,t)),e}async request(e,t,r,a){try{let s=this.createUrl(t,null==r?void 0:r.params),n=this.createRequestOptions(e,r,a),o=await fetch(s,n);if(!o.ok){let t=Error("Request failed with status ".concat(o.status));t.response=o,t.status=o.status,t.statusText=o.statusText,t.httpMethod=e;let r=o.clone();try{t.data=await r.json()}catch(e){t.data=await o.text()}return this.processError(t,o)}if(204===o.status||"0"===o.headers.get("Content-Length"))return this.processResponse({},o);let i=await o.json();return this.processResponse(i,o)}catch(e){return this.processError(e)}}async get(e,t){return this.request("GET",e,t)}async delete(e,t,r){return this.request("DELETE",e,r,t)}async head(e,t){return this.request("HEAD",e,t)}async post(e,t,r){return this.request("POST",e,r,t)}async postMultipart(e,t,r){return this.request("POST",e,r,t)}async put(e,t,r){return this.request("PUT",e,r,t)}async patch(e,t,r){return this.request("PATCH",e,r,t)}constructor(e,t={},r=!1){this.responseHandler=null,this.errorHandler=null,this.baseURL=e,this.defaultHeaders=t,this.withCredentials=r}}function n(e){return new s(e.baseURL,e.headers,e.withCredentials)}},365588:(e,t,r)=>{r.d(t,{L:()=>a});class a extends Error{constructor(e,t,r,a,s,n,o){super(t),this.type=e,this.details=r,this.status=a,this.traceId=s,this.rawErrors=n,this.props=o}}},480695:(e,t,r)=>{r.d(t,{Cf:()=>y,Es:()=>b,HM:()=>f,L3:()=>k,MV:()=>d,c7:()=>v,lG:()=>p,rr:()=>E,zM:()=>h});var a=r(20097),s=r(270792),n=r(325413),o=r(908399),i=r(608366),l=r(375896),c=r(745784);let d=(0,n.createContext)({allowNestedDialog:!0});d.displayName="DialogContext";let u=(0,n.createContext)({hideCloseButton:!1});u.displayName="DialogContentContext";let p=e=>{let{...t}=e;if(!(0,n.useContext)(d).allowNestedDialog){let e=Error("Dialogs must not be used inside of dropdowns or context menus. Look at RootDialog.tsx for a way to render a dialog using a hook or render the dialog above the dropdown or context menu");(0,o.v)("Dialog nesting violation",{error:e,severity:i.$.ERROR,location:"Dialog component"})}return(0,n.useEffect)(()=>()=>{document.body.style.pointerEvents=""},[]),(0,a.jsx)(s.bL,{...t,onOpenChange:e=>{var r;e||setTimeout(()=>{document.body.style.pointerEvents=""},250),null==(r=t.onOpenChange)||r.call(t,e)}})},h=s.l9,g=s.ZL,f=s.bm,m=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)(s.hJ,{ref:t,className:(0,l.cn)("fixed inset-0 z-[10000] bg-black/70 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",r),...n})});m.displayName=s.hJ.displayName;let w={sm:"md:max-w-sm",md:"md:max-w-lg",lg:"md:max-w-2xl",xl:"md:max-w-[1200px]","2xl":"md:max-w-[1440px]"},y=n.forwardRef((e,t)=>{let{className:r,children:n,hideCloseButton:o,closeButtonClassName:i,onClose:d,blurOverlay:p,blackoutOverlay:h,overlayClassName:f,size:y="md",...v}=e;return(0,a.jsxs)(g,{children:[(0,a.jsx)(m,{className:(0,l.cn)("[&_[data-radix-dialog-overlay]]:bg-black",p&&"backdrop-blur-sm",h&&"bg-background",f)}),(0,a.jsxs)(s.UC,{ref:t,className:(0,l.cn)("fixed left-1/2 top-1/2 z-[10000] grid w-full max-w-[98vw] -translate-x-1/2 -translate-y-1/2 gap-4 rounded-xl border bg-background p-6 shadow-modal duration-300 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-90 data-[state=open]:zoom-in-90 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:max-w-[95vw]",w[y],r),...v,children:[(0,a.jsx)(u.Provider,{value:{hideCloseButton:o},children:n}),!o&&(0,a.jsxs)(s.bm,{className:(0,l.cn)("absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",i),onClick:e=>{e.stopPropagation(),null==d||d()},children:[(0,a.jsx)(c.u,{}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});y.displayName=s.UC.displayName;let v=e=>{let{className:t,...r}=e,{hideCloseButton:s}=(0,n.useContext)(u);return(0,a.jsx)("div",{className:(0,l.cn)("flex flex-col space-y-1.5 text-left",!s&&"pe-10",t),...r})};v.displayName="DialogHeader";let b=e=>{let{className:t,fullWidthButtons:r,...s}=e;return(0,a.jsx)("div",{className:(0,l.cn)("flex flex-row justify-between gap-2 sm:justify-end [&>*]:w-full sm:[&>*]:w-auto",r&&"sm:[&>*]:w-full",t),...s})};b.displayName="DialogFooter";let k=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)(s.hE,{ref:t,className:(0,l.cn)("text-lg font-medium leading-none tracking-tight",r),...n})});k.displayName=s.hE.displayName;let E=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)(s.VY,{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",r),...n})});E.displayName=s.VY.displayName},485857:(e,t,r)=>{r.r(t),r.d(t,{default:()=>o});var a,s=r(325413);function n(){return(n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(null,arguments)}let o=function(e){return s.createElement("svg",n({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},e),a||(a=s.createElement("path",{fill:"currentColor",d:"M17.47 5.47a.75.75 0 1 1 1.06 1.06L13.06 12l5.47 5.47a.75.75 0 1 1-1.06 1.06L12 13.06l-5.47 5.47a.75.75 0 1 1-1.06-1.06L10.94 12 5.47 6.53a.75.75 0 1 1 1.06-1.06L12 10.94z"})))}},524103:(e,t,r)=>{r.d(t,{dA:()=>a.dA,fJ:()=>a.fJ,t9:()=>n}),r(629747);var a=r(994197);let s=["chrome","crios","android","edg","opr","fxios","samsungbrowser","ucbrowser"];function n(e){if("undefined"==typeof navigator)return!1;let t=null!=e?e:navigator.userAgent;if(!t)return!1;let r=t.toLowerCase();return!!r.includes("safari")&&!s.some(e=>r.includes(e))}},589708:(e,t,r)=>{r.d(t,{authEvents:()=>n});var a=r(434534);class s extends a.EventEmitter{emitAuthError(e){this.emit("auth:error",{pathname:e})}}let n=new s},611442:(e,t,r)=>{r.d(t,{G:()=>i,queryClient:()=>o});var a=r(20097),s=r(829427),n=r(134472);let o=new s.E({defaultOptions:{queries:{staleTime:3e5,gcTime:18e5,refetchOnMount:!0,refetchOnWindowFocus:!0}}}),i=e=>{let{children:t}=e;return(0,a.jsx)(n.Ht,{client:o,children:t})}},629747:(e,t,r)=>{r.d(t,{C5:()=>d,W_:()=>u,ib:()=>i,tu:()=>p});var a=r(728866),s=r(83245),n=r(96324);function o(e){return e&&"object"==typeof e?e:{}}function i(e){return!!e&&"object"==typeof e&&"auth/multi-factor-auth-required"===e.code}let l={"auth/email-already-in-use":"errors.emailAlreadyInUse","auth/too-many-requests":"errors.tooManyRequests","auth/invalid-login-credentials":"errors.invalidLoginCredentials","auth/popup-blocked":"errors.popupBlocked","auth/operation-not-allowed":"errors.operationNotAllowed","auth/account-exists-with-different-credential":"errors.accountExistsWithDifferentCredential","auth/invalid-credential":"errors.invalidCredential","auth/missing-password":"errors.missingPassword","auth/user-cancelled":"errors.userCancelled","auth/popup-closed-by-user":"errors.popupClosedByUser","auth/requires-recent-login":"errors.requiresRecentLogin","auth/user-mismatch":"errors.userMismatch","auth/invalid-verification-code":"errors.invalidVerificationCode","auth/invalid-verification-id":"errors.invalidVerificationId","auth/credential-already-in-use":"errors.credentialAlreadyInUse","auth/weak-password":"errors.weakPassword","auth/wrong-password":"errors.wrongPassword","auth/user-not-found":"errors.userNotFound","auth/network-request-failed":"errors.networkRequestFailed","auth/internal-error":"errors.internalError","auth/invalid-api-key":"errors.invalidApiKey","auth/app-deleted":"errors.appDeleted","auth/user-disabled":"errors.userDisabled","auth/user-token-expired":"errors.userTokenExpired","auth/web-storage-unsupported":"errors.webStorageUnsupported","auth/invalid-email":"errors.invalidEmail","auth/cancelled-popup-request":"errors.cancelledPopupRequest","auth/unauthorized-domain":"errors.unauthorizedDomain","auth/error-code:-47":"errors.errorCode47","auth/captcha-check-failed":"errors.captchaCheckFailed"};function c(e){let t=e;return(t=(t=(t=t.replace(/^Firebase:\s*/i,"")).replace(/\s*\(auth\/[\w-]+\)\.?$/i,"")).replace(/^auth\/[\w-]+\s*:\s*/i,"")).trim()}function d(e,t){let r=e instanceof a.g?o(e):e;if(r.error){let e=o(r.error);if("string"==typeof e.message)return c(e.message);if(Array.isArray(e.errors)&&e.errors.length>0){let t=o(e.errors[0]).message;return c("string"==typeof t?t:"SSO authentication failed")}}let s=o(r.customData);if(s.error){let e=o(s.error);if("string"==typeof e.message)return c(e.message);if(Array.isArray(e.errors)&&e.errors.length>0){let t=o(e.errors[0]).message;return c("string"==typeof t?t:"SSO authentication failed")}}let i="string"==typeof r.code?r.code:void 0,d="string"==typeof r.message?r.message:"";if("auth/weak-password"===i||"auth/weak_password"===i||d.includes("Missing password requirements")||d.includes("Password must contain")||d.includes("password requirements"))return function(e,t){let r=e.toLowerCase(),a=[];if((r.includes("at least 8 characters")||r.includes("8 characters"))&&a.push(t?t("errors.atLeast8Characters"):"at least 8 characters"),(r.includes("numeric character")||r.includes("number"))&&a.push(t?t("errors.aNumber"):"a number (0-9)"),(r.includes("non-alphanumeric character")||r.includes("special character"))&&a.push(t?t("errors.aSpecialCharacter"):"a special character (like !, @, #, $, etc.)"),(r.includes("uppercase letter")||r.includes("uppercase"))&&a.push(t?t("errors.anUppercaseLetter"):"an uppercase letter (A-Z)"),(r.includes("lowercase letter")||r.includes("lowercase"))&&a.push(t?t("errors.aLowercaseLetter"):"a lowercase letter (a-z)"),a.length>0){let e=t?t("errors.passwordMustContain"):"Password must contain";if(1===a.length)return"".concat(e," ").concat(a[0]);{if(2===a.length)return"".concat(e," ").concat(a[0]," and ").concat(a[1]);let t=a.pop(),r=a.join(", ");return"".concat(e," ").concat(r,", and ").concat(t)}}return t?t("errors.passwordValidationFailed"):"Password validation has failed. Try using a password with at least 8 characters and one number (0-9)."}(d,t);if(i){let e=l[i];if(e){if(t)try{let a="string"==typeof s.email?s.email:"string"==typeof r.email?r.email:void 0;return a?t(e,{email:a}):t(e)}catch(t){n.logging.warn("Failed to translate auth error message",{error:t,translationKey:e})}let a=i.replace(/^auth\//i,"").replace(/[-_]+/g," ");return a.charAt(0).toUpperCase()+a.slice(1)}}return c(d||"Authentication failed")}function u(e){return["auth/user-cancelled","auth/popup-closed-by-user","auth/cancelled-popup-request"].includes(e)}function p(e){let{error:t,title:r,description:n,onComplete:l,toastDuration:p=8e3,translate:h,skipMfaCheck:g=!1}=e;if(!g&&i(t))return{handled:!1,isMfaRequired:!0};let f=o(t),m="string"==typeof f.code?f.code:void 0;if(m&&u(m))return null==l||l(),{handled:!0,isMfaRequired:!1};let w=n;return t instanceof a.g||m||f.error||f.customData?w=d(f,h):t instanceof Error?w=c(t.message||n):t&&"object"==typeof t&&(w=d(f,h)),s.toast.error(r,{description:w,duration:p}),null==l||l(),{handled:!0,isMfaRequired:!1}}},630298:(e,t,r)=>{r.d(t,{AS:()=>m,BP:()=>h,O4:()=>d,QO:()=>a,T7:()=>f,ZK:()=>y,a$:()=>c,cm:()=>o,gO:()=>s,lH:()=>b,mp:()=>u,nq:()=>i,ns:()=>p,rj:()=>g,u_:()=>w,workspaceKeys:()=>n,yw:()=>l});let a={all:["permissions"],get:(e,t)=>[...a.all,e,t]},s={all:["projects"],details:()=>[...s.all,"detail"],detail:e=>[...s.details(),e],sharedWithMe:()=>[...s.all,"shared"],pendingProjectInvites:()=>[...s.all,"pending-invites"],accessRequests:e=>[...s.detail(e),"access-requests"],branches:e=>[...s.detail(e),"branches"],secretLinkId:e=>[...s.detail(e),"secret-link-id"],generatedName:e=>[...s.detail(e),"generated-name"],domains:e=>[...s.detail(e),"domains"],sourceCode:(e,t)=>[...s.detail(e),"source-code",t],accessibleProjects:e=>[...s.detail(e),"accessible-projects"],currentTheme:e=>[...s.detail(e),"current-theme"],commitDiff:(e,t)=>[...s.detail(e),"commit-diff",t],fileUrl:(e,t)=>[...s.detail(e),"file-url",t],feedbackStatus:e=>[...s.detail(e),"feedback-status"],presence:e=>[...s.detail(e),"presence"],userProjects:function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"updated_at",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"desc",n=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0;return[...s.all,"user-projects",e,t,r,a,n,o]},collaborators:e=>[...s.detail(e),"collaborators"],analytics:(e,t)=>[...s.detail(e),"analytics",t],analyticsTrend:e=>[...s.detail(e),"analytics-trend"],projectDetails:e=>[...s.detail(e),"details"],initialPrompt:e=>[...s.detail(e),"initial-prompt"],integrations:e=>[...s.detail(e),"integrations"],integration:(e,t)=>[...s.integrations(e),t],hooks:(e,t)=>[...s.detail(e),"hooks",t],remixPreflight:(e,t)=>[...s.detail(e),"remix-preflight",t],archivedMessages:(e,t)=>[...s.detail(e),"archived-messages",t],dependencies:{outdated:(e,t)=>[...s.detail(e),"dependencies","outdated",t]},queue:{status:e=>[...s.detail(e),"queue","status"]}},n={all:["workspaces"],totalProjects:e=>[...n.all,e,"total-projects"],projectsBase:e=>[...n.detail(e),"projects"],projects:e=>{let{workspaceId:t,userId:r,limit:a,isDraft:s=!1,visibility:o}=e;return[...n.detail(t),"projects",r,a,s?"draft":"published",o]},searchProjectsBase:e=>[...n.detail(e),"search-projects"],searchProjects:e=>[...n.detail(e.workspaceId),"search-projects",e.userId,e.visibility,e.publishStatus,e.folderId,e.query,e.sortBy,e.sortOrder],membership:(e,t)=>[...n.all,e,"membership",t],memberships:(e,t)=>{var r;return t?[...n.detail(e),"memberships",(null==t?void 0:t.query)||"",(null==t?void 0:t.status)||"all",(null==t||null==(r=t.roles)?void 0:r.join(","))||"",(null==t?void 0:t.limit)||20,(null==t?void 0:t.offset)||0,(null==t?void 0:t.sortBy)||"joined_at",(null==t?void 0:t.sortOrder)||"desc"]:[...n.detail(e),"memberships"]},detail:e=>[...n.all,e],detailByProjectId:e=>[...n.all,"details",e],supabaseOrganizations:(e,t)=>[...n.all,e,"supabase-organizations",t],pendingWorkspaceInvites:()=>[...n.all,"unaccepted-invites"],projectAccessRequests:e=>[...n.detail(e),"project-access-requests"],workspaceAccessRequests:e=>[...n.detail(e),"workspace-access-requests"],inviteUser:(e,t)=>[...n.all,e,"invite-user",t],workspaceRole:(e,t)=>[...n.all,e,"workspace-role",t],workspaceUsage:(e,t,r)=>[...n.all,e,"workspace-usage",t,r],workspaceUserTotalUsage:e=>[...n.all,e,"workspace-user-total-usage"],workspaceGithubInstallations:e=>[...n.all,e,"workspace-github-installations"],workspaceSlackInstallations:e=>[...n.all,e,"workspace-slack-installations"],referralCode:(e,t)=>[...n.all,e,"referral-code",t],referralCodeUsage:e=>[...n.all,e,"referral-code-usage"],workspaces:e=>{let{userId:t}=e;return[...n.all,t,"workspaces"]},templates:e=>[...n.detail(e),"templates"],connectorsOAuthStatus:(e,t)=>[...n.detail(e),"oauth-connectors",{integrations:t}],integrationOAuthStatus:(e,t)=>[...n.detail(e),"integrations",t,"oauth"],workspaceLovableCloudUsage:e=>[...n.all,e,"workspace-lovable-cloud-usage"],lovableCloudProjectUsageBreakdown:(e,t,r)=>[...n.all,e,"lovable-cloud-project-usage-breakdown",{limit:t,startAfter:r}],builderCount:e=>[...n.detail(e),"builder-count"],autoTopup:e=>[...n.detail(e),"auto-topup"],connections:e=>[...n.detail(e),"connections"],integrations:e=>[...n.detail(e),"integrations"],cloudGrantStatus:e=>[...n.detail(e),"cloud-grant-status"],aiGrantStatus:e=>[...n.detail(e),"ai-grant-status"],securitySummary:e=>[...n.detail(e),"security-summary"],pamWorkspaces:()=>[...n.all,"pam-workspaces"],pamEnterpriseWorkspaces:()=>[...n.all,"pam-enterprise-workspaces"],pamPresets:()=>[...n.all,"pam-presets"],connectorsCatalog:e=>[...n.detail(e),"connectors","catalog"],connectorConfig:(e,t)=>[...n.detail(e),"connectors","fields",t],connectionsList:e=>[...n.detail(e),"connections","list"],connectionCredentials:(e,t)=>[...n.detail(e),"connections","credentials",t],iapProducts:e=>[...n.detail(e),"iap-products"],groups:e=>[...n.detail(e),"groups"],groupMembers:(e,t)=>[...n.detail(e),"groups",t,"members"],auditLogs:(e,t)=>[...n.detail(e),"audit-logs",t]},o={all:["github"],installations:()=>[...o.all,"installations"],repoAccessibility:e=>[...o.all,"repo-accessibility",e],repos:e=>[...o.all,"repos",null==e?void 0:e.account.login,null==e?void 0:e.target_type]},i={userProficiencyLevel:["user-proficiency-level"],userLinkedinStatus:["user-linkedin-status"]},l={all:["referral"],validateCode:e=>[...l.all,"validate-code",e]},c={all:["users"],experimentalFeatures:()=>[...c.all,"experimental-features"],workspaces:()=>[...c.all,"workspaces"],workspace:e=>[...c.workspaces(),e],profile:e=>[...c.all,e],contributions:e=>[...c.all,"contributions",e],studentDomains:()=>[...c.all,"student-domains"],toolApprovalPreferences:()=>[...c.all,"preferences","tool-preferences"],usernameSuggestions:e=>[...c.all,"username-suggestions",null!=e?e:"user"],starredProjectsBase:()=>["starred-projects"],starredProjects:e=>[...c.starredProjectsBase(),e]},d={all:["email-observability"],runs:e=>[...d.all,"runs",e],run:(e,t)=>[...d.runs(e),t]},u={all:["cloud"],details:(e,t)=>[...u.all,e,t],info:(e,t)=>[...u.details(e,t),"info"],status:(e,t)=>[...u.details(e,t),"status"],emailPreview:(e,t,r)=>[...u.details(e,t),"email-preview",r],compute:(e,t)=>[...u.details(e,t),"compute"],logs:(e,t,r,a,s)=>[...u.details(e,t),"logs",r,a,s],secrets:(e,t)=>[...u.details(e,t),"secrets"],auth:(e,t)=>[...u.details(e,t),"auth"],users:(e,t)=>[...u.details(e,t),"users"],functionAnalytics:(e,t,r,a,s)=>[...u.details(e,t),"function-analytics",r,a,s],exhaustion:(e,t)=>[...u.details(e,t),"exhaustion"],diskSpace:(e,t)=>[...u.details(e,t),"disk-space"],storage:{all:(e,t)=>[...u.details(e,t),"storage"],buckets:(e,t)=>[...u.storage.all(e,t),"buckets"],bucket:(e,t,r)=>[...u.storage.buckets(e,t),r],objects:(e,t,r,a)=>[...u.storage.bucket(e,t,r),"objects",a],signedUrl:(e,t,r,a)=>[...u.storage.bucket(e,t,r),"signed-url",a]},changes:(e,t)=>[...u.all,e,"changes",t],database:{all:(e,t)=>[...u.all,"database",e,t],tables:(e,t,r)=>[...u.database.all(e,t),"tables",r],tableData:(e,t,r,a,s,n)=>[...u.database.all(e,t),"table-data",r,a,s,n],tableSchema:(e,t,r)=>[...u.database.all(e,t),"table-schema",r],tableCount:(e,t,r)=>[...u.database.all(e,t),"table-count",r],userCounts:(e,t,r)=>[...u.database.all(e,t),"user-counts",r],functions:(e,t)=>[...u.database.all(e,t),"functions"],suggestions:(e,t)=>[...u.database.all(e,t),"suggestions"],dbSecrets:(e,t)=>[...u.database.all(e,t),"db-secrets"],rlsPolicies:(e,t)=>[...u.database.all(e,t),"rls-policies"],tablesRlsStatus:(e,t)=>[...u.database.all(e,t),"tables-rls-status"]}},p={all:["templates"],remixCount:e=>[...p.all,"remix-count",e]},h={all:["projectProfiles"],mostPopular:()=>[...h.all,"most-popular"],featured:()=>[...h.all,"featured"],listall:()=>[...h.all,"listall"],byPublisher:e=>[...h.all,"byPublisher",e],category:e=>[...h.all,"category",e]},g={all:["notifications"],lists:()=>[...g.all,"list"],list:e=>[...g.lists(),e],unreadCount:e=>[...g.all,"unreadCount",e]},f={all:["pricing"],buildCreditPricing:e=>[...f.all,"build-credit",e],upgradePreview:(e,t)=>[...f.all,"upgrade-preview",e,t]},m={all:["rewards"],userRewards:()=>[...m.all,"user-rewards"]},w={all:["stripe"],customerBalance:e=>[...w.all,"customer-balance",e]},y={all:["fcm"],tokenStatus:()=>[...y.all,"token-status"]},v={all:["security"],projectDependencies:e=>[...v.all,"dependencies",e]},b={projectDependencies:e=>v.projectDependencies(e)}},681061:(e,t,r)=>{r.d(t,{W:()=>p,createWebMfaOperations:()=>u,getMfaResolver:()=>d,n:()=>l,startMfaVerification:()=>c});var a=r(400641),s=r(602571),n=r(145010),o=r(629747),i=r(628801);let l=(0,s.vt)(e=>({operations:null,onComplete:null,startMfa:(t,r)=>e({operations:t,onComplete:r||null}),reset:()=>e({operations:null,onComplete:null})}));function c(e,t){(0,n.b)(),l.getState().startMfa(e,t)}function d(e){if(!(0,o.ib)(e))return null;try{return(0,a.vZ)(i.auth,e)}catch(e){return null}}function u(e,t){return{hints:e.hints.map(e=>({uid:e.uid,factorId:e.factorId===a.p7.FACTOR_ID?"totp":"phone",phoneNumber:e.phoneNumber})),async verifyTotp(r,s){let n=a.p7.assertionForSignIn(r,s),o=await e.resolveSignIn(n);await t(o)},async sendPhoneCode(t,r){if(!r)throw Error("RecaptchaVerifier required for web phone MFA");let s=e.hints.find(e=>e.uid===t);if(!s)throw Error("Phone hint not found");return new a.Oe(i.auth).verifyPhoneNumber({multiFactorHint:s,session:e.session},r)},async verifyPhone(r,s){let n=a.Oe.credential(r,s),o=a.eQ.assertion(n),i=await e.resolveSignIn(o);await t(i)},async cancel(){},needsRecaptcha:!0}}function p(e,t,r){return{hints:e,async verifyTotp(e,a){let{idToken:s}=await t.verifyMfaTotp(e,a);await r(s)},async sendPhoneCode(e){let{verificationId:r}=await t.sendMfaPhoneCode(e);return r},async verifyPhone(e,a){let{idToken:s}=await t.verifyMfaPhone(e,a);await r(s)},async cancel(){await t.cancelMfa()},needsRecaptcha:!1}}},745784:(e,t,r)=>{r.d(t,{u:()=>s});var a=r(485857);let s=(0,r(780493).w)(a.default,"XIcon")},908399:(e,t,r)=>{r.d(t,{V:()=>i,v:()=>l});var a=r(96324),s=r(124865),n=r(608366);let o={[n.$.ERROR]:"error",[n.$.WARN]:"warn",[n.$.INFO]:"info",[n.$.DEBUG]:"debug",[n.$.TRACE]:"trace",[n.$.LOG]:"log"};function i(e){let{error:t,severity:r,context:i,location:l}=e,c=o[r],d="api_error_".concat(t.type);a.logging[c](d,{error:t,...i}),r===n.$.ERROR&&o11y.captureException(t,{type:d,level:"error",location:l,context:(0,s.m)(i)})}function l(e,t){let{error:r,severity:i,context:l,location:c}=t,d="".concat(e,": ").concat(r instanceof Error?r.message:"Weird error"),u=o[i];if(a.logging[u](d,{...l,error:r,...!(r instanceof Error)&&{weird_error:r}}),i===n.$.ERROR){let e=r instanceof Error?r:Error(d),t={...r instanceof Error&&{original_message:r.message},...!(r instanceof Error)&&{weird_error:r},...l&&{...l}};o11y.captureException(e,{level:"error",location:c,context:(0,s.m)(t)})}}},926206:(e,t,r)=>{r.d(t,{Pg:()=>x,d0:()=>S,Pi:()=>P});var a=r(6442),s=r(611442),n=r(589708),o=r(575945),i=r(524103),l=r(96324),c=r(608366),d=r(630298);async function*u(e){yield*p(h(e))}async function*p(e){let t,r=null;for await(let a of e)if(!a.startsWith(":")){if(a.startsWith("event:")){r&&l.logging.error("received_sse_event_without_data",{event_type:r}),r=a.slice(6).trim();continue}if(a.startsWith("id:")){t=a.slice(3).trim();continue}if(a.startsWith("data:")){let e=a.slice(5).trimStart();try{yield{lastEventId:t,type:r,data:JSON.parse(e)}}catch(t){l.logging.error("failed_to_parse_sse_event",{error:t,event_type:r,event_data:e})}r=null}}}async function*h(e){let t=new TextDecoder,r="";for(;;){let{done:a,value:s}=await e.read(),n=(r+=t.decode(s,{stream:!a})).split(/\n+/);for(let e of(r=n.pop()||"",n))yield e;if(a){r&&(yield r);break}}}var g=r(365588),f=r(954560),m=r(951121),w=r(341393),y=r(908399);class v extends Error{constructor(e,t,r,a,s){super(e),this.status=t,this.statusText=r,this.response=a,this.traceId=s}}let b=[/^\/user/,/^\/auth/,/^\/public/,/^\/health/];function k(e,t){let r="10f2d7e580d067f306376aa9825bdac76d4339de",a={...e&&{Authorization:"Bearer ".concat(e)},...r&&{"X-Client-Git-SHA":r}};return(0,w.uy)({baseURL:t,headers:a,withCredentials:!0})}class E{get typed(){return this._typed||(this._typed=new _(this)),this._typed}getBaseURL(){return(0,f.N)()}assertEndpointAccess(e){var t;if(t=e,!(!i.dA.getState().active||b.some(e=>e.test(t)))){let e=i.dA.getState();if(e.active)throw new g.L("sso_reauth_required",e.message||"SSO Session Expired");throw new g.L("access_denied","Access to this endpoint is restricted")}}async getApi(){if(!o.tokenManager.isInitialized())return await new Promise(e=>setTimeout(e,50)),this.getApi();let e=await o.tokenManager.getValidToken();e||(0,y.v)("Tried to get API with no valid ID token",{error:Error("Tried to get API with no valid ID token"),severity:c.$.WARN});let t=k(e,this.getBaseURL()),r=e=>{if(null==e?void 0:e.headers.get("Lovable-Cachebuster")){let e=new CustomEvent("lovable-cachebuster");document.dispatchEvent(e)}};return t.setResponseHandler((e,t)=>(r(t),e)),t.setErrorHandler((e,t)=>{if(r(t),e&&"object"==typeof e&&"status"in e){if(401===e.status){let e=window.location.pathname;n.authEvents.emitAuthError(e)}403===e.status&&s.queryClient.invalidateQueries({queryKey:d.QO.all})}return Promise.reject((0,m.yO)(e))}),t}async get(e,t){return this.assertEndpointAccess(e),(await this.getApi()).get(e,t)}async delete(e,t,r){return this.assertEndpointAccess(e),(await this.getApi()).delete(e,t,r)}async post(e,t,r){return this.assertEndpointAccess(e),(await this.getApi()).post(e,t,r)}async put(e,t,r){return this.assertEndpointAccess(e),(await this.getApi()).put(e,t,r)}async patch(e,t,r){return this.assertEndpointAccess(e),(await this.getApi()).patch(e,t,r)}async head(e,t){return this.assertEndpointAccess(e),(await this.getApi()).head(e,t)}async getWithStreaming(e){let{url:t,onMessage:r,params:a,headers:s,signal:n,reconnectOptions:c}=e,d=i.dA.getState();if(d.active)throw new g.L("sso_reauth_required",d.message||"SSO Session Expired");let p={initialDelayMs:1e3,maxDelayMs:1e4,backoffFactor:2,retryCount:10,...c},h=0,f=async()=>{try{let e=await o.tokenManager.getValidToken(),i="function"==typeof a?a():a,c="".concat(this.getBaseURL()).concat(t);if(i&&Object.keys(i).length>0){let e=new URLSearchParams(i).toString();c+=(t.includes("?")?"&":"?")+e}let d="function"==typeof s?s():s,p=await fetch(c,{method:"GET",headers:{...e?{Authorization:"Bearer ".concat(e)}:{},Accept:"text/event-stream",Connection:"keep-alive","Cache-Control":"no-cache",...d},signal:n}),f=p.headers.get("X-Trace-Id")||void 0;if(!p.ok){let e;try{let t=await p.text(),r=p.headers.get("Content-Type")||"";if(r.includes("application/json"))try{e=JSON.parse(t)}catch(a){l.logging.error("failed_to_parse_json_response",{error:a,responseText:t,contentType:r}),e=t}else l.logging.debug("non_json_error_response",{contentType:r,responseText:t}),e=t}catch(e){l.logging.error("failed_to_parse_response_body",{error:e,status:p.status,contentType:p.headers.get("Content-Type")})}if(429===p.status)throw new v("We are currently under heavy load, please try again later.",429,"RATE_LIMIT_EXCEEDED",e,f);throw new v("Request failed",p.status,p.statusText,e,f)}p.ok&&(h=0);let w=p.body.getReader();try{for await(let e of u(w))if("error"===e.type)throw function(e,t){var r;let a=C.safeParse(e.data);if(!a.success)return l.logging.error("failed_to_parse_server_sse_error",{parse_error:a.error,event_data:e.data,traceId:t}),new g.L(m.i4.malformed,"Failed to parse server SSE error",void 0,500,t);let s=a.data,n=null!=(r=s.traceId)?r:t;return"Request cancelled"===s.message?new v("Request cancelled",499,"REQUEST_CANCELLED",s,n):(l.logging.error("server_sse_error",{error:s,traceId:n}),new v(s.message,500,s.type,s,n))}(e,f);else try{r(e)}catch(e){l.logging.error("unhandled_error_in_message_handler",{error:e})}}catch(e){if(await w.cancel().catch(()=>{}),e instanceof Error&&"AbortError"===e.name)return;if(e instanceof v){if(499===e.status)return void l.logging.info("stream_connection_cancelled",{url:t});throw e}throw l.logging.error("unexpected_error_during_sse",{error:e}),e}finally{w.releaseLock()}}catch(a){var e;if(a instanceof Error&&"AbortError"===a.name)return void l.logging.info("stream_connection_aborted",{url:t});if(a instanceof v&&"Request cancelled"===a.message)return void l.logging.info("stream_connection_cancelled",{url:t});if(a instanceof v&&"RATE_LIMIT_EXCEEDED"===a.statusText)throw a;if(h>=p.retryCount)throw l.logging.error("stream_connection_max_retries_exceeded",{url:t,maxRetries:p.retryCount,error:a}),a;let r=Math.min(p.initialDelayMs*Math.pow(p.backoffFactor,h),p.maxDelayMs);return l.logging.info("stream_connection_retry",{url:t,retryCount:h+1,maxRetries:p.retryCount,delayMs:r,error:a}),await new Promise(e=>setTimeout(e,r)),h++,null==c||null==(e=c.onReconnect)||e.call(c),f()}};return f()}constructor(){this._typed=null}}class _{async typedRequest(e,t,r){var a,s,n;let o=(n=null==r||null==(a=r.params)?void 0:a.path)?Object.entries(n).reduce((e,t)=>{let[r,a]=t;return e.replace("{".concat(r,"}"),encodeURIComponent(a))},t):t,i=function(e){if(!e)return;let t={};for(let[r,a]of Object.entries(e))null!=a&&(t[r]=String(a));return Object.keys(t).length>0?t:void 0}(null==r||null==(s=r.params)?void 0:s.query),l={headers:null==r?void 0:r.headers,params:i,signal:null==r?void 0:r.signal};switch(e){case"GET":return this.parent.get(o,l);case"POST":return this.parent.post(o,null==r?void 0:r.body,l);case"PUT":return this.parent.put(o,null==r?void 0:r.body,l);case"DELETE":return this.parent.delete(o,null==r?void 0:r.body,l);case"PATCH":return this.parent.patch(o,null==r?void 0:r.body,l)}}async GET(e){for(var t=arguments.length,r=Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];return this.typedRequest("GET",e,r[0])}async POST(e){for(var t=arguments.length,r=Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];return this.typedRequest("POST",e,r[0])}async PUT(e){for(var t=arguments.length,r=Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];return this.typedRequest("PUT",e,r[0])}async DELETE(e){for(var t=arguments.length,r=Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];return this.typedRequest("DELETE",e,r[0])}async PATCH(e){for(var t=arguments.length,r=Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];return this.typedRequest("PATCH",e,r[0])}constructor(e){this.parent=e}}let C=a.Ikc({type:a.YjP(),message:a.YjP(),details:a.YjP(),traceId:a.YjP().optional()}),R=new E;function x(){return R}function S(){return new _(R)}function P(){return k(null,(0,f.N)())}},951121:(e,t,r)=>{r.d(t,{Ni:()=>g,i4:()=>u,kS:()=>d,yO:()=>h});var a=r(83245),s=r(6442),n=r(524103),o=r(608366),i=r(365588),l=r(341393),c=r(908399);let d=8e3,u={network:"network_error",malformed:"malformed_response"},p=s.Ikc({type:s.YjP().optional(),message:s.YjP().optional(),details:s.YjP().optional(),title:s.YjP().optional(),detail:s.YjP().optional(),status:s.aig().optional(),errors:s.YOg(s.Ikc({message:s.YjP().optional(),location:s.YjP().optional(),value:s.bzn().optional()})).optional(),props:s.g1P(s.YjP(),s.L5J()).optional()}).refine(e=>{var t;return e.type||e.message||e.title||e.status||e.detail||(null==(t=e.errors)?void 0:t.length)},{message:"Error response must have at least one recognized field"}).transform(e=>{var t;let r=null==(t=e.errors)?void 0:t.filter(e=>e.message).map(e=>{if(!e.location)return e.message;let t=e.location.replace(/^(body|query|header|path)\./,"");return"".concat(t,": ").concat(e.message)}).join("; "),a=e.type||(e.status?"http_".concat(e.status):"unknown_error"),s=e.message||e.title;return{type:a,message:s?({"Unprocessable Entity":"Validation Error","Bad Request":"Invalid Request","Internal Server Error":"Server Error"})[s]||s:void 0,details:e.details||r||e.detail||void 0,rawErrors:e.errors,props:e.props}});function h(e){if((0,l.NF)(e)){var t,r,a,s,d;let l={url:null==(t=e.response)?void 0:t.url,method:e.httpMethod,status:e.status},h=(null==(a=e.response)||null==(r=a.headers)?void 0:r.get("X-Trace-Id"))||void 0;if(!e.response)return(0,c.v)("Network error",{error:e,severity:o.$.INFO,context:l}),new i.L(u.network,"Connection Error","Please check your internet connection");let g=e.data,f=p.safeParse(g);if(f.success){let t=new i.L(f.data.type,f.data.message||"",f.data.details,e.status,h,f.data.rawErrors,f.data.props);if((0,c.V)({error:t,severity:o.$.INFO,context:l}),"sso_reauth_required"===t.type)try{let e=null==(s=t.props)?void 0:s.providers,r=null==(d=t.props)?void 0:d.workspace;(null==r?void 0:r.id)&&(null==r?void 0:r.name)&&Array.isArray(e)&&e.length>0&&(0,n.fJ)({message:t.message,providers:e,workspace:{id:r.id,name:r.name}})}catch(e){(0,c.v)("Failed to start SSO reauth flow",{error:e,severity:o.$.ERROR})}if("external_collaboration_disabled"===t.type){for(let e of Object.keys(localStorage))e.startsWith("lovable-current-workspace-id-")&&localStorage.removeItem(e);let e=encodeURIComponent(t.details||t.message||"External collaboration is not allowed for this workspace.");window.location.href="/auth-bridge?access_denied=external_collaboration_disabled&message=".concat(e)}return t}let m=e.statusText||"";if(g){if("string"==typeof g)m=g;else if("object"==typeof g&&null!==g){for(let e of["error","message","msg","detail","details","description"])if(e in g&&"string"==typeof g[e]){m=g[e];break}}}return(0,c.v)("Bad error from backend",{error:e,severity:o.$.ERROR,context:{...l,error_data:g,response:e.response,zodError:f.error}}),new i.L(u.malformed,m,void 0,e.status,h)}return e instanceof TypeError&&/network|failed to fetch|load failed|network request failed/i.test(e.message)?((0,c.v)("Native network error",{error:e,severity:o.$.INFO}),new i.L(u.network,"Connection Error","Please check your internet connection")):e instanceof Error&&/load failed/i.test(e.message)?((0,c.v)("Load failed error",{error:e,severity:o.$.INFO}),new i.L(u.network,"Connection Error","Please check your internet connection")):e instanceof Error&&("SecurityError"===e.name||/localStorage|sessionStorage|storage/i.test(e.message))?((0,c.v)("Storage access error",{error:e,severity:o.$.INFO}),new i.L(u.network,"Storage Access Error","Browser storage is not available")):((0,c.v)("Unhandled error type",{error:e,severity:o.$.ERROR,location:"processApiError",context:{errorType:typeof e}}),new i.L(u.malformed,""))}function g(e){e instanceof i.L?(a.toast.error(e.message||"Something went wrong",{duration:d,description:e.details}),e.message||(0,c.v)("User sees vague api error",{error:e,severity:o.$.ERROR})):(a.toast.error("Something went wrong",{description:"Lovable has been notified.",duration:d}),(0,c.v)("User sees vague error",{error:e,severity:o.$.ERROR}))}},954560:(e,t,r)=>{r.d(t,{N:()=>n});var a=r(973912),s=r(391326);let n=()=>{(0,a.O_)();let e=s.env.NEXT_PUBLIC_GO_API_RELATIVE_URL;return e&&1?e:"https://api.lovable.dev"}},994197:(e,t,r)=>{r.d(t,{Ac:()=>v,DU:()=>y,Kd:()=>u,T3:()=>m,WS:()=>f,dA:()=>c,fJ:()=>d,hr:()=>b,m9:()=>w,xz:()=>E,yB:()=>k});var a=r(400641),s=r(602571),n=r(681061),o=r(629747),i=r(628801),l=r(96324);let c=(0,s.vt)(e=>({active:!1,message:void 0,providers:[],workspace:null,activate:t=>{let{message:r,providers:a,workspace:s}=t;return e({active:!0,message:r,providers:a,workspace:s})},deactivate:()=>e({active:!1,message:void 0,providers:[],workspace:null})}));function d(e){let{active:t}=c.getState();if(!t){c.getState().activate(e);{let{pathname:e,search:t,hash:a}=window.location;if("/sso/reauth"!==e){let s=encodeURIComponent("".concat(e).concat(t).concat(a));r.e(282).then(r.bind(r,400282)).then(e=>{let{redirect:t}=e;return t("/sso/reauth?redirectTo=".concat(s))})}}}}let u="auth-redirecting";function p(){try{let{pathname:e,search:t,hash:r}=window.location,a=new URLSearchParams(t);a.set(u,String(Date.now()));let s="".concat(e,"?").concat(a.toString()).concat(r);window.history.replaceState({},document.title,s)}catch(e){}}async function h(e){let{workspaceId:t,queryClient:a,onComplete:s,shouldRefreshPage:n=!1}=e,{workspaceKeys:o}=await Promise.resolve().then(r.bind(r,630298)),{toast:c}=await Promise.resolve().then(r.bind(r,83245));try{i.auth.currentUser&&await i.auth.currentUser.getIdToken(!0),await a.invalidateQueries({queryKey:o.all}),c.success("Re-authentication successful",{description:"You can now access the workspace."}),n&&window.location.reload(),null==s||s()}catch(e){throw l.logging.error("reauth_token_refresh_failed",{error:e,workspaceId:t}),c.error("Re-authentication failed",{description:"Please try again or contact support."}),e}}async function g(e){let{authInstance:t,providerId:r,authType:s,nativeAuth:n,onSuccess:o}=e;if("signin"===s){l.logging.info("Using native SSO sign-in",{providerId:r});let{idToken:e}=await n.signInWithSSO(r),s=await fetch("/api/auth/custom-token",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({idToken:e})});if(!s.ok)throw Error("Failed to get custom token after native SSO sign-in");let{customToken:i}=await s.json(),c=await (0,a.p)(t,i);await o(c)}else if("link"===s){l.logging.info("Using native SSO linking",{providerId:r});let e=await n.getCustomToken();await n.linkWithSSO(e,r);let a=t.currentUser;if(!a)throw Error("No current user after native SSO linking");await a.getIdToken(!0),await a.reload(),await o({user:a,providerId:r,operationType:"link"})}else if("reauth"===s){l.logging.info("Using native SSO reauth",{providerId:r});let e=await n.getCustomToken();await n.reauthWithSSO(e,r);let a=t.currentUser;if(!a)throw Error("No current user after native SSO reauth");await a.getIdToken(!0),await a.reload(),await o({user:a,providerId:r,operationType:"reauthenticate"})}}async function f(e){let{auth:t,user:r,providerId:s,authType:n,onSuccess:o,onError:c,logContext:d={},nativeAuth:u}=e;try{let e,c=t||i.auth;if(u)return void await g({authInstance:c,providerId:s,authType:n,nativeAuth:u,onSuccess:o});let h=new a.LD(s),f=function(){let e="localhost"===window.location.hostname,t=window.navigator.userAgent,r=t.includes("Safari")&&!t.includes("Chrome");return e||r}();if(l.logging.info("Starting SSO ".concat(n),{provider:s,usePopup:f,userId:(null==r?void 0:r.uid)||"anonymous",...d}),f){switch(n){case"signin":e=await (0,a.df)(c,h);break;case"reauth":if(!r)throw{code:"auth/missing-user",message:"User required for reauthentication"};e=await (0,a.Bm)(r,h),await e.user.getIdToken(!0),await e.user.getIdTokenResult(!0);break;case"link":if(!r)throw{code:"auth/missing-user",message:"User required for linking"};e=await (0,a.x8)(r,h)}await o(e)}else switch(n){case"signin":p(),await (0,a.$2)(c,h);break;case"reauth":if(!r)throw{code:"auth/missing-user",message:"User required for reauthentication"};p(),await (0,a.zT)(r,h);break;case"link":if(!r)throw{code:"auth/missing-user",message:"User required for linking"};p(),await (0,a.dC)(r,h)}}catch(e){c(e,"sso ".concat(n))}}function m(e,t){return!!e&&e.providerData.some(e=>e.providerId===t)}function w(e){let{workspaceId:t,queryClient:r,onSuccess:a,shouldRefreshPage:s=!1,setIsLoading:i}=e,l=async()=>{try{await h({workspaceId:t,queryClient:r,onComplete:a,shouldRefreshPage:s})}finally{i(!1)}};return{handleReauthSuccess:l,handleReauthError:(e,r,a)=>{let s=(0,n.getMfaResolver)(e);if(s)return void(0,n.startMfaVerification)((0,n.createWebMfaOperations)(s,async()=>{await l()}),()=>i(!1));(0,o.tu)({error:e,context:r,title:"Re-authentication failed",description:"Please try again or contact support.",workspaceId:t,providerId:a,onComplete:()=>i(!1),skipMfaCheck:!0})}}}let y=(e,t,r)=>{let a=e||t[0]||"";if(!a)return r;let s=a.split(".")[0];return s.charAt(0).toUpperCase()+s.slice(1)},v=e=>!!e&&/^[a-z0-9]+(?:-[a-z0-9]+)*$/.test(e),b=e=>e.toLowerCase().trim().replaceAll(".","-"),k=100,E=()=>"".concat(window.location.origin,"/sso-login/")}}]);