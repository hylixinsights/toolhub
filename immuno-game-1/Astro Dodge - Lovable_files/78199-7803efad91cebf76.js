try{!function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="86991897-1e16-4f70-9aaa-44d62e625a9f",e._sentryDebugIdIdentifier="sentry-dbid-86991897-1e16-4f70-9aaa-44d62e625a9f")}()}catch(e){}"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[78199],{57281:(e,t,r)=>{r.d(t,{A:()=>i});var n,l=r(325413);function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(null,arguments)}let i=function(e){return l.createElement("svg",a({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},e),n||(n=l.createElement("path",{fill:"currentColor",d:"M5.499 19.705a.75.75 0 0 1 .918-.531q.278.076.583.076h.833a.75.75 0 0 1 0 1.5H7q-.504-.001-.97-.127a.75.75 0 0 1-.531-.918m7.334-.455a.75.75 0 0 1 0 1.5h-1.666a.75.75 0 0 1 0-1.5zm4.75-.076a.75.75 0 0 1 .388 1.449q-.467.126-.971.127h-.833a.75.75 0 0 1 0-1.5H17q.305-.001.583-.076M3.25 17v-.833a.75.75 0 0 1 1.5 0V17q.001.305.076.583a.75.75 0 0 1-1.449.388A3.8 3.8 0 0 1 3.25 17m16 0v-.833a.75.75 0 0 1 1.5 0V17q-.001.504-.127.97a.75.75 0 0 1-1.45-.387q.076-.278.077-.583m-16-4.167v-1.666a.75.75 0 0 1 1.5 0v1.666a.75.75 0 0 1-1.5 0m16 0v-1.666a.75.75 0 0 1 1.5 0v1.666a.75.75 0 0 1-1.5 0m-16-5V7q.001-.504.127-.97a.75.75 0 0 1 1.45.387Q4.75 6.695 4.75 7v.833a.75.75 0 0 1-1.5 0m16 0V7q-.001-.305-.076-.583a.75.75 0 0 1 1.449-.388q.126.467.127.971v.833a.75.75 0 0 1-1.5 0M7.833 3.25a.75.75 0 0 1 0 1.5H7q-.305.001-.583.076a.75.75 0 0 1-.388-1.449q.467-.126.971-.127zm9.167 0q.504.001.97.127a.75.75 0 0 1-.387 1.45A2.3 2.3 0 0 0 17 4.75h-.833a.75.75 0 0 1 0-1.5zm-4.167 0a.75.75 0 0 1 0 1.5h-1.666a.75.75 0 0 1 0-1.5z"})))}},141254:(e,t,r)=>{r.d(t,{e:()=>T});var n=r(20097),l=r(214749),a=r(571003),i=r(980451),s=r(636010),o=r(480695),c=r(786541),u=r(427321),d=r(313259),m=r(269888),p=r(690057),h=r(255483),x=r(927398),g=r(816232);let f=()=>{let e=(0,x.D)(),{goToNextTab:t}=(0,c.x)();return(0,n.jsxs)("div",{className:"flex h-full w-full justify-between overflow-hidden rounded-xl",children:[(0,n.jsxs)("div",{className:"flex w-full flex-col py-8 pe-2 ps-2 md:w-1/2 md:pe-24 md:ps-8",children:[(0,n.jsx)(h.LovableLogoColor,{className:"size-9"}),(0,n.jsx)("h1",{className:"py-4",children:"Publish to your Lovable profile"}),(0,n.jsx)("p",{className:"pb-8 pt-4",children:"Show your work to the Lovable community and be seen by millions of builders on Lovable."}),(0,n.jsx)("p",{className:"pt-4",children:"Why you should publish to your Lovable profile:"}),(0,n.jsx)("div",{className:"flex flex-1 flex-col gap-4 pt-4",children:["Showcase your work to the Lovable community","Be seen by millions of builders on Lovable","Popular apps get featured on Lovable"].map(e=>(0,n.jsxs)("div",{className:"flex items-center gap-3 rounded-lg bg-muted p-4",children:[(0,n.jsx)(m.C,{})," ",e]},e))}),(0,n.jsx)("div",{className:"flex justify-end pt-8",children:(0,n.jsxs)(d.$,{type:"button",size:"default",className:"w-full md:w-auto",onClick:()=>{e(g.mb.CREATE_FORM.CONTINUE_FROM_INTRO_CLICKED),t()},children:["Continue ",(0,n.jsx)(p.f,{className:"h-4 w-4"})]})})]}),(0,n.jsx)("div",{style:{backgroundImage:"url('/img/create-product-page/create-bg.webp')",backgroundSize:"cover",backgroundPositionY:"top",backgroundPositionX:"left"},className:"relative hidden h-full w-1/2 flex-col justify-center overflow-hidden rounded-lg py-16 md:flex",children:(0,n.jsx)("div",{className:"flex h-full w-full items-center justify-end",children:(0,n.jsx)("div",{className:"relative w-[85%]",children:(0,n.jsx)(u.default,{src:"/img/create-product-page/intro-teaser.webp",alt:"an example of how a page can look",width:0,height:0,sizes:"80vw",className:"h-auto w-full"})})})})]})};var j=r(806702),b=r(715429),v=r(400282),w=r(325413),y=r(7579),_=r(83245),C=r(145010),P=r(951121),N=r(926206),k=r(83118),I=r(96324),R=r(744942);let E=(0,i.default)(async()=>(await Promise.all([r.e(43029),r.e(53168),r.e(50971)]).then(r.bind(r,150971))).FormsTab,{loadableGenerated:{webpack:()=>[150971]},ssr:!1}),S=(0,i.default)(async()=>(await Promise.all([r.e(65220),r.e(94088),r.e(88316),r.e(88083)]).then(r.bind(r,88083))).ProjectProvider,{loadableGenerated:{webpack:()=>[88083]},ssr:!0}),O=()=>{let{activeTab:e,handleSubmit:t,form:r}=(0,c.x)();return(0,n.jsxs)(o.Cf,{size:"xl",className:"max-h-[95vh] overflow-y-auto outline-none",children:[(0,n.jsx)(o.c7,{children:(0,n.jsx)(o.L3,{children:"Publish to Lovable"})}),(0,n.jsx)("form",{onSubmit:r.handleSubmit(t),className:"flex h-full min-h-0 overflow-visible outline-none",children:(0,n.jsx)("div",{className:"flex h-full w-full",children:(0,n.jsxs)(l.N,{mode:"wait",initial:!1,children:["intro"===e&&(0,n.jsx)(a.P.div,{initial:{opacity:1},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2,ease:"easeInOut"},className:"h-full min-h-0 w-full flex-shrink-0",children:(0,n.jsx)(f,{})},"intro"),("details"===e||"images"===e||"about"===e)&&(0,n.jsx)(a.P.div,{initial:{x:"100%"},animate:{x:0},exit:{x:0},transition:{duration:.2,ease:"easeInOut"},className:"h-full min-h-0 w-full flex-shrink-0",children:(0,n.jsx)(E,{})},"edit")]})})})]})},A=()=>{let e=(()=>{let[e,t]=(0,w.useState)("intro"),r=(0,s.Iw)(e=>e.project),n=(0,s.Iw)(e=>e.projectId),l=(0,s.Iw)(e=>{var t;return null==(t=e.project)?void 0:t.name}),a=(0,s.Iw)(e=>{var t;return null==(t=e.project)?void 0:t.display_name}),i=(null==r?void 0:r.url)||(0,k.O)({projectId:n}),o=(0,N.Pg)(),c=(0,v.useRouter)(),u=(0,C.f)(T),d=(0,x.D)(),{mutateAsync:m,isPending:p,isSuccess:h}=(0,b.n)({mutationFn:async e=>o.post("/projects/".concat(n,"/profile"),e),onSuccess:()=>{_.toast.success("Product page created successfully! \uD83D\uDE80",{description:"Your product page is now available."}),d(g.mb.CREATE_FORM.CREATED,{step:e}),setTimeout(()=>{l&&(u(!1),c.push("/products/".concat(encodeURIComponent(l))))},1e3)},onError:e=>{(0,P.Ni)(e),d(g.mb.CREATE_FORM.FAILED,{reason:e instanceof Error?e.message:"An unknown error occurred"})}}),f=(0,y.mN)({resolver:(0,j.u)(R.JS),mode:"onTouched",reValidateMode:"onChange",defaultValues:{name:null!=a?a:"",tagline:"",category:"",about:"",icon:"",thumbnail:"",additional_images:[],hide_preview:!1,socials:[],publisher_id:"",publisher_type:"user"}}),E=e=>{m(e).catch(e=>{I.logging.error("Failed to create project profile",{error:e})})};return{form:f,activeTab:e,setActiveTab:t,goToNextTab:()=>{"intro"===e?t("details"):"details"===e?t("images"):"images"===e&&t("about")},goToPreviousTab:()=>{"about"===e?t("images"):"images"===e?t("details"):"details"===e&&t("intro")},handleSubmit:()=>{f.handleSubmit(E)()},isPending:p,projectUrl:i,isSuccess:h,submitText:"Publish to profile",mode:"create",projectId:n}})();return(0,n.jsx)(c.v,{value:e,children:(0,n.jsx)(O,{})})},T=e=>{let{projectId:t}=e;if((0,s.rd)())return(0,n.jsx)(A,{});if(!t)throw Error("Project ID is required if not already in context");return(0,n.jsx)(S,{projectId:t,children:(0,n.jsx)(A,{})})}},160965:(e,t,r)=>{r.d(t,{O:()=>c});var n=r(134472),l=r(400282),a=r(325413),i=r(488381),s=r(926206),o=r(630298);let c=e=>{let{onComplete:t,onError:r,shouldNavigate:c=!1}=e,u=(0,l.useRouter)(),d=(0,n.jE)(),{currentUserSelectedWorkspaceId:m}=(0,i.Dx)(),p=(0,a.useRef)(null),[h,x]=(0,a.useState)(null),[g,f]=(0,a.useState)(null),j=(0,a.useRef)(t),b=(0,a.useRef)(r),v=(0,a.useRef)(!1),w=(0,a.useRef)(!1);(0,a.useEffect)(()=>{j.current=t,b.current=r},[t,r]);let y=(0,a.useCallback)(()=>{p.current&&(clearInterval(p.current),p.current=null)},[]);return(0,a.useEffect)(()=>{if(!g)return;let{projectId:e,jobId:t}=g,r=async()=>{try{let r=await (0,s.Pg)().get("/projects/".concat(e,"/remix/progress?job_id=").concat(t));if(!r)throw Error("Failed to get progress");if(x(r),"completed"===r.status){if(v.current)return;v.current=!0,y(),m&&d.invalidateQueries({queryKey:o.workspaceKeys.detail(m)}),c&&u.push("/projects/".concat(r.result.project_id,"?remixed=true")),j.current(r.result)}else if("error"===r.status){if(w.current)return;w.current=!0,y(),b.current()}}catch(e){if(w.current)return;w.current=!0,y(),b.current()}};return p.current=setInterval(r,5e3),r(),()=>{y()}},[g,c,u,d,m,y]),{currentJobState:h,startPolling:(0,a.useCallback)((e,t)=>{y(),v.current=!1,w.current=!1,f({projectId:e,jobId:t})},[y]),stopPolling:(0,a.useCallback)(()=>{y(),f(null)},[y])}}},231110:(e,t,r)=>{r.d(t,{A:()=>i});var n,l=r(325413);function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(null,arguments)}let i=function(e){return l.createElement("svg",a({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},e),n||(n=l.createElement("path",{fill:"currentColor",d:"M5.97 15.97a.75.75 0 1 1 1.06 1.06l-1.22 1.22H17A2.25 2.25 0 0 0 19.25 16v-4.5a.75.75 0 0 1 1.5 0V16A3.75 3.75 0 0 1 17 19.75H5.81l1.22 1.22a.75.75 0 1 1-1.06 1.06l-2.5-2.5a.75.75 0 0 1 0-1.06zm5.28-.97v-2.25H9a.75.75 0 1 1 0-1.5h2.25V9a.75.75 0 0 1 1.5 0v2.25H15a.75.75 0 0 1 0 1.5h-2.25V15a.75.75 0 1 1-1.5 0m-8-2.5V8A3.75 3.75 0 0 1 7 4.25h11.19l-1.22-1.22a.75.75 0 1 1 1.06-1.06l2.5 2.5a.75.75 0 0 1 0 1.06l-2.5 2.5a.75.75 0 1 1-1.06-1.06l1.22-1.22H7A2.25 2.25 0 0 0 4.75 8v4.5a.75.75 0 1 1-1.5 0"})))}},244889:(e,t,r)=>{r.d(t,{D:()=>A});var n=r(325413),l=r(21696),a=r(760660),i=r(145010),s=r(770917),o=r(676337),c=r(20097),u=r(214749),d=r(827945),m=r(254051),p=r(944266),h=r(307333),x=r(424642),g=r(400282),f=r(289537),j=r(902357),b=r(313259),v=r(480695),w=r(269888),y=r(17308),_=r(468852),C=r(927987),P=r(42083),N=r(373924),k=r(571003);let I=e=>{let{children:t,motionKey:r}=e;return(0,c.jsx)("div",{className:"flex rounded-xl border border-border bg-muted p-4 text-sm",children:(0,c.jsx)(k.P.div,{initial:{opacity:0,y:15},animate:{opacity:1,y:0},exit:{opacity:0,y:-15},transition:{duration:.2,bounce:0,type:"spring"},className:"flex items-center gap-2",children:t},r)})},R=e=>{let{currentJobState:t,isRemixing:r,handleRemix:l,isProjectRemixAllowed:a,hasCustomKnowledge:i,includeHistory:s,includeCustomKnowledge:o,projectRemixNotAllowedReason:u,hasCheckedProjectRemixAllowed:d,handleClose:m,setIncludeHistory:p,setIncludeCustomKnowledge:h,integrationParameters:x,integrationParameterValues:k,setIntegrationParameterValues:R}=e,E=(e,t,r)=>{R(n=>({...n,[e]:{...n[e],[t]:r}}))},S=(0,g.useRouter)();switch(null==t?void 0:t.status){case"preparing":case"unknown":return(0,c.jsxs)(I,{motionKey:"preparing",children:[(0,c.jsx)(j.y,{size:"small"}),(0,c.jsx)("p",{className:"font-medium",children:"Starting to remix your project"})]});case"running":let O=(0,f.x)(t.step),A="string"==typeof O;return(0,c.jsxs)(I,{motionKey:"running",children:[(0,c.jsx)(j.y,{size:"small"}),A?(0,c.jsx)("p",{className:"font-medium",children:(0,f.x)(t.step)}):O]});case"completed":return(0,c.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,c.jsxs)(I,{motionKey:"completed",children:[(0,c.jsx)(w.C,{className:"text-success-primary",size:"small"}),(0,c.jsx)("p",{className:"font-medium",children:"Project remixed successfully"})]}),(0,c.jsx)(v.Es,{className:"w-full",children:(0,c.jsx)(v.HM,{asChild:!0,children:(0,c.jsx)(b.$,{onClick:()=>S.push("/projects/".concat(t.result.project_id)),children:"View project"})})})]});case"error":return(0,c.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,c.jsxs)(I,{motionKey:"error",children:[(0,c.jsx)(y.Y,{className:"text-destructive-primary",size:"small"}),(0,c.jsx)("p",{className:"text-sm font-medium text-destructive-primary",children:"Remix failed. Please try again later."})]}),(0,c.jsxs)(v.Es,{className:"w-full",children:[(0,c.jsx)(v.HM,{asChild:!0,children:(0,c.jsx)(b.$,{variant:"outline",children:"Cancel"})}),(0,c.jsx)(b.$,{onClick:l,loading:r,children:"Try Again"})]})]});default:let T=(0,c.jsx)(b.$,{onClick:l,loading:r,disabled:!a,children:r?"Remixing":"Remix"});return(0,c.jsxs)("div",{"data-testid":"remix-dialog-content",className:"flex flex-col gap-4",children:[(a||!d)&&(0,c.jsxs)("div",{className:"flex w-full items-center justify-between gap-2",children:[(0,c.jsx)(_.Label,{htmlFor:"include-project-history",children:"Include project history"}),(0,c.jsx)(P.d,{id:"include-project-history",disabled:r,checked:s,onCheckedChange:e=>p(e)})]}),i&&(a||!d)&&(0,c.jsxs)("div",{className:"flex w-full items-center justify-between gap-2",children:[(0,c.jsx)(_.Label,{htmlFor:"include-custom-knowledge",children:"Include custom knowledge"}),(0,c.jsx)(P.d,{id:"include-custom-knowledge",disabled:r,checked:o,onCheckedChange:e=>h(e)})]}),(a||!d)&&x.map(e=>{let t=Object.entries(e.parameters).sort((e,t)=>{var r,n;let[,l]=e,[,a]=t;return(null!=(r=l.order)?r:0)-(null!=(n=a.order)?n:0)});return(0,c.jsx)(n.Fragment,{children:t.map(t=>{var n,l,a;let[i,s]=t,o=null!=(l=null==(n=k[e.integration_name])?void 0:n[i])?l:"";return"select"===s.field_type&&s.values?(0,c.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,c.jsx)(_.Label,{htmlFor:"param-".concat(e.integration_name,"-").concat(i),children:s.display_name}),(0,c.jsxs)(C.Select,{value:o,onValueChange:t=>E(e.integration_name,i,t),disabled:r,children:[(0,c.jsx)(C.SelectTrigger,{id:"param-".concat(e.integration_name,"-").concat(i),children:(0,c.jsx)(C.SelectValue,{placeholder:null!=(a=s.placeholder)?a:"Select..."})}),(0,c.jsx)(C.SelectContent,{children:s.values.map(e=>(0,c.jsx)(C.SelectItem,{value:e.value,children:e.description||e.display_name},e.value))})]}),s.description&&(0,c.jsx)("p",{className:"text-xs text-muted-foreground",children:s.description})]},i):"boolean"===s.field_type?(0,c.jsxs)("div",{className:"flex w-full items-center justify-between gap-2",children:[(0,c.jsx)(_.Label,{htmlFor:"param-".concat(e.integration_name,"-").concat(i),children:s.display_name}),(0,c.jsx)(P.d,{id:"param-".concat(e.integration_name,"-").concat(i),disabled:r,checked:"true"===o,onCheckedChange:t=>E(e.integration_name,i,t?"true":"false")})]},i):null})},e.integration_name)}),!a&&d&&(0,c.jsxs)(I,{motionKey:"error",children:[(0,c.jsx)(y.Y,{className:"text-warning-primary",size:"small"}),(0,c.jsx)("p",{className:"text-sm font-medium text-warning-primary",children:u})]}),(0,c.jsxs)(v.Es,{className:"w-full",children:[(0,c.jsx)(v.HM,{asChild:!0,children:(0,c.jsx)(b.$,{variant:"outline",onClick:m,children:"Cancel"})}),a?T:(0,c.jsxs)(N.m_,{children:[(0,c.jsx)(N.k$,{asChild:!0,children:(0,c.jsx)("span",{className:"inline-flex",children:T})}),(0,c.jsx)(N.ZI,{children:(0,c.jsx)("p",{children:"You can't remix this project."})})]})]})]})}},E={title:"Remix project",description:"By remixing a project, you will create a copy that you own."},S={preparing:{title:"Remixing project",description:"This may take a few moments."},running:{title:"Remixing project",description:"This may take a few moments."},completed:{title:"Remix complete",description:"We're taking you to your new project."},error:{title:"Remix failed",description:"Please try again."},unknown:{title:"Remixing project",description:"This may take a few moments."}},O=e=>{let{project:t,onSuccess:r,onError:l,initialMessage:a}=e,{showNotification:i}=(0,h.o)(),{startRemixToast:s}=(0,p.G)(),o=(0,n.useRef)(!1),[g,f]=(0,n.useState)(!1),[j,b]=(0,n.useState)(!1),[v,w]=(0,n.useState)({}),y="custom_instructions"in t&&!!t.custom_instructions,_=t.id,C=t.display_name||t.name||t.id,{mutate:P,isPending:N,currentJobState:k,currentJobId:I}=(0,m.O)({onSuccess:()=>{o.current||(o.current=!0,r(),i("Project remixed successfully",{body:"We're taking you to the new project."}))},onError:l}),{isProjectRemixAllowed:O,projectRemixNotAllowedReason:A,hasCheckedProjectRemixAllowed:T,integrationParameters:L}=(0,d.O)({projectId:t.id,enabled:(null==k?void 0:k.status)===void 0}),q=(0,n.useMemo)(()=>(function(e){let t={};for(let n of e)for(let[e,l]of(t[n.integration_name]={},Object.entries(n.parameters))){var r;t[n.integration_name][e]=null!=(r=l.default_value)?r:""}return t})(L),[L]);(0,n.useEffect)(()=>{Object.keys(q).length>0&&0===Object.keys(v).length&&w(q)},[q,v]);let z=(0,n.useMemo)(()=>{if(0===L.length)return;let e={};for(let t of Object.keys(q))e[t]={...q[t],...v[t]};return e},[L,q,v]),D=(0,n.useCallback)(()=>{P({projectId:_,includeHistory:g,includeCustomKnowledge:j,initialMessage:a,integrationParameters:z})},[_,g,j,a,z,P]),M=(0,n.useCallback)(()=>{I&&(null==k?void 0:k.status)!=="completed"&&(null==k?void 0:k.status)!=="error"&&s(_,I,C)},[s,I,_,C,null==k?void 0:k.status]),{title:F,description:Y}=(null==k?void 0:k.status)?S[k.status]:E;return(0,c.jsx)(x.T,{title:F,description:Y,size:"sm",onClose:M,hideCloseButton:N,children:(0,c.jsx)(u.N,{mode:"popLayout",initial:!1,children:(0,c.jsx)(R,{currentJobState:k,isRemixing:N,handleRemix:D,isProjectRemixAllowed:O,hasCustomKnowledge:y,includeHistory:g,includeCustomKnowledge:j,projectRemixNotAllowedReason:A,hasCheckedProjectRemixAllowed:T,handleClose:M,setIncludeHistory:f,setIncludeCustomKnowledge:b,integrationParameters:L,integrationParameterValues:v,setIntegrationParameterValues:w})})})},A=()=>{let e=(0,i.f)(O),t=(0,a.A)(),{authUser:r}=(0,l.Z2)(),{storeAction:c}=(0,s.zg)();return(0,n.useCallback)((n,l)=>{if(!r){c(o.A.REMIX_PROJECT,{projectId:n.id,initialMessage:l},[o.M.SEGMENTATION,o.M.EXISTING_USER_LOGIN]),t("signup");return}e({childProps:{project:n,onSuccess:()=>e(!1),onError:()=>e(!1),initialMessage:l}})},[e,r,t,c])}},254051:(e,t,r)=>{r.d(t,{O:()=>p});var n=r(715429),l=r(325413),a=r(83245),i=r(21696),s=r(488381),o=r(760660),c=r(951121),u=r(926206),d=r(96324),m=r(160965);let p=e=>{let{onSuccess:t,onError:r}=e,{authUser:p}=(0,i.Z2)(),h=(0,o.A)(),[x,g]=(0,l.useState)(!1),{currentUserSelectedWorkspaceId:f}=(0,s.Dx)(),[j,b]=(0,l.useState)(null),{currentJobState:v,startPolling:w}=(0,m.O)({shouldNavigate:!0,onComplete:e=>{g(!1),null==t||t()},onError:()=>{g(!1),null==r||r()}}),{mutate:y,isPending:_}=(0,n.n)({mutationFn:async e=>{let{projectId:t,includeHistory:r=!1,includeCustomKnowledge:n=!1,initialMessage:l,integrationParameters:i}=e;if(!p)return void h("signup");if(!f)return void a.toast.error("You need to be in a workspace to remix projects");let s=await (0,u.Pg)().post("/projects/".concat(t,"/remix/init"),{include_history:r,include_custom_knowledge:n,workspace_id:f,initial_message:l,integration_parameters:i});if(!(null==s?void 0:s.job_id))throw Error("Failed to get job ID from remix init");return{projectId:t,jobId:s.job_id}},onSuccess:e=>{if(!(null==e?void 0:e.jobId))return;let{projectId:t,jobId:r}=e;b(r),g(!0),w(t,r)},onError:(e,t)=>{let{projectId:n}=t;d.logging.error("Error remixing project",{projectId:n,error:e}),(0,c.Ni)(e),null==r||r()}});return{mutate:y,isPending:x||_&&!!p,currentJobState:v,currentJobId:j}}},269888:(e,t,r)=>{r.d(t,{C:()=>l});var n=r(894418);let l=(0,r(780493).w)(n.A,"CheckCircleIcon")},289537:(e,t,r)=>{r.d(t,{x:()=>l});var n=r(20097);let l=e=>{switch(e.step){case"starting":return"Starting to remix your project";case"creating_new_project":return"Creating your new project";case"remixing":default:return"Remixing your project";case"remixing_integration":let t=e.status,r=e.integration_name;return(0,n.jsx)("p",{className:"font-medium",children:t?e.status:r?(0,n.jsxs)("span",{className:"capitalize",children:["Setting up ",e.integration_name]}):(0,n.jsx)("span",{children:"Setting up integrations"})});case"finalizing":return"Finalizing your project"}}},307333:(e,t,r)=>{r.d(t,{o:()=>i});var n=r(470800),l=r(325413),a=r(816232);let i=()=>{let[e,t]=(0,l.useState)("default");(0,l.useEffect)(()=>{"Notification"in window&&t(Notification.permission)},[]);let r=(0,l.useCallback)(async e=>{let{onResolve:r,onGranted:l,onDenied:i}=e;if(!("Notification"in window))return console.warn("This browser does not support notifications"),!1;let s=await Notification.requestPermission();return t(s),"granted"===s&&(null==l||l(),n.bC.capture(a.$6.CHAT.NOTIFICATIONS_ENABLED)),"denied"===s&&(null==i||i()),null==r||r(),"granted"===s},[]),i=(0,l.useCallback)((t,r)=>{if("granted"===e&&document.hidden)try{return new Notification(t,{icon:"/img/logo/favicon.ico",badge:"/img/logo/lovable-logo-icon.svg",...r})}catch(e){console.warn("Failed to show notification:",e)}},[e]);return{permission:e,requestPermission:r,showNotification:i}}},379815:(e,t,r)=>{r.d(t,{R:()=>l});var n=r(57281);let l=(0,r(780493).w)(n.A,"SquareDottedIcon")},424642:(e,t,r)=>{r.d(t,{T:()=>p});var n=r(20097),l=r(118486),a=r(427321),i=r(400282),s=r(325413),o=r(21696),c=r(480695),u=r(255483),d=r(695397),m=r(375896);let p=e=>{let{title:t,description:r,showLoggedInAs:p=!1,children:h,blurOverlay:x=!1,blockClosingOnInteractOutside:g=!1,size:f="sm",customHandleSignOut:j,showBanner:b=!1,onClose:v,hideCloseButton:w}=e,{authUser:y}=(0,o.Z2)(),_=(0,i.useRouter)(),C=(0,i.usePathname)(),P=(0,i.useSearchParams)(),[N]=(0,d.I)(),k=async()=>{if(j)return void await j();await N({redirectBehavior:"none"})},I=(0,s.useCallback)(()=>{let e=encodeURIComponent("".concat(C,"?").concat(P.toString()));_.push("/login?redirect=".concat(e))},[_,C,P]);return(0,n.jsxs)(c.Cf,{className:(0,m.cn)({"p-4 md:min-w-[454px]":b}),size:f,blurOverlay:x,onInteractOutside:e=>{g?e.preventDefault():null==v||v()},onEscapeKeyDown:e=>{g?e.preventDefault():null==v||v()},hideCloseButton:b||w,onClose:v,children:[b&&(0,n.jsxs)("div",{className:"relative h-48 w-full overflow-hidden rounded-lg",children:[(0,n.jsx)(a.default,{src:"/img/built-by-lovable.png",alt:"Built by Lovable",fill:!0,className:"object-cover"}),(0,n.jsx)("span",{className:"absolute inset-x-0 bottom-0 flex h-full items-center justify-center text-center text-3xl font-semibold text-white",children:"Built with Lovable"})]}),(0,n.jsxs)(c.c7,{children:[!b&&(0,n.jsx)(u.LovableLogoColor,{className:"mb-2 h-9 w-9"}),t?(0,n.jsx)(c.L3,{className:"text-2xl font-medium",children:t}):(0,n.jsx)(l.s6,{children:(0,n.jsx)(c.L3,{className:"text-2xl font-medium",children:t})}),(0,n.jsx)(c.rr,{className:"text-sm text-muted-foreground",children:r})]}),h,p?y?(0,n.jsxs)("div",{className:"mt-2 text-center text-sm text-muted-foreground",children:[(0,n.jsxs)("span",{children:["You are logged in as ",y.email,"."]})," ",(0,n.jsx)("span",{className:"cursor-pointer underline",tabIndex:0,role:"link",onClick:k,children:"Not you?"})]}):(0,n.jsxs)("div",{className:"mt-2 text-center text-sm text-muted-foreground",children:[(0,n.jsx)("span",{children:"Are you the owner?"})," ",(0,n.jsx)("span",{className:"cursor-pointer underline",tabIndex:0,role:"link",onClick:I,children:"Sign in"})]}):null]})}},564052:(e,t,r)=>{r.d(t,{h:()=>s});var n=r(488381),l=r(506286),a=r(433080),i=r(640715);let s=e=>{var t;let r=(0,n.j4)(e=>{var t;return null==(t=e.currentWorkspace)?void 0:t.plan}),{isEnterprisePlan:s}=(0,a.cb)(r),{permitted:o,isLoading:c}=(0,l.J)(i.eZ.EditProject,{projectId:null==e?void 0:e.id}),u=!!e&&!s;if(!u)return{shouldShow:!1,isProfilePublished:!1,canCreateProfile:!1,isProjectPublished:!1,canEdit:!1,isLoadingPermission:!1};let d=!!e.is_profile_published,m=null!=(t=e.is_published)&&t;return{shouldShow:u,isProfilePublished:d,canCreateProfile:o&&!d&&m,isProjectPublished:m,canEdit:o,isLoadingPermission:c}}},633691:(e,t,r)=>{r.d(t,{x:()=>l});var n=r(231110);let l=(0,r(780493).w)(n.A,"RemixIcon")},744942:(e,t,r)=>{r.d(t,{JS:()=>s,Mx:()=>a,R6:()=>i,oD:()=>l});var n=r(6442);let l=4,a=1e3,i={build_the_product:{label:"Apps for builders",subcategories:{planning:"Planning",prompting:"Prompting",design:"Design",testing_qa:"Testing & QA"}},grow_the_userbase:{label:"Apps for marketing & content",subcategories:{content_channels:"Content & channels",ads_seo:"Ads & SEO",community_support:"Community & support",plg_loops:"PLG loops"}},run_the_company:{label:"Apps to run your company",subcategories:{analytics:"Analytics",revenue_customers:"Revenue & Customers",finance_ops:"Finance & ops",recruiting_hr:"Recruiting & HR"}},saas_extensions:{label:"SaaS extensions",subcategories:{hubspot_extensions:"Hubspot extensions",salesforce_extensions:"Salesforce extensions",asana_extensions:"Asana extensions"}},personal_entertainment:{label:"Personal apps & entertainment",subcategories:{personal_productivity:"Personal productivity",learning:"Learning",games:"Games",hobby_apps:"Hobby apps"}}},s=n.Ikc({name:n.YjP().min(1,"Project name is required"),tagline:n.YjP().min(1,"Tagline is required"),category:n.YjP("Please select a category").min(1,"Please select a category"),about:n.YjP().max(1e3,"About section must be less than 1000 characters").optional(),thumbnail:n.YjP().min(1,"Thumbnail is required"),hide_preview:n.zMY().optional(),icon:n.YjP().optional(),additional_images:n.YOg(n.YjP()).min(1,"At least one image required").max(l),is_published:n.zMY().optional().default(!0),socials:n.YOg(n.Ikc({platform:n.YjP(),url:n.YjP().url()})).optional().nullable(),publisher_id:n.YjP().min(1,"Please select who to publish as"),publisher_type:n.YjP().min(1,"Please select who to publish as")}).refine(e=>{let{additional_images:t,thumbnail:r}=e;return t.some(e=>e===r)},{message:"Invalid main image",path:["additional_images"]})},786541:(e,t,r)=>{r.d(t,{v:()=>o,x:()=>s});var n=r(20097),l=r(325413),a=r(7579);let i=(0,l.createContext)(void 0);i.displayName="_CreateOrEditProjectProfileDialogContext";let s=()=>{let e=(0,l.useContext)(i);if(!e)throw Error("useCreateOrEditProjectProfileContext must be used within CreateOrEditProjectProfileProvider");return e},o=e=>{let{children:t,value:r}=e;return(0,n.jsx)(i.Provider,{value:r,children:(0,n.jsx)(a.Op,{...r.form,children:t})})}},827945:(e,t,r)=>{r.d(t,{O:()=>s});var n=r(183031),l=r(488381),a=r(926206),i=r(630298);let s=e=>{var t,r;let{projectId:s,enabled:o=!0}=e,{currentUserSelectedWorkspaceId:c}=(0,l.Dx)(),u=o&&!!c,{data:d,isLoading:m,isError:p}=(0,n.I)({queryKey:i.gO.remixPreflight(s,c),queryFn:async()=>c?(0,a.Pg)().post("/projects/".concat(s,"/remix/preflight"),{workspace_id:c}):null,enabled:u});return{isProjectRemixAllowed:!(null==(t=null==d?void 0:d.remix_not_allowed)||t),hasCheckedProjectRemixAllowed:!!d||!u||p,projectRemixNotAllowedReason:(null==d?void 0:d.reason)||"Remixing this project is not possible.",integrationParameters:null!=(r=null==d?void 0:d.integration_parameters)?r:[],isLoading:m}}},894418:(e,t,r)=>{r.d(t,{A:()=>s});var n,l,a=r(325413);function i(){return(i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(null,arguments)}let s=function(e){return a.createElement("svg",i({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},e),n||(n=a.createElement("path",{fill:"currentColor",d:"M20.25 12a8.25 8.25 0 1 0-16.5 0 8.25 8.25 0 0 0 16.5 0m1.5 0c0 5.385-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12 6.615 2.25 12 2.25s9.75 4.365 9.75 9.75"})),l||(l=a.createElement("path",{fill:"currentColor",d:"M15.39 8.564a.75.75 0 0 1 1.22.872l-5 7a.75.75 0 0 1-1.14.094l-3-3a.75.75 0 1 1 1.06-1.06l2.374 2.374z"})))}},944266:(e,t,r)=>{r.d(t,{G:()=>m,n:()=>d});var n=r(20097),l=r(980451),a=r(400282),i=r(325413),s=r(83245),o=r(96324);let c=(0,l.default)(async()=>(await r.e(40517).then(r.bind(r,740517))).RemixProgressToast,{loadableGenerated:{webpack:()=>[740517]},ssr:!1}),u=(0,i.createContext)(null);u.displayName="RemixProgressToastContext";let d=e=>{let{children:t}=e,r=(0,a.usePathname)(),[l,d]=(0,i.useState)([]),m=(0,i.useCallback)((e,t,r)=>{d(n=>n.some(t=>t.projectId===e)?n:[...n,{projectId:e,jobId:t,projectName:r}])},[]),p=(0,i.useCallback)(function(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];d(t=>t.filter(t=>t.projectId!==e)),t&&s.toast.dismiss("remix-progress-".concat(e))},[]);return(0,i.useEffect)(()=>{if("/"===r)try{let e=localStorage.getItem("pendingRemixJob");if(!e)return;let t=JSON.parse(e);Date.now()-t.timestamp>3e5||m(t.projectId,t.jobId,t.projectName),localStorage.removeItem("pendingRemixJob")}catch(e){o.logging.error("Failed to check for pending remix job")}},[r,m]),(0,n.jsxs)(u.Provider,{value:{startRemixToast:m,stopRemixToast:p},children:[t,l.map(e=>{let{projectId:t,jobId:r,projectName:l}=e;return(0,n.jsx)(c,{projectId:t,jobId:r,projectName:l,onComplete:()=>p(t,!1)},t)})]})},m=()=>{let e=(0,i.useContext)(u);if(!e)throw Error("useRemixProgressToast must be used within RemixProgressToastProvider");return e}}}]);