try{!function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="0c900942-0276-4e56-865a-e54326bb1619",e._sentryDebugIdIdentifier="sentry-dbid-0c900942-0276-4e56-865a-e54326bb1619")}()}catch(e){}"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[13259,73783],{57811:(e,t,a)=>{a.d(t,{AF:()=>c,UO:()=>m,xO:()=>d,yk:()=>u});var r=a(325413),n=a(83245),s=a(6442),i=a(834669),l=a(96324),o=a(391326);let c="supabaseOAuthNonce",d="supabaseOAuthCodeVerifier",u=s.Ikc({workspaceId:s.YjP(),userId:s.YjP().optional(),nonce:s.YjP()}),m=e=>{let[t,a]=(0,r.useState)(!1),{userData:s}=(0,i.u)();return{handleConnect:(0,r.useCallback)(async t=>{a(!0);try{let r=window.location.origin,i=crypto.randomUUID();try{localStorage.setItem(c,i)}catch(e){l.logging.error("Error storing nonce in localStorage:",{error:e}),n.toast.error("Failed to initiate Supabase OAuth flow",{description:"Try clearing browser local storage and try again."}),a(!1);return}let u=btoa(JSON.stringify({workspaceId:e,userId:null==s?void 0:s.id,nonce:i})),m=o.env.NEXT_PUBLIC_SUPABASE_OAUTH_CLIENT_ID||"dbd565fc-4637-4cb6-ab68-0af4b5708417",p=function(){let e=new Uint8Array(32);return crypto.getRandomValues(e),btoa(String.fromCharCode.apply(null,Array.from(e))).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}(),g=await h(p);localStorage.setItem(d,p);let f=new URL("https://api.supabase.com/v1/oauth/authorize");f.searchParams.set("response_type","code"),f.searchParams.set("client_id",m),f.searchParams.set("redirect_uri","".concat(r,"/supabase/callback")),f.searchParams.set("state",u),f.searchParams.set("code_challenge",g),f.searchParams.set("code_challenge_method","S256"),(null==t?void 0:t.supabaseOrgId)&&f.searchParams.set("organization_slug",encodeURIComponent(t.supabaseOrgId));let x=window.open(f.toString(),"_blank","width=600,height=700,left=100,top=100");x?x.focus():window.location.href=f.toString()}catch(e){l.logging.error("Error initiating Supabase connection:",{error:e}),n.toast.error("Connection Error",{description:"An error occurred while connecting to Supabase. Please try again."})}finally{a(!1)}},[e,null==s?void 0:s.id]),isConnecting:t}};async function h(e){let t=new TextEncoder().encode(e),a=await crypto.subtle.digest("SHA-256",t);return btoa(String.fromCharCode.apply(null,Array.from(new Uint8Array(a)))).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}},58476:(e,t,a)=>{a.d(t,{A:()=>i});var r,n=a(325413);function s(){return(s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(null,arguments)}let i=function(e){return n.createElement("svg",s({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},e),r||(r=n.createElement("path",{fill:"currentColor",d:"M15 13.25a3.75 3.75 0 0 1 3.675 3H20a.75.75 0 0 1 0 1.5h-1.325a3.751 3.751 0 0 1-7.35 0H4a.75.75 0 0 1 0-1.5h7.325c.348-1.712 1.86-3 3.675-3m0 1.5a2.25 2.25 0 1 0 0 4.5 2.25 2.25 0 0 0 0-4.5M7 3.25a3.75 3.75 0 0 1 3.675 3H20a.75.75 0 0 1 0 1.5h-9.325A3.751 3.751 0 1 1 7 3.25M4.75 7a2.25 2.25 0 1 0 4.5 0 2.25 2.25 0 0 0-4.5 0"})))}},79567:(e,t,a)=>{a.d(t,{A:()=>i});var r,n=a(325413);function s(){return(s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(null,arguments)}let i=function(e){return n.createElement("svg",s({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},e),r||(r=n.createElement("path",{fill:"currentColor",d:"M19.603 15.364a.75.75 0 1 1 .794 1.271l-6.94 4.338a2.75 2.75 0 0 1-2.914 0l-6.94-4.337a.75.75 0 1 1 .794-1.272l6.94 4.337a1.25 1.25 0 0 0 1.325 0zm0-4a.75.75 0 1 1 .794 1.271l-6.94 4.338a2.75 2.75 0 0 1-2.914 0l-6.94-4.337a.75.75 0 1 1 .794-1.272l6.94 4.337a1.25 1.25 0 0 0 1.325 0zm-7.907-9.05a.75.75 0 0 1 .702.05l8 5a.75.75 0 0 1 0 1.272l-8 5a.75.75 0 0 1-.796 0l-8-5a.75.75 0 0 1 0-1.272l8-5zM5.414 8 12 12.115 18.585 8 12 3.884z"})))}},135345:(e,t,a)=>{a.d(t,{N:()=>r});var r=function(e){return e.Personal="personal",e.Workspace="workspace",e}({})},154724:(e,t,a)=>{a.d(t,{o:()=>n});var r=a(443377);let n=(0,a(780493).w)(r.default,"ProgressActivityIcon")},170332:(e,t,a)=>{a.d(t,{U:()=>i});var r=a(20097),n=a(433080),s=a(375896);let i=e=>{let{plan:t,className:a}=e,{isInactivePlan:i,isFreePlan:l}=(0,n.cb)(t),o=(0,n._R)(t);return(0,r.jsx)("span",{className:(0,s.cn)("rounded-full px-2 py-px text-center text-xs font-medium uppercase transition-colors duration-150 ease-in-out md:text-[10px]",l||i?"bg-muted-active text-muted-foreground":"bg-brand-twilight-primary text-brand-twilight-primary-foreground",a),translate:"no",children:o})}},174423:(e,t,a)=>{a.d(t,{BX:()=>i,Yd:()=>u,eE:()=>n,g$:()=>l,lV:()=>d,sE:()=>o,td:()=>c,vV:()=>s});var r=a(926206);let n=3;async function s(e,t){return(0,r.Pg)().post("/workspaces/".concat(e,"/folders"),t)}async function i(e){return(0,r.Pg)().get("/workspaces/".concat(e,"/folders"))}async function l(e,t,a){return(0,r.Pg)().patch("/workspaces/".concat(e,"/folders/").concat(t),a)}async function o(e,t){let a=!(arguments.length>2)||void 0===arguments[2]||arguments[2];return(0,r.Pg)().delete("/workspaces/".concat(e,"/folders/").concat(t).concat(a?"?cascade=true":""))}async function c(e,t,a){return(0,r.Pg)().post("/workspaces/".concat(e,"/folders/").concat(t,"/projects/batch"),{project_ids:a})}async function d(e,t,a){return(0,r.Pg)().delete("/workspaces/".concat(e,"/folders/").concat(t,"/projects"),{project_ids:a})}async function u(e,t){return(0,r.Pg)().get("/workspaces/".concat(e,"/folders/").concat(t,"/projects"))}},255348:(e,t,a)=>{a.d(t,{HW:()=>l,P:()=>r,Rg:()=>o,jd:()=>n,mS:()=>s,t:()=>i});let r={V3:"3",V4:"4"},n="unsaved-untitled",s="default",i={sans:"Sans-serif",serif:"Serif",mono:"Mono"},l={sans:"Letters without decorative strokes. Clean, straightforward appearance.",serif:"Letters with small decorative strokes at the ends. Traditional, formal appearance.",mono:"Letters that each take up the same width. Commonly used for code."},o=Object.keys(i)},278854:(e,t,a)=>{a.d(t,{d:()=>n});var r=a(325413);function n(e){let{words:t,typingSpeed:a=30,deletingSpeed:n=30,pauseBetweenWords:s=1500,prefix:i="",onWordCompleted:l}=e,[o,c]=(0,r.useState)(0),[d,u]=(0,r.useState)(""),[m,h]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{if(!t||0===t.length)return;let e=[];return e.push(setTimeout(()=>{let a=t[o];if(a)if(m){if(""===d){h(!1),c(e=>(e+1)%t.length),null==l||l();return}u(a.substring(0,d.length-1))}else{if(d===a)return void e.push(setTimeout(()=>h(!0),s));u(a.substring(0,d.length+1))}},m?n:a)),()=>e.forEach(e=>clearTimeout(e))},[d,o,m,t,a,n,s,l]),{text:i+d,isDeleting:m}}},296493:(e,t,a)=>{a.d(t,{j:()=>n});var r=a(79567);let n=(0,a(780493).w)(r.A,"SquaresStackedIcon")},303276:(e,t,a)=>{a.d(t,{B:()=>l,C:()=>i});var r=a(20097),n=a(325413);let s=(0,n.createContext)({setSelectedProject:()=>{},setOpen:()=>{}});s.displayName="SupabaseConnectMenuContext";let i=()=>{let e=(0,n.useContext)(s);if(!e)throw Error("useSupabaseConnectMenuContext must be used within a SupabaseConnectMenuContext");return e},l=e=>{let{children:t,setSelectedProject:a,setOpen:n}=e;return(0,r.jsx)(s.Provider,{value:{setSelectedProject:a,setOpen:n},children:t})}},313259:(e,t,a)=>{a.d(t,{$:()=>d,r:()=>c});var r=a(20097),n=a(461364),s=a(715165),i=a(325413),l=a(375896),o=a(902357);let c=(0,s.F)("relative box-border inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-normal brightness-100 transition-[background-color,opacity,color,filter] duration-150 ease-in-out focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0",{variants:{variant:{solid:"btn-safari-fix before:pointer-events-none before:absolute before:inset-0 before:rounded-[inherit] before:bg-gradient-to-b before:from-white/[0.03] before:to-black/[0.03] shadow-[inset_0_0.5px_0_0_rgba(255,255,255,0.2),inset_0_0_0_0.5px_rgba(0,0,0,0.2),0_1px_2px_0_rgba(0,0,0,0.05)] dark:shadow-[inset_0_0.5px_0_0_rgba(255,255,255,0.2),inset_0_0_0_0.5px_rgba(255,255,255,0.1),0_1px_2px_0_rgba(0,0,0,0.05)] active:brightness-[0.65] disabled:brightness-100 [@media(hover:hover)]:hover:brightness-[0.8]",flat:"btn-safari-fix active:brightness-[0.65] disabled:brightness-100 [@media(hover:hover)]:hover:brightness-[0.8]",subtle:"btn-safari-fix active:brightness-[0.65] disabled:brightness-100 [@media(hover:hover)]:hover:brightness-[0.8]",outline:"outline outline-[0.5px] -outline-offset-[0.5px] outline-input bg-transparent focus-visible:outline-0 disabled:bg-transparent",ghost:"bg-transparent disabled:bg-transparent",link:"underline decoration-transparent underline-offset-4 transition-[text-decoration-color,opacity] active:opacity-80 disabled:decoration-transparent [@media(hover:hover)]:hover:decoration-current",text:"px-0 py-0 transition-opacity active:opacity-80 [@media(hover:hover)]:hover:opacity-90"},intent:{default:"",secondary:"",muted:"",affirmative:"",destructive:"",warning:"","brand-twilight":""},size:{xs:"h-6 gap-1 px-2 py-1 text-xs has-[>svg]:px-1.5 [&_svg:not([class*='size-'])]:size-3",sm:"h-7 gap-1.5 px-3 py-2 has-[>svg]:px-2.5 [&_svg:not([class*='size-'])]:size-3.5",default:"h-8 px-4 py-2 has-[>svg]:px-3 [&_svg:not([class*='size-'])]:size-4",md:"h-9 px-4 py-2 has-[>svg]:px-3 [&_svg:not([class*='size-'])]:size-4",lg:"h-11 px-8 has-[>svg]:px-6 [&_svg:not([class*='size-'])]:size-5"},rounded:{true:"rounded-full",false:""},iconOnly:{true:"!p-0",false:""},floatingButton:{true:"shadow-md",false:""}},compoundVariants:[{variant:"solid",intent:"default",className:"bg-primary text-primary-foreground"},{variant:"solid",intent:"secondary",className:"bg-secondary text-primary"},{variant:"solid",intent:"muted",className:"bg-muted text-muted-foreground"},{variant:"solid",intent:"affirmative",className:"bg-affirmative-primary text-affirmative-primary-foreground"},{variant:"solid",intent:"destructive",className:"bg-destructive-primary text-destructive-primary-foreground"},{variant:"solid",intent:"warning",className:"bg-warning-primary text-warning-primary-foreground"},{variant:"solid",intent:"brand-twilight",className:"bg-brand-twilight-primary text-affirmative-primary-foreground"},{variant:"flat",intent:"default",className:"bg-primary text-primary-foreground"},{variant:"flat",intent:"secondary",className:"bg-secondary text-primary"},{variant:"flat",intent:"muted",className:"bg-muted text-muted-foreground"},{variant:"flat",intent:"affirmative",className:"bg-affirmative-primary text-affirmative-primary-foreground"},{variant:"flat",intent:"destructive",className:"bg-destructive-primary text-destructive-primary-foreground"},{variant:"flat",intent:"warning",className:"bg-warning-primary text-warning-primary-foreground"},{variant:"flat",intent:"brand-twilight",className:"bg-brand-twilight-primary text-affirmative-primary-foreground"},{variant:"subtle",intent:"default",className:"bg-primary/30 text-primary-foreground"},{variant:"subtle",intent:"secondary",className:"bg-secondary/30 text-primary"},{variant:"subtle",intent:"muted",className:"bg-muted/30 text-muted-foreground"},{variant:"subtle",intent:"affirmative",className:"btn-safari-fix-subtle-affirmative bg-accent text-accent-foreground active:brightness-[0.90] [@media(hover:hover)]:hover:brightness-[0.95]"},{variant:"subtle",intent:"destructive",className:"bg-destructive-primary/30 text-destructive-foreground"},{variant:"subtle",intent:"warning",className:"bg-warning-primary/30 text-warning-foreground"},{variant:"subtle",intent:"brand-twilight",className:"bg-brand-twilight-primary/30 text-brand-twilight-foreground"},{variant:"outline",intent:"default",className:"outline-primary/40 text-primary active:bg-primary/[0.03] dark:active:bg-primary/10 [@media(hover:hover)]:hover:bg-primary/5 [@media(hover:hover)]:dark:hover:bg-primary/20"},{variant:"outline",intent:"secondary",className:"outline-secondary text-secondary active:bg-secondary/10 dark:active:bg-secondary/5 [@media(hover:hover)]:hover:bg-secondary/20 [@media(hover:hover)]:dark:hover:bg-secondary/10"},{variant:"outline",intent:"muted",className:"outline-input text-muted-foreground active:bg-primary/[0.03] [@media(hover:hover)]:hover:bg-primary/5"},{variant:"outline",intent:"affirmative",className:"outline-affirmative-primary text-affirmative-primary active:bg-affirmative-primary/10 dark:outline-affirmative-foreground dark:text-affirmative-foreground [@media(hover:hover)]:hover:bg-affirmative-primary/20"},{variant:"outline",intent:"destructive",className:"outline-destructive-primary text-destructive-primary active:bg-destructive-primary/10 dark:outline-destructive-foreground dark:text-destructive-foreground [@media(hover:hover)]:hover:bg-destructive-primary/20"},{variant:"outline",intent:"warning",className:"outline-warning-primary text-warning-primary active:bg-warning-primary/10 dark:outline-warning-foreground dark:text-warning-foreground [@media(hover:hover)]:hover:bg-warning-primary/20"},{variant:"outline",intent:"brand-twilight",className:"outline-brand-twilight-primary text-brand-twilight-primary active:bg-brand-twilight-primary/10 dark:outline-brand-twilight-foreground dark:text-brand-twilight-foreground [@media(hover:hover)]:hover:bg-brand-twilight-primary/20"},{variant:"ghost",intent:"default",className:"text-primary active:bg-primary/[0.03] dark:active:bg-primary/10 [@media(hover:hover)]:hover:bg-primary/5 [@media(hover:hover)]:dark:hover:bg-primary/20"},{variant:"ghost",intent:"secondary",className:"text-secondary active:bg-secondary/10 dark:active:bg-secondary/5 [@media(hover:hover)]:hover:bg-secondary/20 [@media(hover:hover)]:dark:hover:bg-secondary/10"},{variant:"ghost",intent:"muted",className:"text-muted-foreground active:bg-primary/[0.03] [@media(hover:hover)]:hover:bg-primary/5"},{variant:"ghost",intent:"affirmative",className:"text-affirmative-primary active:bg-affirmative-primary/10 dark:text-affirmative-foreground [@media(hover:hover)]:hover:bg-affirmative-primary/20"},{variant:"ghost",intent:"destructive",className:"text-destructive-primary active:bg-destructive-primary/10 dark:text-destructive-foreground [@media(hover:hover)]:hover:bg-destructive-primary/20"},{variant:"ghost",intent:"warning",className:"text-warning-primary active:bg-warning-primary/10 dark:text-warning-foreground [@media(hover:hover)]:hover:bg-warning-primary/20"},{variant:"ghost",intent:"brand-twilight",className:"text-brand-twilight-primary active:bg-brand-twilight-primary/10 dark:text-brand-twilight-foreground [@media(hover:hover)]:hover:bg-brand-twilight-primary/20"},{variant:"link",intent:"default",className:"text-primary"},{variant:"link",intent:"secondary",className:"text-secondary"},{variant:"link",intent:"muted",className:"text-muted-foreground"},{variant:"link",intent:"affirmative",className:"text-affirmative-primary dark:text-affirmative-foreground"},{variant:"link",intent:"destructive",className:"text-destructive-primary dark:text-destructive-foreground"},{variant:"link",intent:"warning",className:"text-warning-primary dark:text-warning-foreground"},{variant:"link",intent:"brand-twilight",className:"text-brand-twilight-primary dark:text-brand-twilight-foreground"},{variant:"text",intent:"default",className:"text-primary"},{variant:"text",intent:"secondary",className:"text-secondary"},{variant:"text",intent:"muted",className:"text-muted-foreground"},{variant:"text",intent:"affirmative",className:"text-affirmative-primary dark:text-affirmative-foreground"},{variant:"text",intent:"destructive",className:"text-destructive-primary dark:text-destructive-foreground"},{variant:"text",intent:"warning",className:"text-warning-primary dark:text-warning-foreground"},{variant:"text",intent:"brand-twilight",className:"text-brand-twilight-primary dark:text-brand-twilight-foreground"},{variant:"solid",floatingButton:!0,className:"shadow-[inset_0_0.5px_0_0_rgba(255,255,255,0.2),inset_0_0_0_0.5px_rgba(0,0,0,0.2),0_4px_6px_-1px_rgba(0,0,0,0.1),0_2px_4px_-2px_rgba(0,0,0,0.1)] dark:shadow-[inset_0_0.5px_0_0_rgba(255,255,255,0.2),inset_0_0_0_0.5px_rgba(255,255,255,0.1),0_4px_6px_-1px_rgba(0,0,0,0.1),0_2px_4px_-2px_rgba(0,0,0,0.1)]"},{iconOnly:!0,size:"xs",className:"h-6 w-6"},{iconOnly:!0,size:"sm",className:"h-7 w-7"},{iconOnly:!0,size:"default",className:"h-8 w-8"},{iconOnly:!0,size:"md",className:"h-9 w-9"},{iconOnly:!0,size:"lg",className:"h-11 w-11"}],defaultVariants:{variant:"solid",intent:"default",size:"default",rounded:!1,iconOnly:!1,floatingButton:!1}}),d=i.forwardRef((e,t)=>{let{className:a,variant:s,intent:d,size:u,rounded:m,iconOnly:h,floatingButton:p,asChild:g=!1,children:f,loading:x,loadingText:v,disabled:b,animateTrailingIconOnHover:y,type:j="button",...w}=e,S=g?n.DX:"button";return(0,r.jsx)(S,{className:(0,l.cn)(c({variant:s,intent:d,size:u,rounded:m,iconOnly:h,floatingButton:p,className:a}),y&&"[&:hover>*:last-child]:translate-x-0.5 [&>*:last-child]:transition-transform [&>*:last-child]:duration-150"),ref:t,type:j,...w,disabled:b||x,children:x?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.y,{size:"small"}),v||i.Children.toArray(f).filter(e=>"string"==typeof e||"number"==typeof e)]}):f})});d.displayName="Button"},321985:(e,t,a)=>{a.d(t,{K:()=>s});var r=a(20097),n=a(582308);function s(e){let{children:t}=e;return(0,n.b)()?null:(0,r.jsx)(r.Fragment,{children:t})}},339839:(e,t,a)=>{a.d(t,{j:()=>u,l:()=>d});var r=a(325413),n=a(21696),s=a(488381),i=a(262639),l=a(926206),o=a(96324),c=a(640715);let d=()=>{let{themes:e}=u(),{authUser:t}=(0,n.Z2)();return(0,r.useMemo)(()=>{let a=null==t?void 0:t.uid,r=(null==e?void 0:e.filter(e=>!e.libraryId))||[];return[{title:"Your themes",themes:a&&(null==e?void 0:e.filter(e=>e.libraryId&&e.created_by===a))||[],id:"your-themes"},{title:"Workspace themes",themes:a?(null==e?void 0:e.filter(e=>e.libraryId&&e.created_by!==a))||[]:(null==e?void 0:e.filter(e=>e.libraryId))||[],id:"workspace-themes"},{title:"Default themes",themes:r,id:"default-themes"}]},[e,null==t?void 0:t.uid])},u=()=>{let{currentWorkspaceId:e}=(0,s.Dx)(),t=(0,l.Pg)(),{data:a,isLoading:r,error:n}=(0,i.I4)({queryKey:["workspace-themes",e],queryFn:async()=>{let a=await t.get("/workspaces/".concat(e,"/themes"));if(null===a.themes||0===a.themes.length)return[];let r=[];for(let e of a.themes)try{let t=JSON.parse(e.content),a=t.cssVars,n={light:a.light||{},dark:a.dark||{}};r.push({id:e.id,name:e.name,cssVars:n,libraryId:e.library_id,isStatic:e.is_static_theme,rules:e.rules||"",created_at:e.created_at,updated_at:e.updated_at,created_by:e.created_by,tailwind:t.tailwind,css:t.css})}catch(t){o.logging.error("failed_to_parse_theme_content",{themeName:e.name,themeId:e.id,error:t})}return r},permission:c.eZ.ViewWorkspaceLibraries,enabled:!!e,staleTime:3e5});return{themes:a,isLoading:r,error:n}}},375896:(e,t,a)=>{a.d(t,{cn:()=>s,g:()=>i});var r=a(137221),n=a(742893);function s(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,n.Q)((0,r.$)(t))}function i(e){return!e||e.startsWith("http://")||e.startsWith("https://")?e:"https://".concat(e)}},378684:(e,t,a)=>{a.d(t,{Fd:()=>b,HP:()=>v,Si:()=>x,Xn:()=>p,Zi:()=>w,_U:()=>y,bJ:()=>k,eJ:()=>j,gV:()=>S,ow:()=>f});var r=a(134472),n=a(715429),s=a(183031),i=a(400282),l=a(83245),o=a(174423),c=a(926206),d=a(630298),u=a(135345),m=a(640715),h=a(262639);let p={all:["folders"],lists:()=>[...p.all,"list"],list:e=>[...p.lists(),e],projectsInFolder:(e,t)=>[...p.all,"projects",e,t]};function g(e,t){return"conflict"===e.type&&409===e.status?e.message||"A folder with this name already exists":e.details||e.message||t}function f(e){var t;let a=(0,h.I4)({queryKey:p.list(null!=e?e:""),queryFn:()=>e?(0,o.BX)(e):Promise.resolve([]),permission:m.eZ.ViewWorkspaceFolders,enabled:!!e});return{folders:null!=(t=a.data)?t:[],isLoading:a.isLoading,error:a.error,refetch:a.refetch}}function x(e){let t=(0,r.jE)();return(0,n.n)({mutationFn:t=>{if(!e)throw Error("Workspace ID is required");return(0,o.vV)(e,t)},onSuccess:a=>{l.toast.success("Folder created successfully"),e&&(t.setQueryData(p.list(e),e=>[...null!=e?e:[],a]),t.invalidateQueries({queryKey:p.list(e)}))},onError:e=>{let t=g(e,"Failed to create folder");l.toast.error(t)}})}function v(e){let t=(0,r.jE)(),a=e?p.list(e):null;return(0,n.n)({mutationFn:t=>{let{folderId:a,data:r}=t;if(!e)throw Error("Workspace ID is required");return(0,o.g$)(e,a,r)},onMutate:async e=>{let{folderId:r,data:n}=e;if(!a)return;await t.cancelQueries({queryKey:a});let s=t.getQueryData(a);return t.setQueryData(a,e=>e?e.map(e=>e.id!==r?e:{...e,...n.name&&{name:n.name},...void 0!==n.color&&{color:n.color},...void 0!==n.parent_id&&{parent_id:n.parent_id||void 0},...void 0!==n.visibility&&{visibility:n.visibility}}):e),{previousFolders:s}},onSuccess:()=>{l.toast.success("Folder updated successfully")},onError:(e,r,n)=>{a&&(null==n?void 0:n.previousFolders)&&t.setQueryData(a,n.previousFolders);let s=g(e,"Failed to update folder");l.toast.error(s)},onSettled:(r,n,s)=>{let{data:i}=s;a&&t.invalidateQueries({queryKey:a}),e&&void 0!==i.visibility&&(t.invalidateQueries({queryKey:d.workspaceKeys.projectsBase(e)}),t.invalidateQueries({queryKey:d.workspaceKeys.searchProjectsBase(e)}),t.invalidateQueries({queryKey:["project-folder"]}))}})}function b(e){let t=(0,r.jE)(),a=(0,i.useRouter)();return(0,n.n)({mutationFn:t=>{if(!e)throw Error("Workspace ID is required");return(0,o.sE)(e,t,!0)},onSuccess:()=>{if(l.toast.success("Folder deleted successfully"),e){let r=t.getQueryData(p.list(e));r&&1===r.length&&a.push("/dashboard/projects"),t.invalidateQueries({queryKey:p.list(e)}),t.invalidateQueries({queryKey:d.workspaceKeys.projectsBase(e)}),t.invalidateQueries({queryKey:d.workspaceKeys.searchProjectsBase(e)}),t.invalidateQueries({queryKey:["project-folder"]})}},onError:e=>{l.toast.error(e.message||"Failed to delete folder")}})}function y(e){let t=(0,r.jE)();return(0,n.n)({mutationFn:t=>{let{folderId:a,projectIds:r}=t;if(!e)throw Error("Workspace ID is required");return(0,o.td)(e,a,r)},onMutate:async a=>{let{folderId:r,projectIds:n}=a;if(!e)return;t.setQueryData(p.projectsInFolder(e,r),e=>[...null!=e?e:[],...n]);let s=t.getQueryData(p.list(e)),i=null==s?void 0:s.find(e=>e.id===r),l=(null==i?void 0:i.visibility)===u.N.Personal?"draft":(null==i?void 0:i.visibility)===u.N.Workspace?"private":void 0;t.setQueriesData({queryKey:d.workspaceKeys.projectsBase(e)},e=>(null==e?void 0:e.projects)?{...e,projects:e.projects.map(e=>n.includes(e.id)?{...e,folder_id:r,...l&&{visibility:l}}:e)}:e)},onError:e=>{l.toast.error(e.message||"Failed to add projects to folder")},onSettled:(a,r,n)=>{if(e)for(let a of(t.invalidateQueries({queryKey:p.projectsInFolder(e,n.folderId)}),t.invalidateQueries({queryKey:d.workspaceKeys.projectsBase(e)}),t.invalidateQueries({queryKey:d.workspaceKeys.searchProjectsBase(e)}),n.projectIds))t.invalidateQueries({queryKey:["project-folder",e,a]})}})}function j(e){let t=(0,r.jE)();return(0,n.n)({mutationFn:t=>{let{folderId:a,projectIds:r}=t;if(!e)throw Error("Workspace ID is required");return(0,o.lV)(e,a,r)},onMutate:async a=>{let{folderId:r,projectIds:n,movingToFolderId:s}=a;if(!e)return;t.setQueryData(p.projectsInFolder(e,r),e=>(null!=e?e:[]).filter(e=>!n.includes(e))),t.setQueriesData({queryKey:d.workspaceKeys.projectsBase(e)},e=>(null==e?void 0:e.projects)?{...e,projects:e.projects.map(e=>n.includes(e.id)?{...e,folder_id:s}:e)}:e);let i=new Set(n);t.setQueriesData({queryKey:d.workspaceKeys.searchProjectsBase(e),predicate:e=>e.queryKey.includes(r)},e=>{if(!(null==e?void 0:e.pages))return e;let t=0,a=e.pages.map(e=>{let a=e.projects.filter(e=>!i.has(e.id));return t+=e.projects.length-a.length,{...e,projects:a}});return{...e,pages:a.map(e=>({...e,total:Math.max(0,e.total-t)}))}})},onError:e=>{l.toast.error(e.message||"Failed to remove projects from folder")},onSettled:(a,r,n)=>{if(e)for(let a of(t.invalidateQueries({queryKey:p.projectsInFolder(e,n.folderId)}),t.invalidateQueries({queryKey:d.workspaceKeys.projectsBase(e)}),t.invalidateQueries({queryKey:d.workspaceKeys.searchProjectsBase(e)}),n.projectIds))t.invalidateQueries({queryKey:["project-folder",e,a]})}})}function w(e,t){var a;let r=(0,s.I)({queryKey:p.projectsInFolder(null!=e?e:"",null!=t?t:""),queryFn:()=>e&&t?(0,o.Yd)(e,t):Promise.resolve([]),enabled:!!e&&!!t});return{projectIds:null!=(a=r.data)?a:[],isLoading:r.isLoading,error:r.error,refetch:r.refetch}}function S(e){let t=(0,r.jE)();return(0,n.n)({mutationFn:async t=>{let{folderIds:a,parentId:r}=t;if(!e)throw Error("Workspace ID is required");let n=(0,c.Pg)();await n.put("/user/preferences/folder-order",{workspace_id:e,parent_id:null!=r?r:"root",folder_ids:a})},onMutate:async a=>{let{folderIds:r,parentId:n}=a;if(!e)return;let s=p.list(e);await t.cancelQueries({queryKey:s});let i=t.getQueryData(s);return t.setQueryData(s,e=>{if(!e)return e;let t=e.filter(e=>{var t;return(null!=(t=e.parent_id)?t:null)===n}),a=e.filter(e=>{var t;return(null!=(t=e.parent_id)?t:null)!==n}),s=new Set(r),i=new Map(t.map(e=>[e.id,e])),l=[];for(let e of r){let t=i.get(e);t&&l.push(t)}return[...l,...t.filter(e=>!s.has(e.id)),...a]}),{previousFolders:i}},onError:(a,r,n)=>{e&&(null==n?void 0:n.previousFolders)&&t.setQueryData(p.list(e),n.previousFolders),l.toast.error("Failed to reorder folders")},onSettled:()=>{e&&t.invalidateQueries({queryKey:p.list(e)})}})}function k(e,t,a){let r=e.findIndex(e=>e.id===t);if(-1===r||r===a||r+1===a)return null;let n=[...e],[s]=n.splice(r,1);return n.splice(a>r?a-1:a,0,s),n}},399124:(e,t,a)=>{a.d(t,{Aj:()=>o,Kw:()=>i,Sf:()=>n,g8:()=>s,sT:()=>l});let r=/(\d+(?:\.\d+)?)\s+(\d+(?:\.\d+)?)%\s+(\d+(?:\.\d+)?)%/;function n(e){let t,a,n;if(!e||"transparent"===e||"inherit"===e)return e;let s=e.match(r);if(!s)return"#000000";let[,i,l,o]=s,c=parseFloat(i)/360,d=parseFloat(l)/100,u=parseFloat(o)/100,m=(e,t,a)=>(a<0&&(a+=1),a>1&&(a-=1),a<1/6)?e+(t-e)*6*a:a<.5?t:a<2/3?e+(t-e)*(2/3-a)*6:e;if(0===d)t=a=n=u;else{let e=u<.5?u*(1+d):u+d-u*d,r=2*u-e;t=m(r,e,c+1/3),a=m(r,e,c),n=m(r,e,c-1/3)}let h=e=>{let t=Math.round(255*e).toString(16);return 1===t.length?"0"+t:t};return"#".concat(h(t)).concat(h(a)).concat(h(n))}function s(e){let t,a;if(!e||"transparent"===e||"inherit"===e)return e;3===(e=e.replace("#","")).length&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]);let r=parseInt(e.substr(0,2),16)/255,n=parseInt(e.substr(2,2),16)/255,s=parseInt(e.substr(4,2),16)/255,i=Math.max(r,n,s),l=Math.min(r,n,s),o=(i+l)/2;if(i===l)t=a=0;else{let e=i-l;switch(a=o>.5?e/(2-i-l):e/(i+l),i){case r:t=(n-s)/e+6*(n<s);break;case n:t=(s-r)/e+2;break;case s:t=(r-n)/e+4;break;default:t=0}t/=6}let c=Math.round(360*t),d=Math.round(100*a*1e4)/1e4,u=Math.round(100*o*1e4)/1e4;return"".concat(c," ").concat(d,"% ").concat(u,"%")}function i(e){return!!e&&("transparent"===e||"inherit"===e||r.test(e))}function l(e){return({"--primary":"Primary","--primary-foreground":"Primary Text","--secondary":"Secondary","--secondary-foreground":"Secondary Text","--accent":"Accent","--accent-foreground":"Accent Text","--background":"Background","--foreground":"Text","--card":"Card","--card-foreground":"Card Text","--popover":"Popover","--popover-foreground":"Popover Text","--muted":"Muted","--muted-foreground":"Muted Text","--destructive":"Destructive","--destructive-foreground":"Destructive Text","--border":"Border","--input":"Input","--ring":"Focus Ring","--chart-1":"Chart 1","--chart-2":"Chart 2","--chart-3":"Chart 3","--chart-4":"Chart 4","--chart-5":"Chart 5","--sidebar":"Sidebar","--sidebar-foreground":"Sidebar Text","--sidebar-primary":"Sidebar Primary","--sidebar-primary-foreground":"Sidebar Primary Text","--sidebar-accent":"Sidebar Accent","--sidebar-accent-foreground":"Sidebar Accent Text","--sidebar-border":"Sidebar Border","--sidebar-ring":"Sidebar Focus Ring"})[e]||e.replace("--","").replace(/-/g," ")}function o(e){return["--primary","--accent-foreground","--chart-1","--chart-2","--secondary","--muted","--foreground","--accent","--background","--chart-3","--border","--destructive"].map(t=>e[t]).filter(e=>!!e&&i(e)&&"transparent"!==e&&"inherit"!==e)}},408817:(e,t,a)=>{a.d(t,{C:()=>p});var r=a(546512),n=a.n(r),s=a(602571),i=a(998383),l=a(473624),o=a(255348),c=a(755613);let d=(e,t)=>{var a,r,n,s,i,l;let o={},d=null==(s=e.tailwind)||null==(n=s.config)||null==(r=n.theme)||null==(a=r.extend)?void 0:a.fontFamily;return d&&Object.entries(d).forEach(e=>{let[t,a]=e,r="string"==typeof a?a:a[0],n=c.N.getFontFamilyFromName(r);"string"!=typeof n&&(o[t]=n)}),{selectedTheme:e.id,lightModeVariables:(null==(i=e.cssVars)?void 0:i.light)||{},darkModeVariables:(null==(l=e.cssVars)?void 0:l.dark)||{},mode:null!=t?t:"light",fontSelections:o,rules:e.rules||""}};function u(e,t){if(void 0===t)return;let a=t===o.jd?o.mS:t;return null==e?void 0:e.allThemes.find(e=>e.id===a)}function m(e,t){let a=Date.now(),r=e.history.length>0?e.history[e.history.length-1]:null;(!r||a-r.timestamp>=500)&&(e.history=[...e.history,{state:t,timestamp:a}],e.future=[],e.history.length>30&&e.history.shift())}function h(e){let t=u(e.themesData,e.themeState.selectedTheme);if(!t){e.hasChanges=!1;return}let a=d(t),r=!n()(e.themeState.lightModeVariables,a.lightModeVariables),s=!n()(e.themeState.darkModeVariables,a.darkModeVariables),i=!n()(e.themeState.fontSelections,a.fontSelections),l=e.themeState.rules!==a.rules;e.hasChanges=r||s||i||l}let p=(0,s.vt)()((0,i.Zr)((0,l.D)((e,t)=>({themeState:{selectedTheme:void 0,lightModeVariables:{},darkModeVariables:{},mode:"light",fontSelections:{},rules:""},currentThemeInfo:null,history:[],future:[],hasChanges:!1,themesData:null,hasUnsavedTheme:!1,getCurrentThemeVariables:()=>{let e=t();return function(e,t,a){return"light"===a?e:{...e,...t}}(e.themeState.lightModeVariables,e.themeState.darkModeVariables,e.themeState.mode)},setSelectedTheme:(t,a)=>{e(e=>{let r={...e.themeState};e.themeState.selectedTheme=t,e.currentThemeInfo&&(void 0===t?e.currentThemeInfo=null:(e.currentThemeInfo.themeData&&(e.currentThemeInfo.themeData.libraryId=a),e.currentThemeInfo.isStatic=!a)),r.selectedTheme===o.jd&&t!==o.jd&&void 0!==t&&(e.hasUnsavedTheme=!1),r.selectedTheme!==t&&m(e,r),h(e)})},setCurrentThemeData:t=>{e(e=>{e.themeState=d(t,e.themeState.mode),e.currentThemeInfo={themeData:t,isStatic:!t.libraryId},e.hasChanges=!1})},setMode:t=>{e(e=>{e.themeState.mode!==t&&(e.themeState.mode=t,h(e))})},setFontSelections:t=>{e(e=>{let a={...e.themeState};"function"==typeof t?e.themeState.fontSelections=t(e.themeState.fontSelections):e.themeState.fontSelections=t,n()(a.fontSelections,e.themeState.fontSelections)||m(e,a),h(e)})},setRules:t=>{e(e=>{let a={...e.themeState};"function"==typeof t?e.themeState.rules=t(e.themeState.rules):e.themeState.rules=t,a.rules!==e.themeState.rules&&m(e,a),h(e)})},setThemesData:t=>{e(e=>{e.themesData=t})},updateThemeVariable:(t,a)=>{e(e=>{let r={...e.themeState};"light"===e.themeState.mode?e.themeState.lightModeVariables={...e.themeState.lightModeVariables,[t]:a}:e.themeState.darkModeVariables={...e.themeState.darkModeVariables,[t]:a},("light"===e.themeState.mode?r.lightModeVariables[t]:r.darkModeVariables[t])!==a&&m(e,r),h(e)})},updateThemeSystemVariable:(t,a)=>{e(e=>{let r={...e.themeState};"dark"===e.themeState.mode&&e.themeState.darkModeVariables[t]?e.themeState.darkModeVariables={...e.themeState.darkModeVariables,[t]:a}:e.themeState.lightModeVariables={...e.themeState.lightModeVariables,[t]:a},r.lightModeVariables[t]!==a&&m(e,r),h(e)})},undo:()=>{e(e=>{if(0===e.history.length)return;let t={...e.themeState},a=e.themeState.mode,r=e.history[e.history.length-1];e.future=[{state:t,timestamp:Date.now()},...e.future],e.themeState={...r.state,mode:a},e.history=e.history.slice(0,-1),h(e)})},redo:()=>{e(e=>{if(0===e.future.length)return;let t={...e.themeState},a=e.themeState.mode,r=e.future[0],n={state:t,timestamp:Date.now()},s=[...e.history,n];s.length>30&&s.shift(),e.history=s,e.themeState={...r.state,mode:a},e.future=e.future.slice(1),h(e)})},canUndo:()=>t().history.length>0,canRedo:()=>t().future.length>0,resetToOriginal:()=>{e(e=>{let t={...e.themeState},a=u(e.themesData,e.themeState.selectedTheme);a&&(e.themeState=d(a,e.themeState.mode),e.currentThemeInfo={themeData:a,isStatic:!a.libraryId},m(e,t),e.hasChanges=!1)})},hasUnsavedChanges:()=>{let{hasChanges:e}=t();return e},createNewBlankTheme:()=>{e(e=>{var t,a;let r={...e.themeState},n=u(e.themesData,o.mS);e.themeState.selectedTheme=o.jd,e.themeState.lightModeVariables={...null==n||null==(t=n.cssVars)?void 0:t.light},e.themeState.darkModeVariables={...null==n||null==(a=n.cssVars)?void 0:a.dark},e.themeState.fontSelections={},e.themeState.rules="",e.hasUnsavedTheme=!0,m(e,r),h(e)})},clearUnsavedTheme:()=>{e(e=>{if(e.hasUnsavedTheme=!1,e.themeState.selectedTheme===o.jd){var t,a;let r={...e.themeState},n=u(e.themesData,o.mS);e.themeState.selectedTheme=void 0,e.themeState.lightModeVariables={...null==n||null==(t=n.cssVars)?void 0:t.light},e.themeState.darkModeVariables={...null==n||null==(a=n.cssVars)?void 0:a.dark},e.themeState.fontSelections={},e.themeState.rules="",m(e,r),h(e)}})},clearHistory:()=>{e(e=>{e.history=[],e.future=[]})},importTheme:(t,a)=>{e(e=>{var r,n;let s={...e.themeState},i=u(e.themesData,o.mS);e.themeState.lightModeVariables={...null==i||null==(r=i.cssVars)?void 0:r.light,...t},e.themeState.darkModeVariables={...null==i||null==(n=i.cssVars)?void 0:n.dark,...a},e.themeState.selectedTheme=o.jd,e.hasUnsavedTheme=!0,e.themeState.fontSelections={},e.themeState.rules="",m(e,s),h(e)})}})),{name:"theme-editor-storage",partialize:e=>({themeState:e.themeState}),merge:(e,t)=>{var a,r,n,s,i,l;let o=null==e?void 0:e.themeState,c=t.themeState;return{...t,themeState:{selectedTheme:null!=(a=null==o?void 0:o.selectedTheme)?a:c.selectedTheme,lightModeVariables:null!=(r=null==o?void 0:o.lightModeVariables)?r:c.lightModeVariables,darkModeVariables:null!=(n=null==o?void 0:o.darkModeVariables)?n:c.darkModeVariables,mode:null!=(s=null==o?void 0:o.mode)?s:c.mode,fontSelections:null!=(i=null==o?void 0:o.fontSelections)?i:c.fontSelections,rules:null!=(l=null==o?void 0:o.rules)?l:c.rules}}}}))},412753:(e,t,a)=>{a.d(t,{z:()=>i});var r=a(20097),n=a(381222),s=a(640009);let i=e=>{var t;let{isInteractive:a=!1,className:i,workspace:l,shape:o,...c}=e,d=(0,s.Q)(null==l?void 0:l.id),u=null==l?void 0:l.name,m=null!=(t=null==l?void 0:l.image_url)?t:void 0;return(0,r.jsx)(n._,{name:u,isInteractive:a,photoSrc:m,userColor:d,className:i,isWorkspace:!0,shape:o,...c})}},443377:(e,t,a)=>{a.r(t),a.d(t,{default:()=>i});var r,n=a(325413);function s(){return(s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(null,arguments)}let i=function(e){return n.createElement("svg",s({xmlns:"http://www.w3.org/2000/svg",width:48,height:48,viewBox:"0 -960 960 960"},e),r||(r=n.createElement("path",{d:"M480-80q-84 0-157-31t-127-85-85-127-31-157 31-157 85-127 127-85 157-31q12 0 21 9t9 21-9 21-21 9q-141 0-240.5 99.5T140-480t99.5 240.5T480-140t240.5-99.5T820-480q0-12 9-21t21-9 21 9 9 21q0 84-31 157t-85 127-127 85-157 31"})))}},477877:(e,t,a)=>{a.d(t,{P:()=>r,y:()=>n});let r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"light";return e&&("light"===t||"dark"===t)&&e[t]||{}},n=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"light",n=e.find(e=>e.id===t);return n?r(n.cssVars,a):{}}},479888:(e,t,a)=>{a.d(t,{A:()=>u});var r=a(20097),n=a(325413),s=a(501269),i=a(412753),l=a(313259),o=a(480695),c=a(667773),d=a(170332);function u(e){let{open:t,onOpenChange:a,onWorkspaceSelect:i,selectedWorkspaceId:c}=e,d=(0,s.Mu)(e=>e.workspaces),u=(0,s.Mu)(e=>e.isLoading),h=(0,n.useCallback)(e=>{e.id&&(i(e.id),a(!1))},[i,a]);return(0,r.jsx)(o.lG,{open:t,onOpenChange:a,children:(0,r.jsxs)(o.Cf,{className:"max-h-screen w-96 gap-4",size:"sm",onOpenAutoFocus:e=>e.preventDefault(),children:[(0,r.jsxs)(o.c7,{children:[(0,r.jsx)(o.L3,{className:"text-xl",children:"Choose Workspace for Auto-Submit"}),(0,r.jsx)(o.rr,{className:"text-sm",children:"Please select which workspace to create this project in."})]}),u?(0,r.jsx)("div",{className:"flex max-h-72 w-full flex-col space-y-2 overflow-y-auto p-2",children:Array.from({length:3}).map((e,t)=>(0,r.jsxs)("div",{className:"flex items-center gap-3 px-3 py-3",children:[(0,r.jsx)("div",{className:"h-8 w-8 animate-pulse rounded bg-muted"}),(0,r.jsx)("div",{className:"h-4 flex-1 animate-pulse rounded bg-muted"})]},t))}):(0,r.jsx)("div",{className:"flex max-h-72 w-full flex-col overflow-y-auto",children:d.map(e=>{var t;return(0,r.jsx)(m,{workspace:e,onSelect:()=>h(e),selected:c==e.id},null!=(t=e.id)?t:"fake-workspace-id")})}),(0,r.jsx)("div",{className:"flex justify-end",children:(0,r.jsx)(l.$,{variant:"outline",onClick:()=>a(!1),children:"Cancel"})})]})})}let m=e=>{let{workspace:t,onSelect:a,selected:n}=e;return(0,r.jsxs)(l.$,{variant:"ghost",onClick:a,className:"group flex h-auto w-full items-center justify-start gap-3 px-3 py-3 text-left",children:[(0,r.jsx)(i.z,{workspace:t}),(0,r.jsx)("p",{className:"min-w-0 truncate text-sm",translate:"no",children:t.name}),t.plan&&(0,r.jsx)(d.U,{plan:t.plan}),n&&(0,r.jsx)(c.t,{size:"small",className:"ml-auto"})]})}},485212:(e,t,a)=>{a.d(t,{K:()=>r});var r=function(e){return e.ACTIVE_HEALTHY="ACTIVE_HEALTHY",e.ACTIVE_UNHEALTHY="ACTIVE_UNHEALTHY",e.COMING_UP="COMING_UP",e.GOING_DOWN="GOING_DOWN",e.INACTIVE="INACTIVE",e.INIT_FAILED="INIT_FAILED",e.REMOVED="REMOVED",e.RESTARTING="RESTARTING",e.RESIZING="RESIZING",e.UNKNOWN="UNKNOWN",e.UPGRADING="UPGRADING",e.PAUSING="PAUSING",e.RESTORING="RESTORING",e.RESTORE_FAILED="RESTORE_FAILED",e.PAUSE_FAILED="PAUSE_FAILED",e}({})},519217:(e,t,a)=>{a.d(t,{CreateForm:()=>aP,A:()=>aM});var r=a(20097),n=a(980451),s=a(400282),i=a(618407),l=a(470800),o=a(325413),c=a(83245),d=a(767878),u=a(382017),m=a(902906),h=a(728036),p=a(801021),g=a(21696),f=a(760660),x=a(476230),v=a(665898),b=a(536630);let y=e=>{let{children:t,align:a="start"}=e,{authUser:n}=(0,g.Z2)(),s=(0,f.A)(),l=(0,i.c3)("AttachImageActionModal"),o=(0,b.J)();if(n)return(0,r.jsx)(r.Fragment,{children:t});let c=(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(x.rQ,{children:l("signInPromptTitle")}),(0,r.jsx)(x.nU,{children:l("signInPromptDescription")}),(0,r.jsx)(x.AZ,{children:(0,r.jsx)(x.tM,{onClick:()=>s("signup"),children:l("signIn")})})]});return o?(0,r.jsxs)(v.AM,{children:[(0,r.jsx)(v.Wv,{asChild:!0,children:(0,r.jsx)("span",{className:"inline-flex *:pointer-events-none",children:t})}),(0,r.jsx)(v.hl,{align:a,className:"w-64 rounded-3xl",collisionPadding:16,children:c})]}):(0,r.jsxs)(x.jc,{children:[(0,r.jsx)(x.d0,{asChild:!0,children:t}),(0,r.jsx)(x.HP,{children:(0,r.jsx)(x.Et,{className:"rounded-3xl",align:a,children:c})})]})};var j=a(830594),w=a(770917),S=a(676337),k=a(332986),N=a(372884),C=a(488381),_=a(815198),I=a(506286),E=a(501269),A=a(159227),T=a(536005),M=a(599923),P=a(834669),D=a(51100),F=a(321985),L=a(762296),R=a(612466),O=a(313259),z=a(904879),V=a(440460),U=a(888047),K=a(485544),W=a(373924),q=a(198623),B=a(213978),G=a(433080),H=a(375896),Q=a(640715),$=a(21998),Z=a(468852),Y=a(654142),J=a(412947);let X=e=>{let{visibility:t,setVisibility:a,onClick:n,disabled:s,className:l,customPrivateDescription:o,customPublicDescription:c,redirectToSubscription:d=!1,workspacePlan:u,workspace:m}=e,h=(0,i.c3)("VisibilitySelection"),{permitted:p,isLoading:g}=(0,I.J)(Q.eZ.FeatureDraftProjects),f=(0,$.B)(),{openSettings:x}=(0,q.t)(),v=g||p,{isEnterprisePlan:b}=(0,G.cb)(u);return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(Y.z,{className:l,disabled:s,defaultValue:R.Lu.Private,value:t,onValueChange:e=>{a(e)},children:[!b&&(0,r.jsxs)("div",{className:"flex items-start gap-2",children:[(0,r.jsx)(Y.C,{value:R.Lu.Public,id:"public",disabled:(null==m?void 0:m.disable_publish)===!0,onClick:()=>{(null==m?void 0:m.disable_publish)||null==n||n()}}),(0,r.jsxs)(Z.Label,{htmlFor:"public",className:(0,H.cn)("flex w-full justify-between",(null==m?void 0:m.disable_publish)&&"opacity-50"),children:[(0,r.jsxs)("div",{className:"flex w-full cursor-pointer flex-col gap-0.5",children:[(0,r.jsx)("div",{className:"flex items-center gap-1 text-sm font-medium leading-tight",children:h("public.title")}),c||(0,r.jsx)("span",{className:"font-normal leading-normal text-muted-foreground",children:h((null==m?void 0:m.disable_publish)?"public.publishingDisabledDescription":"public.description")})]}),(0,r.jsx)("div",{className:"flex items-center",children:(0,r.jsxs)(W.m_,{delayDuration:300,children:[(0,r.jsx)(W.k$,{autoFocus:!1,children:(0,r.jsx)(B.e,{size:"small",className:"mt-0.5 text-muted-foreground"})}),(0,r.jsx)(W.ZI,{className:"max-w-[35ch]",children:(0,r.jsx)("p",{children:"Anyone can remix this project. Switch to Workspace visibility to restrict remixing to members."})})]})})]})]}),(0,r.jsxs)("div",{className:"flex w-full items-start gap-2",children:[(0,r.jsx)(Y.C,{value:R.Lu.Private,id:"private",onClick:n}),(0,r.jsxs)(Z.Label,{htmlFor:"private",className:(0,H.cn)("flex w-full cursor-pointer flex-col gap-0.5"),children:[(0,r.jsx)("div",{className:"flex items-center gap-1 text-sm font-medium leading-tight",children:h("workspace.title")}),o||(0,r.jsx)("span",{className:"font-normal leading-normal text-muted-foreground",children:h("workspace.description")})]})]}),(0,r.jsxs)("div",{className:"flex w-full items-start gap-2",children:[(0,r.jsx)(Y.C,{value:R.Lu.Draft,id:"draft",onClick:e=>{if(v)null==n||n();else{if(e.preventDefault(),!d)return void f($.K.BIZ_PERSONAL_PROJECT);x("billing")}}}),(0,r.jsxs)(Z.Label,{htmlFor:"draft",className:"flex w-full cursor-pointer flex-col gap-0.5",children:[(0,r.jsxs)("div",{className:"flex items-center gap-1 text-sm font-medium leading-tight",children:[h("draft.title"),m&&(0,r.jsx)(J.M,{workspace:m,requiredPlanCategory:"biz"})]}),o||(0,r.jsx)("p",{className:"flex items-center gap-1",children:(0,r.jsx)("span",{className:"font-normal leading-normal text-muted-foreground",children:h("draft.description")})})]})]})]})})},ee=e=>{let{visibility:t,setVisibility:a,className:n,currentWorkspacePlan:s,disabled:l,disabledTooltipContent:c,workspace:d}=e,u=(0,i.c3)("ChatInputCreateProjectVisibility"),{authUser:m}=(0,g.Z2)(),{userData:h}=(0,P.u)(),[p,x]=(0,o.useState)(!1),{focusChatInput:b}=(0,D.Nk)(),y=(0,L.A)("md"),j=void 0===d,w=(0,f.A)();return(0,r.jsx)(F.K,{children:(0,r.jsx)(z.Q,{showTooltip:l&&!!m&&!!c,tooltipContent:(0,r.jsx)("p",{children:c}),children:(0,r.jsxs)(v.AM,{open:p,onOpenChange:x,children:[(0,r.jsxs)(W.m_,{children:[(0,r.jsx)(W.k$,{asChild:!0,children:(0,r.jsx)(v.Wv,{asChild:!0,children:(0,r.jsx)(O.$,{variant:"ghost",size:y?"md":"default",rounded:!0,iconOnly:y,type:"button",className:n,"aria-pressed":p,children:void 0===h&&m&&!j?(0,r.jsx)("div",{className:"w-4 md:w-[60px]"}):t===R.Lu.Draft?(0,r.jsxs)("div",{className:"flex items-center gap-1 duration-200 animate-in fade-in",children:[(0,r.jsx)(V.o,{size:"small"}),(0,r.jsx)("span",{className:"hidden md:flex",children:u("draft")})]}):t===R.Lu.Public?(0,r.jsxs)("div",{className:"flex items-center gap-1 duration-200 animate-in fade-in",children:[(0,r.jsx)(U.f,{size:"small"}),(0,r.jsx)("span",{className:"hidden md:flex",children:u("public")})]}):(0,r.jsxs)("div",{className:"flex items-center gap-1 duration-200 animate-in fade-in",children:[(0,r.jsx)(K.G,{size:"small"}),(0,r.jsx)("span",{className:"hidden md:flex",children:u("workspace")})]})})})}),(0,r.jsx)(W.ZI,{className:"border-background bg-background text-foreground",children:u("changeVisibility")})]}),(0,r.jsx)(v.hl,{align:"start",className:"z-40 w-auto gap-0 bg-popover",onOpenAutoFocus:e=>{m||e.preventDefault()},onClick:()=>{m||w("signup")},children:(0,r.jsx)(X,{visibility:t,setVisibility:e=>{a(e),x(!1),b()},workspacePlan:null!=s?s:"free",workspace:d,className:"flex flex-col gap-4",disabled:l})})]})})})};var et=a(692513);let ea=e=>{let{className:t,disabled:a=!1,isSendingDisabled:n=!1}=e,s=(0,L.A)("md");return(0,r.jsx)(O.$,{id:"chatinput-send-message-button",type:"submit",variant:"solid",size:s?"md":"default",rounded:!0,iconOnly:!0,className:t,disabled:n||a,children:(0,r.jsx)(et.P,{})})};var er=a(947665),en=a(303276),es=a(479888),ei=a(355438),el=a(816232),eo=a(552790),ec=a(69827),ed=a(494170),eu=a(835872),em=a(745784);let eh=()=>{let{store:e}=(0,k.Xl)(),t=e(e=>e.message),[a,n]=(0,o.useState)([]),[s,i]=(0,o.useState)(!1);return((0,o.useEffect)(()=>{if(t){let e=(0,ec.E)(t);n(e),e.length>0&&i(!1)}else n([])},[t]),0===a.length||s)?null:(0,r.jsx)("div",{className:"absolute -bottom-48 left-0 right-0 z-20 mb-4 flex w-full flex-col rounded-lg border border-orange-500/50 bg-orange-900 md:-bottom-40",children:(0,r.jsxs)("div",{className:"flex items-start justify-between gap-2 py-2 pb-4 pl-3 pr-2",children:[(0,r.jsxs)("div",{className:"flex flex-1 items-start gap-2",children:[(0,r.jsx)(B.e,{className:"mt-0.5 text-base text-orange-500","aria-label":"Warning"}),(0,r.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,r.jsx)("span",{className:"text-sm font-medium text-foreground",children:"Sensitive API key detected"}),(0,r.jsxs)("span",{className:"text-sm text-foreground",children:["API keys detected in your message. Create your project first, then connect Supabase to store API keys securely as secrets instead of including them in messages.",(0,r.jsx)("p",{className:"mt-2",children:(0,r.jsx)(O.$,{variant:"link",size:"sm",asChild:!0,className:"pl-0",children:(0,r.jsxs)("a",{href:"https://docs.lovable.dev/features/security",target:"_blank",rel:"noreferrer",children:[(0,r.jsx)(ed.G,{className:"h-4 w-4 text-foreground"}),(0,r.jsx)("span",{className:"text-xs text-foreground",children:"Learn more about security"}),(0,r.jsx)(eu.Q,{className:"h-4 w-4 text-foreground"})]})})})]})]})]}),(0,r.jsx)("button",{type:"button",className:"flex h-7 w-7 items-center justify-center",onClick:()=>{i(!0)},children:(0,r.jsx)(em.u,{className:"h-3 w-3 text-foreground"})})]})})};var ep=a(28531);let eg=e=>{let{chatModeEnabled:t,onToggle:a,disabled:n,className:s,ref:l,...o}=e,c=(0,i.c3)("PlanModeToggle"),d=(0,L.A)("md");return(0,ep.G)(a,{disabled:n}),(0,r.jsxs)(W.m_,{delayDuration:300,children:[(0,r.jsx)(W.k$,{asChild:!0,children:(0,r.jsx)(O.$,{ref:l,type:"button",variant:t?"solid":"ghost",intent:t?"affirmative":void 0,size:d?"md":"default",rounded:!0,"aria-label":"Toggle chat mode","aria-pressed":t,...o,onClick:a,disabled:n,className:s,children:c("plan")})}),(0,r.jsx)(W.ZI,{className:"max-w-[35ch]",shortcut:"alt P",children:(0,r.jsx)("p",{children:c(t?"disablePlanMode":"enablePlanMode")})})]})};var ef=a(183031),ex=a(317525);let ev={classic:{label:"Lovable Classic",description:"Proven stack with Vite, React, and shadcn/ui"},modern:{label:"Lovable Modern",description:"Next-gen stack with enhanced capabilities"},"modern-solid":{label:"Lovable Modern (Solid)",description:"Next-gen stack powered by SolidJS"}},eb=Object.entries(ev),ey="classic";var ej=a(408817);let ew="lovable_preferred_stack";var eS=a(264378),ek=a(703825),eN=a(96324),eC=a(134472),e_=a(303856),eI=a(282330),eE=a(378684),eA=a(365588),eT=a(954560),eM=a(951121),eP=a(174423),eD=a(926206),eF=a(575945),eL=a(630298),eR=a(585116),eO=a(459931),ez=a(759103),eV=a(992671),eU=a(275798);function eK(e){let{name:t,type:a,onRemove:n}=e,s="github"===a?"Imported Repo":"Uploaded ZIP";return(0,r.jsxs)("div",{className:"group/imported-repo relative flex flex-wrap gap-2",children:[(0,r.jsxs)("div",{className:(0,H.cn)("flex h-16 w-48 items-center gap-2 rounded-xl border border-muted-border bg-muted px-3 transition-opacity duration-150 ease-in-out hover:opacity-80 md:h-14 md:w-48"),children:[(0,r.jsx)(eU.$,{icon:"github"===a?ez.N:eV.j,size:"default",className:"text-foreground"}),(0,r.jsxs)("div",{className:"flex flex-col overflow-hidden",children:[(0,r.jsx)("span",{className:"truncate text-xs font-medium text-foreground",children:s}),(0,r.jsx)("span",{className:"truncate text-xs text-muted-foreground",children:t})]})]}),(0,r.jsxs)(W.m_,{instant:!0,children:[(0,r.jsx)(W.k$,{asChild:!0,children:(0,r.jsx)("button",{className:(0,H.cn)("absolute -right-0.5 -top-0.5 z-[10000] flex h-5 w-5 items-center justify-center rounded-full border bg-primary text-xs text-primary-foreground opacity-0 shadow shadow-background/25 transition-opacity duration-150 ease-out group-hover/imported-repo:opacity-100"),onClick:n,type:"button","aria-label":"Remove ".concat(s.toLowerCase()),children:(0,r.jsx)(eO.P,{size:"small"})})}),(0,r.jsxs)(W.ZI,{children:["Remove ",s.toLowerCase()]})]})]})}var eW=a(286093),eq=a(746651),eB=a(315608),eG=a(243934),eH=a(916068),eQ=a(695877),e$=a(537995),eZ=a(557805),eY=a(866792),eJ=a(671945),eX=a(259171),e0=a(565165),e1=a(557642),e2=a(758742),e5=a(352168),e3=a(515845),e4=a(558926),e6=a(38873),e7=a(910626),e8=a(913154),e9=a(296493),te=a(17308),tt=a(571003),ta=a(214749),tr=a(946854),tn=a(604937),ts=a(999305);function ti(e){let{scrollRef:t,deps:a=[],className:n}=e,s=(0,ts.y)(t,{deps:a});return(0,r.jsx)("div",{className:(0,H.cn)("absolute bottom-0 left-0 right-0 flex h-6 items-center justify-center rounded-b-lg border-t bg-popover transition-opacity duration-200",s?"opacity-100":"pointer-events-none opacity-0",n),children:(0,r.jsx)(tn.D,{size:"small",className:"text-muted-foreground"})})}var tl=a(723464);let to=e=>"submenu"===e.type;var tc=a(388952),td=a(50319);let tu="cursor-pointer group gap-0 px-2 py-2 leading-none data-[selected=true]:bg-affirmative-primary data-[selected=true]:text-affirmative-primary-foreground",tm="data-[selected=true]:text-affirmative-primary-foreground h-4 shrink-0",th=e=>{let{icon:t,customIcon:a}=e;return a?(0,r.jsx)("div",{className:(0,H.cn)("me-2.5",tm),children:a}):t?(0,r.jsx)(eU.$,{icon:t,className:(0,H.cn)("me-2.5 w-4",tm)}):null},tp=()=>(0,r.jsx)(tc.S,{className:(0,H.cn)("ms-2",tm)}),tg=()=>(0,r.jsx)(eu.Q,{className:(0,H.cn)("ms-2",tm)}),tf=()=>(0,r.jsx)(td.v,{className:(0,H.cn)("ms-2",tm)});function tx(e){let{children:t,hoverContent:a,...n}=e;return a?(0,r.jsxs)(x.jc,{...n,children:[(0,r.jsx)(x.d0,{asChild:!0,children:(0,r.jsx)("div",{className:"pointer-events-auto",children:t})}),(0,r.jsx)(x.HP,{children:(0,r.jsx)(x.Et,{align:"center",className:"z-[10001] w-60",children:a})})]}):(0,r.jsx)(r.Fragment,{children:t})}function tv(e){let{item:t,onSelect:a,subtitle:n}=e,s=t.subtitle||n;return(0,r.jsx)(tx,{hoverContent:t.hoverContent,children:(0,r.jsxs)(tr.h_,{onSelect:a,disabled:t.disabled,className:(0,H.cn)(tu,t.className),value:t.value,children:[(0,r.jsx)(th,{icon:t.icon,customIcon:t.customIcon}),(0,r.jsxs)("div",{className:"flex min-w-0 flex-1 flex-col",children:[(0,r.jsxs)("div",{className:"flex min-w-0 items-center gap-1",children:[(0,r.jsx)("span",{className:"line-clamp-1 break-all",children:t.label}),t.trailingLabelContent]}),s&&(0,r.jsx)("span",{className:"mt-1 line-clamp-1 break-all text-xs text-muted-foreground group-data-[selected=true]:text-affirmative-primary-foreground/60",children:s})]}),t.selected&&(0,r.jsx)(tp,{})]})})}function tb(e){let{item:t,onSelect:a,className:n,subtitle:s}=e;return(0,r.jsxs)(tr.h_,{onSelect:a,className:(0,H.cn)(tu,n),value:t.value,children:[(0,r.jsx)(th,{icon:t.icon,customIcon:t.customIcon}),(0,r.jsxs)("div",{className:"flex min-w-0 flex-1 flex-col",children:[(0,r.jsx)("span",{className:"line-clamp-1 break-all",children:t.label}),s&&(0,r.jsx)("span",{className:"line-clamp-1 break-all text-xs text-muted-foreground group-data-[selected=true]:text-affirmative-primary-foreground/60",children:s})]}),t.isExternal&&(0,r.jsx)(tg,{})]})}function ty(e){let{item:t,onSelect:a,className:n}=e;return(0,r.jsx)(tx,{hoverContent:t.hoverContent,children:(0,r.jsxs)(tr.h_,{onSelect:a,disabled:t.disabled,className:(0,H.cn)(tu,n),value:t.value,children:[(0,r.jsx)(th,{icon:t.icon,customIcon:t.customIcon}),(0,r.jsxs)("div",{className:"flex min-w-0 flex-1 items-center gap-1",children:[(0,r.jsx)("span",{className:"line-clamp-1 break-all",children:t.label}),t.trailingLabelContent]}),(0,r.jsx)(tf,{})]})})}function tj(e){let{items:t,onActionSelect:a,onLinkSelect:n,onSubmenuSelect:s}=e;return t.map((e,t)=>{if("heading"===e.type)return(0,r.jsx)("div",{className:"px-2 pb-1.5 pt-2 text-xs font-medium text-muted-foreground",children:e.label},"heading-".concat(e.label,"-").concat(t));if("separator"===e.type)return(0,r.jsx)(tl.w,{className:(0,H.cn)("-mx-2 my-1")},"separator-".concat(t));let i="".concat(e.value||e.label,"-").concat(t);return to(e)?(0,r.jsx)(ty,{item:e,onSelect:()=>s(e)},i):"link"===e.type?(0,r.jsx)(tb,{item:e,onSelect:()=>n(e)},i):(0,r.jsx)(tv,{item:e,onSelect:()=>a(e)},i)})}var tw=a(493970),tS=a(516858);let tk={initial:{opacity:0,filter:"blur(2px)",scale:.9},animate:{opacity:1,filter:"blur(0px)",scale:1},exit:{opacity:0,filter:"blur(2px)"}},tN={duration:.2,type:"spring",bounce:.01};function tC(e){let{placeholder:t,searchValue:a,setSearchValue:n,isAtRoot:s,navigateBack:i}=e,[l,c]=(0,o.useState)(!1);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"relative flex w-full items-center pe-3 ps-2.5",children:[(0,r.jsx)("div",{className:"absolute start-2.5 top-1/2 z-[1] flex size-5 flex-shrink-0 -translate-y-1/2 items-center justify-center",onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),children:(0,r.jsx)(ta.N,{initial:!1,mode:"popLayout",children:s||a&&!l?(0,r.jsx)(tt.P.div,{variants:tk,initial:"initial",animate:"animate",exit:"exit",transition:{...tN,duration:.5},children:(0,r.jsx)(tS.W,{size:"small",className:"shrink-0 p-0 text-muted-foreground"})},"search-icon"):(0,r.jsx)(tt.P.div,{variants:tk,initial:"initial",animate:"animate",exit:"exit",transition:tN,children:(0,r.jsx)("button",{type:"button",onMouseDown:e=>e.preventDefault(),onClick:a?()=>n(""):i,"aria-label":"Go back",className:"pointer-events-auto flex size-5 cursor-pointer items-center justify-center rounded-full bg-muted p-0 transition-colors hover:bg-muted-hover active:bg-muted-active",children:(0,r.jsx)(tw.Y,{size:"small",className:"shrink-0 p-0 text-primary"})})},"back-button")})}),(0,r.jsx)(tr.G7,{placeholder:t,value:a,onValueChange:n,className:(0,H.cn)("ms-7 text-popover-foreground caret-affirmative-primary placeholder:text-muted-foreground",a&&"pe-7"),wrapperClassName:"border-none h-8 relative w-full overflow-hidden p-0",hasIcon:!1}),a&&(0,r.jsx)("button",{type:"button",onMouseDown:e=>e.preventDefault(),onClick:()=>n(""),"aria-label":"Clear search",className:"absolute end-2.5 top-1/2 flex size-5 -translate-y-1/2 cursor-pointer items-center justify-center rounded-full bg-transparent p-0 transition-colors hover:bg-muted-hover active:bg-muted-active",children:(0,r.jsx)(em.u,{size:"small",className:"shrink-0 p-0 text-primary"})})]}),(0,r.jsx)(tl.w,{})]})}function t_(e){let{items:t,onSelect:a}=e;return t.map((e,t)=>{let n=e.path.length>0?e.path.join("  "):void 0,s="search-".concat(e.value||e.label,"-").concat(t),i=()=>a(e);return to(e)?(0,r.jsx)(ty,{item:e,onSelect:i},s):"link"===e.type?(0,r.jsx)(tb,{item:e,onSelect:i,subtitle:n},s):(0,r.jsx)(tv,{item:e,onSelect:i,subtitle:n},s)})}let tI=(0,o.createContext)(null);tI.displayName="PagedContextMenuContext";let tE=()=>{let e=(0,o.useContext)(tI);if(!e)throw Error("usePagedContextMenu must be used within a PagedContextMenu");return e},tA=tt.P.create(tr.L$);function tT(e){let{children:t,onClose:a}=e,[n,s]=(0,o.useState)(!1),[i,l]=(0,o.useState)([]),[c,d]=(0,o.useState)(""),[u,m]=(0,o.useState)("left"),h=(0,o.useCallback)(e=>{d(""),l(t=>[...t,e.children]),m("right")},[]),p=(0,o.useCallback)(()=>{i.length>1&&(l(e=>e.slice(0,-1)),m("left"))},[i.length]);return(0,r.jsx)(v.AM,{open:n,onOpenChange:s,children:(0,r.jsx)(tI.Provider,{value:{open:n,setOpen:s,menuStack:i,setMenuStack:l,searchValue:c,setSearchValue:d,direction:u,setDirection:m,navigateToSubmenu:h,navigateBack:p,onClose:a},children:t})})}function tM(e){let{asChild:t,children:a}=e;return(0,r.jsx)(v.Wv,{asChild:t,children:a})}function tP(e){let{children:t,align:a="start",side:n="bottom",sideOffset:i=4,alignOffset:l=0,className:c,placeholder:d="Search...",emptyText:u="No items found."}=e,{open:m,setOpen:h,menuStack:p,setMenuStack:g,searchValue:f,setSearchValue:x,direction:b,navigateToSubmenu:y,navigateBack:j,onClose:w}=tE(),S=(0,o.useRef)(null),k=(0,o.useRef)(null),N=(0,s.useRouter)(),C=(0,o.useMemo)(()=>tz(t),[t]);(0,o.useEffect)(()=>{m&&g([C])},[m,C,g]);let _=(0,o.useMemo)(()=>p[p.length-1]||[],[p]),I=1===p.length,E=(0,o.useCallback)(e=>{let t=[],a=function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];e.forEach(e=>{"heading"!==e.type&&"separator"!==e.type&&(to(e)?(t.push({...e,path:r}),a(e.children,[...r,e.label])):"link"!==e.type&&e.hideFromSearch||t.push({...e,path:r}))})};return a(e),t},[]),A=(0,o.useMemo)(()=>E(_),[_,E]),T=(0,o.useMemo)(()=>{if(!f.trim())return _;let e=f.toLowerCase();return A.filter(t=>t.label.toLowerCase().includes(e)).map(e=>({...e,displayLabel:e.label}))},[f,_,A]),M=e=>{e.isExternal?window.open(e.url,"_blank","noopener,noreferrer"):N.push(e.url),h(!1),null==w||w()};return(0,r.jsx)(v.hl,{align:a,side:n,sideOffset:i,alignOffset:l,className:(0,H.cn)("w-64 p-0",c),children:(0,r.jsxs)(tr.uB,{onKeyDown:e=>{if("Escape"===e.key&&f.length>0){e.preventDefault(),e.stopPropagation(),x("");return}if(!(f.length>0)){if("ArrowRight"===e.key){var t;e.preventDefault();let a=null==S||null==(t=S.current)?void 0:t.querySelector("[data-selected='true']");if(a){let e=a.getAttribute("data-value"),t=_.find(t=>"heading"!==t.type&&"separator"!==t.type&&(t.value||t.label)===e);t&&to(t)&&y(t)}}if("Backspace"===e.key||"ArrowLeft"===e.key){if(I)return;e.preventDefault(),j()}}},style:{overflow:"unset"},className:"pt-1",shouldFilter:!1,ref:S,children:[(0,r.jsx)(tC,{placeholder:d,searchValue:f,setSearchValue:x,isAtRoot:I,navigateBack:j}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsxs)(tr.oI,{ref:k,className:"py-1",children:[(0,r.jsx)(tr.xL,{children:u}),(0,r.jsx)(ta.N,{mode:"popLayout",initial:!1,children:(0,r.jsx)(tA,{initial:{opacity:0,x:"right"===b?5:-5},animate:{opacity:1,x:0},transition:{...tN,duration:.4},className:"px-1 py-0",children:f?(0,r.jsx)(t_,{items:T,onSelect:e=>{if(e.path.length>0){let t=C,a=[C];for(let r of e.path){let e=t.find(e=>to(e)&&e.label===r);e&&(a.push(e.children),t=e.children)}g(a)}to(e)?y(e):"link"===e.type?M(e):(e.onClick(),h(!1),null==w||w())}}):(0,r.jsx)(tj,{items:_,onActionSelect:e=>{e.onClick(),h(!1),null==w||w()},onLinkSelect:M,onSubmenuSelect:e=>{y(e)}})},p.length)})]}),(0,r.jsx)(ti,{scrollRef:k,deps:[p,f]})]})]})})}function tD(e){let{icon:t,customIcon:a,onSelect:n,disabled:s,children:i,className:l,value:o,subtitle:c,hideFromSearch:d,selected:u,trailingLabelContent:m,hoverContent:h}=e,p={type:"action",label:String(i),icon:t,customIcon:a,onClick:n||(()=>{}),value:o,disabled:s,className:l,subtitle:c,hideFromSearch:d,selected:u,trailingLabelContent:m,hoverContent:h};return(0,r.jsx)(tv,{item:p,onSelect:n||(()=>{})})}function tF(e){let{icon:t,customIcon:a,url:n,isExternal:i=!1,children:l,className:o,value:c}=e,{setOpen:d,onClose:u}=tE(),m=(0,s.useRouter)(),h={type:"link",label:String(l),icon:t,customIcon:a,url:n,isExternal:i,value:c};return(0,r.jsx)(tb,{item:h,onSelect:()=>{i?window.open(n,"_blank","noopener,noreferrer"):m.push(n),d(!1),null==u||u()},className:o})}function tL(e){let{icon:t,customIcon:a,label:n,children:s,className:i,value:l,trailingLabelContent:o,hoverContent:c,disabled:d}=e,{navigateToSubmenu:u}=tE();return(0,r.jsx)(ty,{item:{type:"submenu",label:n,icon:t,customIcon:a,children:[],value:l,trailingLabelContent:o,hoverContent:c,disabled:d},onSelect:()=>{u({type:"submenu",label:n,icon:t,customIcon:a,children:tz(s),value:l,trailingLabelContent:o,hoverContent:c,disabled:d})},className:i})}function tR(e){let{children:t,className:a}=e;return(0,r.jsx)("div",{className:(0,H.cn)("px-2 py-1.5 text-xs text-muted-foreground",a),children:t})}function tO(e){let{className:t}=e;return(0,r.jsx)(tl.w,{className:(0,H.cn)("-mx-2 my-1",t)})}tD.displayName="PagedContextMenuItem",tF.displayName="PagedContextMenuLink",tL.displayName="PagedContextMenuSub",tR.displayName="PagedContextMenuHeading",tO.displayName="PagedContextMenuSeparator";let tz=e=>{let t=[];return o.Children.forEach(e,e=>{if(!(0,o.isValidElement)(e))return;let{type:a,props:r}=e,n=(e=>"function"==typeof e?e.displayName||e.name:"object"==typeof e&&null!==e&&"displayName"in e?String(e.displayName):void 0)(a);if(a===tD||"PagedContextMenuItem"===n)t.push({type:"action",label:String(r.children||""),icon:r.icon,customIcon:r.customIcon,onClick:r.onSelect||(()=>{}),value:String(r.value||r.children||""),disabled:!!r.disabled,className:r.className,subtitle:r.subtitle,hideFromSearch:!!r.hideFromSearch,selected:!!r.selected,trailingLabelContent:r.trailingLabelContent,hoverContent:r.hoverContent});else if(a===tF||"PagedContextMenuLink"===n)t.push({type:"link",label:String(r.children||""),icon:r.icon,customIcon:r.customIcon,url:String(r.url||""),isExternal:!!r.isExternal,value:String(r.value||r.children||"")});else if(a===tR||"PagedContextMenuHeading"===n)t.push({type:"heading",label:String(r.children||"")});else if(a===tO||"PagedContextMenuSeparator"===n)t.push({type:"separator"});else if(a===tL||"PagedContextMenuSub"===n){let e=tz(r.children);t.push({type:"submenu",label:String(r.label||r.children||""),icon:r.icon,customIcon:r.customIcon,children:e,value:String(r.value||r.label||r.children||""),trailingLabelContent:r.trailingLabelContent,hoverContent:r.hoverContent,disabled:!!r.disabled})}else if(r.children){let e=tz(r.children);t.push(...e)}}),t};var tV=a(168954),tU=a(393411),tK=a(637093),tW=a(582308),tq=a(927398),tB=a(262639),tG=a(57811),tH=a(136517),tQ=a(900194),t$=a(552500),tZ=a(825026),tY=a(545150),tJ=a(406704),tX=a(413332),t0=a(480695),t1=a(631325),t2=a(927987);function t5(e){let{open:t,onOpenChange:a,chatModeEnabled:n,setChatModeEnabled:s,techStack:i,setTechStack:l,deploymentTarget:o,setDeploymentTarget:c,disabled:d}=e;return(0,tK.WW)()?(0,r.jsx)(t0.lG,{onOpenChange:a,open:t,children:(0,r.jsxs)(t0.Cf,{children:[(0,r.jsxs)(t0.c7,{children:[(0,r.jsx)(t0.L3,{children:"Advanced settings"}),(0,r.jsx)(t0.rr,{children:"Make advanced or experimental changes before starting a new project"})]}),(0,r.jsxs)("div",{className:"flex w-full flex-col items-center",children:[(0,r.jsx)("div",{className:"mb-3 flex w-full flex-col gap-2",children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(tX.S,{id:"chat-mode",checked:n,onCheckedChange:e=>s(e),disabled:d}),(0,r.jsx)(Z.Label,{htmlFor:"chat-mode",children:"Enable chat mode"})]})}),(0,r.jsxs)("div",{className:"mb-2 w-full",children:[(0,r.jsx)(Z.Label,{htmlFor:"tech-stack",className:"mb-1 block text-sm font-medium",children:"Tech stack"}),(0,r.jsx)(t1.p,{id:"tech-stack",type:"text",placeholder:"e.g. new_style_vite_react_shadcn_ts",value:i,onChange:e=>l(e.target.value),disabled:d,className:"w-full"}),(0,r.jsx)("p",{className:"mt-1 text-sm text-muted-foreground",children:"The template name to use for initial generation. Leave empty for default."})]}),(0,r.jsxs)("div",{className:"mb-2 w-full",children:[(0,r.jsx)(Z.Label,{htmlFor:"deployment-target",className:"mb-1 block text-sm font-medium",children:"Deployment target"}),(0,r.jsxs)(t2.Select,{value:null!=o?o:"",onValueChange:e=>c(""===e?void 0:e),disabled:d,children:[(0,r.jsx)(t2.SelectTrigger,{id:"deployment-target",className:"w-full",children:(0,r.jsx)(t2.SelectValue,{placeholder:"Default (Cloudflare)"})}),(0,r.jsxs)(t2.SelectContent,{children:[(0,r.jsx)(t2.SelectItem,{value:"cloudflare",children:"Cloudflare (default)"}),(0,r.jsx)(t2.SelectItem,{value:"cloudrun",children:"Cloud Run (SSR)"}),(0,r.jsx)(t2.SelectItem,{value:"workers_for_platforms",children:"Cloudflare Workers for Platforms (SSR)"}),(0,r.jsx)(t2.SelectItem,{value:"dynamic_worker_loader",children:"Dynamic Worker Loader (SSR)"})]})]}),(0,r.jsx)("p",{className:"mt-1 text-sm text-muted-foreground",children:"Where the project will be deployed. Use Cloud Run for SSR apps."})]})]})]})}):null}var t3=a(980990);function t4(e){let{envVars:t,onAdd:a,onRemove:n,onChange:s}=e;return(0,r.jsxs)("div",{className:"grid gap-2",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)(Z.Label,{children:"Environment Variables (optional)"}),(0,r.jsxs)(O.$,{variant:"ghost",size:"sm",onClick:a,className:"h-8 px-2",children:[(0,r.jsx)(e6.j,{className:"mr-1 h-4 w-4"}),"Add Variable"]})]}),(0,r.jsxs)("div",{className:"max-h-[200px] space-y-2 overflow-y-auto",children:[t.map((e,t)=>(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(t1.p,{placeholder:"Key",value:e.key,onChange:e=>s(t,"key",e.target.value),className:"flex-1"}),(0,r.jsx)(t1.p,{placeholder:"Value",value:e.value,onChange:e=>s(t,"value",e.target.value),className:"flex-1"}),(0,r.jsx)(O.$,{variant:"ghost",size:"sm",onClick:()=>n(t),className:"h-10 w-10 p-0",children:(0,r.jsx)(t3.u,{className:"h-4 w-4 text-muted-foreground"})})]},t)),0===t.length&&(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"No environment variables added."})]})]})}function t6(e){let{isOpen:t,onOpenChange:a,onImport:n}=e,[s,i]=(0,o.useState)(""),[l,c]=(0,o.useState)(null),[d,u]=(0,o.useState)([]),m=(0,o.useCallback)(()=>{i(""),c(null),u([])},[]);(0,o.useEffect)(()=>{t||m()},[t,m]);let h=(0,o.useCallback)(()=>{u([...d,{key:"",value:""}])},[d]),p=(0,o.useCallback)(e=>{u(t=>{let a=[...t];return a.splice(e,1),a})},[]),g=(0,o.useCallback)((e,t,a)=>{u(r=>{let n=[...r];return n[e][t]=a,n})},[]),f=s.trim().length>0,x=(0,o.useCallback)(()=>{if(!s.trim())return;if(!/^https:\/\/github\.com\/[\w.-]+\/[\w.-]+\/?$/.test(s.trim()))return void c("Please enter a valid GitHub repository URL (e.g., https://github.com/owner/repo)");let e={};d.forEach(t=>{let{key:a,value:r}=t;a&&(e[a]=r)}),n(s.trim(),e),a(!1)},[s,d,n,a]);return(0,r.jsx)(t0.lG,{open:t,onOpenChange:a,children:(0,r.jsxs)(t0.Cf,{className:"sm:max-w-[500px]",children:[(0,r.jsxs)(t0.c7,{children:[(0,r.jsx)(t0.L3,{children:"Import Existing Codebase"}),(0,r.jsx)(t0.rr,{children:"Enter the GitHub repository URL you want to import."})]}),(0,r.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,r.jsxs)("div",{className:"grid gap-2",children:[(0,r.jsx)(Z.Label,{htmlFor:"url",children:"Repository URL"}),(0,r.jsx)(t1.p,{id:"url",placeholder:"https://github.com/username/repo",value:s,onChange:e=>{var t;i(t=e.target.value),l&&t.trim()&&c(null)},onKeyDown:e=>{(e.metaKey||e.ctrlKey)&&"Enter"===e.key&&f&&(e.preventDefault(),x())},className:l?"border-destructive":"",autoFocus:!0}),l&&(0,r.jsx)("p",{className:"text-sm text-destructive",children:l})]}),(0,r.jsx)(t4,{envVars:d,onAdd:h,onRemove:p,onChange:g})]}),(0,r.jsxs)(t0.Es,{children:[(0,r.jsx)(O.$,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),(0,r.jsx)(O.$,{onClick:x,disabled:!f,children:"Import Codebase"})]})]})})}var t7=a(736185);function t8(e){var t;let{isOpen:a,onOpenChange:n,onZipSelected:s}=e,[i,l]=(0,o.useState)(null),[c,d]=(0,o.useState)(null),[u,m]=(0,o.useState)(!1),[h,p]=(0,o.useState)([]),g=(0,o.useRef)(null),f=(0,o.useCallback)(()=>{l(null),d(null),m(!1),p([])},[]);(0,o.useEffect)(()=>{a||f()},[a,f]);let x=e=>{let t=e.name.toLowerCase().endsWith(".zip")?e.size>0x80000000?"File is too large (max 1GB)":null:"Please select a .zip file";t?(d(t),l(null)):(d(null),l(e))},v=(0,o.useCallback)(()=>{p([...h,{key:"",value:""}])},[h]),b=(0,o.useCallback)(e=>{p(t=>{let a=[...t];return a.splice(e,1),a})},[]),y=(0,o.useCallback)((e,t,a)=>{p(r=>{let n=[...r];return n[e][t]=a,n})},[]),j=null!==i&&!c,w=(0,o.useCallback)(()=>{if(!i)return;let e={};h.forEach(t=>{let{key:a,value:r}=t;a&&(e[a]=r)}),s(i,e),n(!1)},[i,h,s,n]);return(0,r.jsx)(t0.lG,{open:a,onOpenChange:n,children:(0,r.jsxs)(t0.Cf,{className:"sm:max-w-[500px]",children:[(0,r.jsxs)(t0.c7,{children:[(0,r.jsx)(t0.L3,{children:"Import Existing Codebase"}),(0,r.jsx)(t0.rr,{children:"Upload a .zip file containing your project (max 1GB)."})]}),(0,r.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,r.jsxs)("div",{className:"grid gap-2",children:[(0,r.jsx)(Z.Label,{htmlFor:"zip-file",children:"Zip file"}),(0,r.jsxs)("div",{className:(0,H.cn)("flex cursor-pointer flex-col items-center justify-center rounded-lg border-2 border-dashed p-6 transition-colors",u?"border-primary bg-primary/5":"border-muted-foreground/25 hover:border-muted-foreground/50",c&&"border-destructive"),onDrop:e=>{e.preventDefault(),m(!1);let t=e.dataTransfer.files[0];t&&x(t)},onDragOver:e=>{e.preventDefault(),m(!0)},onDragLeave:e=>{e.preventDefault(),m(!1)},onClick:()=>{var e;return null==(e=g.current)?void 0:e.click()},children:[(0,r.jsx)("input",{id:"zip-file",ref:g,type:"file",accept:".zip",className:"hidden",onChange:e=>{var t;let a=null==(t=e.target.files)?void 0:t[0];a&&x(a)}}),i?(0,r.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,r.jsx)(eV.j,{size:"small",className:"text-muted-foreground"}),(0,r.jsx)("span",{className:"font-medium",children:i.name}),(0,r.jsxs)("span",{className:"text-muted-foreground",children:["(",(t=i.size)<1024?"".concat(t," B"):t<1048576?"".concat((t/1024).toFixed(1)," KB"):t<0x40000000?"".concat((t/1048576).toFixed(1)," MB"):"".concat((t/0x40000000).toFixed(2)," GB"),")"]})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t7.J,{size:"large",className:"mb-2 text-muted-foreground"}),(0,r.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Drag and drop or ",(0,r.jsx)("span",{className:"text-primary",children:"browse"})]})]})]}),c&&(0,r.jsx)("p",{className:"text-sm text-destructive",children:c})]}),(0,r.jsx)(t4,{envVars:h,onAdd:v,onRemove:b,onChange:y})]}),(0,r.jsxs)(t0.Es,{children:[(0,r.jsx)(O.$,{variant:"outline",onClick:()=>n(!1),children:"Cancel"}),(0,r.jsx)(O.$,{onClick:w,disabled:!j,children:"Select File"})]})]})})}var t9=a(427321);let ae={src:"/_next/static/media/modal-attach-image.a9312b4f.png",height:736,width:1472,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAECAMAAACEE47CAAAALVBMVEUYDDIsHE4jFERQOIA5J13y4v/77P+1kuRCLm+jg9E7J2PWvPTOt+p6WrjDpukyd0olAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAJ0lEQVR4nAXBiQEAIAgDsSsFf91/XBOqtRkgap+3CNEd6ZC4TvDIDwrwAI+AKn8QAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:4};function at(e){let{isOpen:t,onOpenChange:a,onSignIn:n}=e,s=(0,i.c3)("SignInForFilesModal"),[l,c]=(0,o.useState)({x:0,y:0});return(0,o.useEffect)(()=>{if(!t)return;let e=e=>{let{clientX:t,clientY:a}=e,{innerWidth:r,innerHeight:n}=window;c({x:(t/r-.5)*20,y:(a/n-.5)*20})};return window.addEventListener("mousemove",e),()=>window.removeEventListener("mousemove",e)},[t]),(0,r.jsx)(t0.lG,{open:t,onOpenChange:a,children:(0,r.jsxs)(t0.Cf,{size:"sm",className:"gap-0 overflow-hidden p-0",children:[(0,r.jsx)("div",{className:"relative h-32 w-full overflow-hidden",children:(0,r.jsx)("div",{className:"absolute inset-0 transition-transform ease-out",style:{transform:"scale(1.8) translateX(".concat(l.x,"px) translateY(").concat(l.y,"px)")},children:(0,r.jsx)(t9.default,{src:ae,alt:"",fill:!0,className:"object-cover"})})}),(0,r.jsxs)("div",{className:"space-y-4 p-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-medium",children:s("title")}),(0,r.jsx)("p",{className:"mt-1 text-sm text-muted-foreground",children:s("description")})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)(O.$,{onClick:()=>{a(!1),n()},rounded:!0,children:s("signIn")}),(0,r.jsx)(O.$,{variant:"outline",rounded:!0,onClick:()=>a(!1),children:s("cancel")})]})]})]})})}var aa=a(339839),ar=a(767808),an=a(355202);let as=e=>{let{icon:t,label:a,labelPrefix:n,removalAriaLabel:s,onDeselect:i,isDismissable:l=!0,defaultTooltipContent:c}=e,[d,u]=(0,o.useState)(!1),m=(0,o.useRef)(null),h=(0,L.A)("md");(0,o.useEffect)(()=>()=>{m.current&&clearTimeout(m.current)},[]);let p=(0,o.useCallback)(e=>{e.stopPropagation(),!h&&l&&i()},[h,l,i]),g=(0,o.useCallback)(()=>{h&&(d&&l?(u(!1),i()):u(!0))},[h,d,l,i]),f=(0,o.useCallback)(e=>{!e&&d&&u(!1)},[d]),x=l?tt.P.button:tt.P.div,b=(0,r.jsxs)(x,{className:(0,H.cn)("relative flex h-10 !min-w-10 shrink-0 items-center rounded-full border border-affirmative bg-affirmative/20 dark:border-affirmative-foreground md:h-8 md:min-w-0 md:shrink",!l&&"cursor-default"),type:l?"button":void 0,"aria-label":l?s:"".concat(n," ").concat(a),layout:"position",initial:{scale:.6,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},onHoverStart:()=>{h||(m.current&&(clearTimeout(m.current),m.current=null),u(!0))},onHoverEnd:()=>{h||(m.current=setTimeout(()=>{u(!1)},150))},onTap:h?g:void 0,onClick:!h&&l?p:void 0,children:[t&&(0,r.jsx)(eU.$,{icon:t,size:"default",className:"mx-[9px] shrink-0 text-affirmative-primary dark:text-affirmative-foreground"}),(0,r.jsx)(ta.N,{children:(0,r.jsx)(tt.P.span,{initial:{width:0,opacity:0},animate:{width:"auto",opacity:1},exit:{width:0,opacity:0},transition:{duration:.15,ease:"easeInOut"},className:"hidden min-w-0 truncate whitespace-nowrap pe-2 text-xs text-affirmative-primary @md/create-form-button-row:block dark:text-affirmative-foreground",children:a})}),(0,r.jsx)(ta.N,{children:l&&d&&(0,r.jsx)(tt.P.span,{initial:{opacity:0,width:0},animate:{opacity:1,width:"auto"},exit:{opacity:0,width:0},transition:{duration:.15},className:"shrink-0 overflow-hidden whitespace-nowrap text-sm text-affirmative-primary dark:text-affirmative-foreground",children:(0,r.jsx)(em.u,{size:"small",className:"-ms-[3px] me-2 h-3.5 w-3.5 shrink-0 opacity-70 md:-ms-0"})})})]});return!l&&c?h?(0,r.jsxs)(v.AM,{open:d,onOpenChange:f,children:[(0,r.jsx)(v.Wv,{asChild:!0,children:b}),(0,r.jsx)(v.hl,{side:"top",align:"center",sideOffset:4,className:"w-max max-w-40 rounded-sm border-0 bg-secondary p-0 px-2 py-1 text-center text-xs text-secondary-foreground shadow",children:c})]}):(0,r.jsxs)(W.m_,{children:[(0,r.jsx)(W.k$,{asChild:!0,children:b}),(0,r.jsx)(W.ZI,{side:"bottom",children:c})]}):(0,r.jsxs)(v.AM,{open:h&&d,onOpenChange:f,children:[(0,r.jsx)(v.Wv,{asChild:!0,children:b}),(0,r.jsx)(v.hl,{side:"top",align:"center",sideOffset:4,className:"w-max max-w-40 rounded-sm border-0 bg-secondary p-0 px-2 py-1 text-center text-xs text-secondary-foreground shadow @md/create-form-button-row:hidden md:max-w-none",children:null!=c?c:"".concat(n," ").concat(a)})]})},ai=e=>{let{selectedTheme:t,selectedThemeLabel:a,setSelectedTheme:n,selectedSupabaseProject:s,selectedSupabaseProjectLabel:i,setSelectedProject:l,selectedLibraries:o,onLibrariesSelectAction:c,selectedStack:d,onStackSelect:u}=e,m=d&&d!==ey&&u;return t||i||0!==o.length||m?(0,r.jsx)(ar.o,{children:(0,r.jsxs)("div",{className:"flex min-w-0 flex-shrink items-center gap-1",children:[(0,r.jsx)(ta.N,{mode:"wait",children:t&&a&&(0,r.jsx)(as,{icon:eY.K,label:a,labelPrefix:"Selected theme:",removalAriaLabel:"Unapply theme ".concat(t),onDeselect:()=>n(void 0)},"plus-menu-theme-".concat(t))}),(0,r.jsx)(ta.N,{mode:"wait",children:"object"==typeof s&&null!==s&&i&&(0,r.jsx)(as,{icon:e0.b,label:i,labelPrefix:"Selected database:",removalAriaLabel:"Deselect database ".concat(i),onDeselect:()=>l(null)},"plus-menu-supabase-".concat(s.id))}),(0,r.jsx)(ta.N,{children:o.map(e=>{let t=e.name||"Untitled Library";return(0,r.jsx)(as,{icon:an.a,label:t,labelPrefix:"Selected library:",removalAriaLabel:"Deselect library ".concat(t),onDeselect:()=>{c&&c(o.filter(t=>t.project_id!==e.project_id))}},"plus-menu-library-".concat(e.project_id))})}),(0,r.jsx)(ta.N,{mode:"wait",children:m&&(0,r.jsx)(as,{icon:e9.j,label:ev[d].label,labelPrefix:"Selected stack:",removalAriaLabel:"Reset to ".concat(ev[ey].label),onDeselect:()=>u(ey)},"plus-menu-stack-".concat(d))})]})}):null},al=e=>{var t,a;let{handleTemplatesClick:n,disabled:s=!1,selectedSupabaseProject:c,workspace:d,selectedLibraries:u=[],onLibrariesSelectAction:m,onCreateLibraryProject:h,onManageThemes:p,onImportCodebase:x,onZipSelected:v,selectedStack:b,onStackSelect:j,chatModeEnabled:w,setChatModeEnabled:S,techStack:k,setTechStack:N,deploymentTarget:_,setDeploymentTarget:E}=e,A=(0,i.c3)("AttachImageActionModal"),T=(0,C.j4)(e=>e.currentWorkspace),{userData:M}=(0,P.u)(),{authUser:D}=(0,g.Z2)(),F=(0,tW.b)(),R=(0,f.A)(),z=(0,tK.WW)(),{isBizOrEnterprisePlan:U}=(0,G.cb)(null==T?void 0:T.plan),{openSettings:K}=(0,q.t)(),W=(0,tq.D)(),{setSubTab:H}=(0,eG.l)(),[$,Z]=(0,o.useState)(!1),[Y,X]=(0,o.useState)(!1),[ee,et]=(0,o.useState)(!1),[ea,er]=(0,o.useState)(!1),[es]=(0,tY.V)("has_seen_attach_image_modal",{defaultValue:!1}),{permitted:ec}=(0,I.J)(Q.eZ.FeatureImportCodebases),{addImages:ed,openFileUploadFromDropdown:eu,dropzoneElement:em,getInputProps:eh}=(0,tU.F)({portalTargetRef:null,onAuthRequired:()=>{et(!0)}}),{handleScreenCapture:ep}=(0,tJ.T)(ed,el.yD.CREATE_FORM.SCREENSHOT_CAPTURED),eg=(0,eq.M)(),{permitted:ef}=(0,I.J)(Q.eZ.ManageWorkspaceIntegrations),ex=(0,ei.z)(),{supabaseOrganizations:ev,isLoading:ey}=(0,tH.G)({workspaceId:(null==T?void 0:T.id)||""});(0,tH.f)({workspaceId:(null==T?void 0:T.id)||""});let{handleConnect:ew}=(0,tG.UO)((null==T?void 0:T.id)||""),{connectorsByStatus:eS,isLoading:ek}=(0,tQ.Z)({workspaceId:(null==T?void 0:T.id)||""}),{setSelectedProject:eN}=(0,en.C)(),{themes:eC}=(0,aa.j)(),e_=(0,aa.l)(),eI=(0,ej.C)(e=>e.themeState.selectedTheme),eE=(0,ej.C)(e=>e.setSelectedTheme),eA=(0,ej.C)(e=>e.createNewBlankTheme),{resolvedTheme:eT="light"}=(0,eW.D)(),eM=(0,L.A)("md"),eP=(0,L.A)("md"),eF=!!T&&(0,tZ.i)(T),eL=eS.connected.filter(e=>e.is_enabled_for_workspace),eR=eL.length>0,eO=(0,eo.B1)(),eU=(0,eo.nM)(),eK=(0,eo.iZ)(),{data:tt,isLoading:ta}=(0,tB.I4)({queryKey:["available-library-projects",null==T?void 0:T.id],queryFn:async()=>{if(!(null==T?void 0:T.id))return[];let e=(0,eD.Pg)();return(await e.get("/workspaces/".concat(T.id,"/available-library-projects"))).libraries||[]},enabled:!!(null==T?void 0:T.id)&&eO&&!!m,permission:Q.eZ.ViewWorkspace}),tr=(0,o.useMemo)(()=>{if(!T)return!1;let e=ey;return eF&&(e=e||ek),eO&&m&&(e=e||ta),e},[T,ey,eF,ek,eO,m,ta]),tn=eI?null!=(a=null==eC||null==(t=eC.find(e=>e.id===eI))?void 0:t.name)?a:"Unknown theme":void 0,ts="object"==typeof c&&null!==c?c.name:void 0;if(F)return null;let ti=(0,r.jsx)(O.$,{variant:"ghost",size:eP?"md":"default",rounded:!0,iconOnly:!0,"aria-label":"Additional actions",disabled:s,loading:tr,children:(0,r.jsx)(e4.c,{})});return tr?(0,r.jsx)(tV.E,{className:"size-9 rounded-full md:size-8"}):D?(0,r.jsxs)("div",{className:"flex min-w-0 items-center gap-1",children:[(0,r.jsxs)(tT,{children:[(0,r.jsx)(tM,{asChild:!0,children:ti}),(0,r.jsxs)(tP,{children:[(0,r.jsxs)(tL,{icon:e5.A,value:"attach",label:"Attach",children:[(0,r.jsx)(tD,{icon:V.o,value:"attach-file",onSelect:()=>{if(l.bC.capture(el.yD.CREATE_FORM.ATTACH_CLICKED,{has_seen_attach_modal:es}),null==eg||eg.track(el.yD.CREATE_FORM.ATTACH_CLICKED,{has_seen_attach_modal:es},{integrations:{All:!1,POSTHOG:!0}}),!D)return void et(!0);eu()},children:"File"}),(0,r.jsx)(tD,{icon:e7.Y,value:"screenshot",onSelect:ep,className:"hidden md:flex",children:A("screenshot")}),ec&&x&&(0,r.jsx)(tD,{icon:ez.N,value:"import-codebase",onSelect:()=>Z(!0),disabled:s,children:"Codebase"}),ec&&v&&(0,r.jsx)(tD,{icon:eV.j,value:"upload-zip",onSelect:()=>X(!0),disabled:s,children:"Zipped folder"})]}),(0,r.jsxs)(tL,{icon:eY.K,value:"design",label:"Design",children:[(0,r.jsxs)(tL,{icon:eJ.t,value:"themes",label:"Themes",children:[(()=>{let e=e_.filter(e=>"your-themes"===e.id||"default-themes"===e.id);return e.some(e=>e.themes.length>0)?e.map(e=>0===e.themes.length?null:(0,r.jsxs)("div",{children:[(0,r.jsx)(tR,{children:e.title}),e.themes.map(e=>{let t=eI===e.id;return(0,r.jsx)(tD,{value:"theme-".concat(e.id),onSelect:()=>{eE(t?void 0:e.id)},customIcon:(0,r.jsx)(eQ.O,{theme:e,pageMode:eT,className:""}),selected:t,children:e.name},e.id)})]},e.id)):(0,r.jsx)(tD,{icon:B.e,value:"no-themes",disabled:!0,hideFromSearch:!0,children:"No themes found"})})(),!eM&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(tO,{}),p&&(0,r.jsx)(tD,{icon:e8.o,value:"manage-themes",onSelect:()=>{p()},disabled:s,children:"Manage themes"}),(0,r.jsx)(tD,{icon:e6.j,value:"create-new-theme",onSelect:()=>{eA(),null==p||p()},disabled:s,children:"Create new theme"})]})]}),!eK&&m&&(0,r.jsxs)(tL,{icon:eZ.v,value:"libraries",label:"Design systems",trailingLabelContent:d?(0,r.jsx)(J.M,{workspace:d,requiredPlanCategory:"enterprise",disableHover:!eO,needsToUpgrade:!eO}):void 0,hoverContent:!eO&&d?(0,r.jsx)(J.w,{workspace:d,requiredPlanCategory:"enterprise",needsToUpgrade:!0}):void 0,disabled:!eO,children:[(0,r.jsx)(tR,{children:"Select design system"}),tt&&tt.length>0?tt.map(e=>{let t=u.some(t=>t.project_id===e.id);return(0,r.jsx)(tD,{icon:eZ.v,value:"library-".concat(e.id),onSelect:()=>(e=>{if(!m)return;let t=null==tt?void 0:tt.find(t=>t.id===e);t&&(u.some(t=>t.project_id===e)?m(u.filter(t=>t.project_id!==e)):m([...u,{project_id:e,name:t.name||t.description}]))})(e.id),selected:t,children:e.name||"Untitled design system"},e.id)}):(0,r.jsx)(tD,{icon:B.e,value:"no-libraries",disabled:!0,hideFromSearch:!0,children:"No design systems found"}),h&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(tO,{}),(0,r.jsx)(tD,{icon:e6.j,value:"create-library-project",onSelect:()=>{h()},disabled:s,children:"Create library project"})]}),tt&&tt.length>0&&(0,r.jsxs)(tL,{icon:e3.r,value:"edit-library",label:"Edit design system",children:[(0,r.jsx)(tR,{children:"Edit design system"}),tt.map(e=>(0,r.jsx)(tF,{icon:eZ.v,value:"edit-library-".concat(e.id),url:"/projects/".concat(e.id),children:e.name||"Untitled design system"},"edit-".concat(e.id)))]})]}),U&&(null==M?void 0:M.id)&&(0,r.jsx)(tD,{icon:e1.W,value:"templates",onSelect:n,children:"Use a template"})]}),eU&&j&&(0,r.jsxs)(tL,{icon:e9.j,value:"stack",label:"Stack",children:[(0,r.jsx)(tR,{children:"Choose tech stack"}),eb.map(e=>{let[t,{label:a,description:n}]=e;return(0,r.jsx)(tD,{value:"stack-".concat(t),onSelect:()=>j(t),selected:b===t,subtitle:n,children:a},t)})]}),T&&(0,r.jsxs)(tL,{icon:eX.d,value:"integrations",label:"Connectors",children:[(0,r.jsxs)(tL,{icon:e0.b,value:"databases",label:"Databases",children:[ex&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(tR,{children:"Lovable Cloud"}),(0,r.jsx)(tD,{icon:B.e,value:"lovable-cloud",disabled:!0,hideFromSearch:!0,children:"Auto-enabled in chat"}),(0,r.jsx)(tO,{})]}),(0,r.jsx)(tR,{children:"Supabase"}),null==ev?void 0:ev.map(e=>e.status===t$.s.status.NEEDS_REFRESH?(0,r.jsx)(tD,{icon:te.Y,value:"supabase-org-".concat(e.id),onSelect:()=>ew({supabaseOrgId:e.id}),disabled:!ef,subtitle:ef?"Click to reconnect to Supabase":"Ask an admin of your workspace to reconnect to Supabase",children:e.name},e.id):(0,r.jsxs)(tL,{icon:e2.s,value:"supabase-org-".concat(e.id),label:e.name,children:[(0,r.jsx)(tR,{children:e.name}),e.projects&&e.projects.length>0?(0,r.jsxs)(r.Fragment,{children:[e.projects.map(e=>{let t=(0,eH.L)(e),a="object"==typeof c&&null!==c&&c.id===e.id;return(0,r.jsx)(tD,{icon:t?e0.b:te.Y,value:"supabase-project-".concat(e.id),onSelect:()=>{a?eN(null):eN(e)},disabled:!t,subtitle:t?void 0:"Check project status in Supabase",selected:a,children:e.name},e.id)}),(0,r.jsx)(tO,{})]}):(0,r.jsx)(tD,{icon:B.e,value:"no-projects",disabled:!0,hideFromSearch:!0,children:"No projects"}),(0,r.jsx)(tF,{icon:e6.j,url:"https://supabase.com/dashboard/new/".concat(e.id),isExternal:!0,value:"create-project-".concat(e.id),children:"Create project"})]},e.id)),(0,r.jsx)(tD,{icon:e6.j,value:"add-supabase-org",onSelect:()=>ew(),disabled:!ef,subtitle:ef?void 0:"You are not an admin of this workspace",children:"Add Supabase organization"})]}),eF&&(0,r.jsxs)(tL,{icon:e$.D,value:"mcp-servers",label:"MCP servers",children:[(0,r.jsx)(tR,{children:"Your MCP servers"}),eR?(0,r.jsx)(r.Fragment,{children:eL.map(e=>{let t=e.integration_id||e.id;return(0,r.jsx)(tD,{icon:e$.D,value:"mcp-".concat(t),onSelect:()=>{var t;return t=e.id,void(W(el.$6.INPUT_ACTION_MENU.MCP_SERVER_CLICKED),K("integrations"),setTimeout(()=>{H("mcp-server",t)},100))},customIcon:(0,r.jsx)(eB.G,{size:"xs",connector:e}),children:e.display_name},t)})}):(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(tD,{icon:B.e,value:"no-mcp-servers",disabled:!0,hideFromSearch:!0,children:"No MCP servers connected"})})]}),(0,r.jsx)(tO,{}),(0,r.jsx)(tD,{icon:e8.o,value:"manage-connectors",onSelect:()=>{W(el.$6.INPUT_ACTION_MENU.MANAGE_INTEGRATIONS_CLICKED),K("integrations")},disabled:s,children:"Manage connectors"})]}),z&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(tO,{}),(0,r.jsx)(tD,{icon:e8.o,value:"advanced-settings",onSelect:()=>er(!0),children:A("advancedSettings")})]})]})]}),em,(0,r.jsx)("input",{id:"file-upload",className:"hidden",...eh()}),(0,r.jsx)(ai,{selectedTheme:eI,selectedThemeLabel:tn,setSelectedTheme:eE,selectedSupabaseProject:c,selectedSupabaseProjectLabel:ts,setSelectedProject:eN,selectedLibraries:u,onLibrariesSelectAction:m,selectedStack:eU?b:void 0,onStackSelect:eU?j:void 0}),x&&(0,r.jsx)(t6,{isOpen:$,onOpenChange:Z,onImport:x}),v&&(0,r.jsx)(t8,{isOpen:Y,onOpenChange:X,onZipSelected:v}),(0,r.jsx)(at,{isOpen:ee,onOpenChange:et,onSignIn:()=>{R("signup")}}),(0,r.jsx)(t5,{open:ea,onOpenChange:er,chatModeEnabled:w,setChatModeEnabled:S,techStack:k,setTechStack:N,deploymentTarget:_,setDeploymentTarget:E,disabled:s})]}):(0,r.jsx)(y,{children:(0,r.jsx)(O.$,{intent:"secondary",size:eP?"md":"default",rounded:!0,iconOnly:!0,"aria-label":"Additional actions",disabled:!0,children:(0,r.jsx)(e4.c,{})})})};var ao=a(902357),ac=a(207717);let ad=e=>{var t,a;let{projectId:n,setSelectedTemplateId:s,openTemplatesDialog:i}=e,{data:l,isLoading:o}=(0,ef.I)(ac.c.projectDetails({projectId:n})),c=(0,L.A)("md");return l||o?(0,r.jsxs)("div",{className:"group/attached-template relative flex flex-wrap gap-2",children:[(0,r.jsxs)("button",{className:(0,H.cn)("flex h-16 w-16 items-center justify-center bg-muted p-0 transition-opacity duration-150 ease-in-out hover:opacity-80",c&&"h-24 w-24"),type:"button",onClick:i,children:[o?(0,r.jsx)(ao.y,{size:"small"}):(0,r.jsx)(t9.default,{src:null!=(t=null==l?void 0:l.latest_screenshot_url)?t:"",alt:"Screenshot of ".concat(null!=(a=(null==l?void 0:l.display_name)||(null==l?void 0:l.name))?a:"template project"),fill:!0,sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw",style:{objectFit:"cover",objectPosition:"top"},draggable:"false",className:"rounded-xl border border-muted-border"}),(0,r.jsx)("div",{className:"absolute inset-px rounded-xl bg-gradient-to-t from-background/50 to-background/0"}),(0,r.jsx)(e1.W,{size:c?"default":"small",className:"absolute bottom-1.5 left-1.5 text-foreground"})]}),(0,r.jsxs)(W.m_,{instant:!0,children:[(0,r.jsx)(W.k$,{asChild:!0,children:(0,r.jsx)("button",{className:(0,H.cn)("absolute -right-0.5 -top-0.5 z-[10000] flex items-center justify-center rounded-full border bg-primary text-xs text-primary-foreground opacity-0 shadow shadow-background/25 transition-opacity duration-150 ease-out group-hover/attached-template:opacity-100",c&&"h-5 w-5 opacity-100"),onClick:()=>{s(void 0)},children:(0,r.jsx)(eO.P,{size:c?"default":"small"})})}),(0,r.jsx)(W.ZI,{children:"Remove template"})]})]},n):null};var au=a(971563),am=a(852241),ah=a(278854),ap=a(480203),ag=a(799599),af=a(148097),ax=a(654041),av=a(822534),ab=a(715429);let ay=(e,t,a)=>{if(!t)return e;let r=e.toLowerCase(),n=t.toLowerCase();return r.startsWith(n)?e.slice(t.length):a?" "+e:e},aj=e=>{let{autoSize:t,minHeight:a=40,className:n,shouldAutoFocus:s,placeholder:d,forceShowPlaceholder:u,disabled:m,isChatModeActive:h=!1,onEnableChatMode:p=()=>{},onDisableChatMode:g=()=>{},enableSlashCommands:f=!1}=e,x=(0,i.c3)("ChatInputTextArea"),{chatInputRef:v}=(0,D.Nk)(),{store:b,setStorageData:y}=(0,k.Xl)(),w=b(e=>e.message),S=b(e=>e.setMessage),N=(0,C.j4)(e=>{var t;return null==(t=e.currentWorkspace)?void 0:t.id}),{mutate:_,isPending:I}=(0,ab.n)({mutationFn:async e=>{let{workspaceId:t,text:a}=e,r=(0,eD.Pg)(),n=await r.post("/workspaces/".concat(t,"/launchpad-nudge"),{query:a,variant:"search-autosuggestions"});try{var s;let e=JSON.parse(n.result),t=null!=(s=e.suggestions)?s:e;if(!Array.isArray(t)||!t.every(e=>"string"==typeof e))throw Error("Invalid response format");return t}catch(e){return eN.logging.error("Failed to parse launchpad AI suggestions response",{result:n.result,error:e}),[]}},onError:e=>{eN.logging.error("Failed to fetch launchpad AI suggestions",{error:e})}}),[E,A]=(0,o.useState)(!1),T=(0,o.useRef)(null),M=(0,L.A)("md"),P=(0,o.useRef)(!1),[F,R]=(0,o.useState)(u?"":w),[O,z]=(0,o.useState)([]),[V,U]=(0,o.useState)(!1),[K,W]=(0,o.useState)(0),[q,B]=(0,o.useState)(null),[G,Q]=(0,o.useState)({top:0,left:0}),$=(0,o.useRef)(null),Z=(0,o.useRef)(null),Y=(0,o.useRef)(null),J=(0,o.useRef)(void 0),X=(0,o.useRef)(!1),ee=(0,o.useRef)(w.length),et=(0,o.useRef)(!1),ea=(0,o.useRef)(!0),er=(0,o.useRef)(null),en=(0,o.useRef)(w);en.current=w;let es=(0,av.d)(F,2e3),ei=F.trim().length>=5,eo=(e=>{if(0===e.length||/\s$/.test(e))return"";let t=e.lastIndexOf(" ");return -1===t?e:e.slice(t+1)})(F),ec=(0,o.useCallback)(()=>{let e=v.current;return!!e&&e.scrollHeight>e.clientHeight},[v]),ed=ei&&ec(),eu=ei&&!I&&O.length>0&&K>=0&&!ed?O[K]:null,em=eu?ay(eu,eo,!0):null,eh=V&&ei&&O.length>0&&!I&&!ed;(0,o.useLayoutEffect)(()=>{if(eh&&Z.current&&$.current){if(!X.current){l.Ay.capture(el.PT.SEARCH_AUTOSUGGESTIONS.SUGGESTIONS_SHOWN);let e=Z.current.getBoundingClientRect(),t=$.current.getBoundingClientRect();Q({top:e.bottom-t.top+4,left:Math.min(e.left-t.left,t.width-200)})}X.current=!0}else X.current=!1},[eh]),(0,o.useEffect)(()=>{let e=w.length,t=ee.current;e<t||!ea.current||ec()?(et.current=!1,z([])):e>t&&w.trim().length>=5&&(et.current=!0,z([])),ee.current=e},[w,ec]),(0,o.useEffect)(()=>{if(!et.current||!N)return;if(!es||es.trim().length<5||ec())return void z([]);let e=en.current;er.current=e,_({workspaceId:N,text:es},{onSuccess:t=>{en.current!==e||ec()||(z(t),W(0))}})},[es,N,_,ec]),(0,o.useEffect)(()=>{var e;let t=null==(e=v.current)?void 0:e.value;t&&(y(e=>({...e,message:t})),S(t))},[y,v,S]),(0,o.useEffect)(()=>{if(P.current){P.current=!1;return}let e=u?"":w;R(e),v.current&&v.current.value!==e&&(v.current.value=e)},[w,u,v,R,P]);let ep=(0,o.useRef)(!1),eg=(0,o.useCallback)(e=>{l.Ay.capture(el.PT.SEARCH_AUTOSUGGESTIONS.SUGGESTION_SELECTED,{suggestion:e,method:"click"}),z([]);let t=F+ay(e,eo,!0);P.current=!0,S(t),R(t),W(0),v.current&&(v.current.value=t,v.current.focus(),v.current.setSelectionRange(t.length,t.length))},[F,S,v,eo]),ef=(0,o.useCallback)(()=>{if(em&&eu){l.Ay.capture(el.PT.SEARCH_AUTOSUGGESTIONS.SUGGESTION_SELECTED,{suggestion:eu,method:"keyboard"}),z([]);let e=F+em;P.current=!0,S(e),R(e),W(0),v.current&&(v.current.value=e,v.current.focus(),v.current.setSelectionRange(e.length,e.length))}},[em,eu,F,S,v]),ex=(0,o.useCallback)(e=>{let t=e.target.value,a=e.target.selectionStart===t.length;if(ea.current=a,a||(et.current=!1,z([])),f&&(/^\/\s*(c|ch|cha|chat)?$/i.test(t)?A(!0):A(!1),/^\/\s*chat\s+/i.test(t))){p();let e=t.replace(/^\/\s*chat\s+/i,"");P.current=!0,S(e),A(!1);return}P.current=!0,S(t),R(t),O.length>0&&z([])},[f,p,S,O.length]);aw({autoSize:t,value:F,inlineSuggestion:em,textareaRef:v,minHeight:a});let ev=(0,ap.W)(v);(0,ag.vC)("t",e=>{if(e.preventDefault(),v.current){var t;null==(t=v.current)||t.focus()}},{enabled:ev}),(0,o.useEffect)(()=>{if((null==v?void 0:v.current)&&!M&&window.innerWidth>=L.f.md&&(null==s||s)){var e;null==(e=v.current)||e.focus()}},[w,v,M,s]),(0,o.useEffect)(()=>{let e=e=>{T.current&&!T.current.contains(e.target)&&v.current&&!v.current.contains(e.target)&&A(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[v]);let eb=u?"":w;return(0,r.jsxs)("div",{className:"relative flex flex-1 items-center",children:[f&&h&&(0,r.jsx)("div",{className:"ml-1.5 mt-0 py-2",children:(0,r.jsx)("div",{className:"mt-0 h-fit rounded-sm bg-affirmative px-2 py-0.5 text-xs font-medium text-affirmative-foreground dark:bg-affirmative dark:text-affirmative-foreground",children:x("chatMode")})}),f&&E&&(0,r.jsx)("div",{ref:T,className:"absolute -top-10 left-2 z-50 cursor-pointer rounded-md border border-input bg-popover p-1 shadow-md",onClick:()=>{if(v.current){var e;S(""),p(),A(!1),null==(e=v.current)||e.focus()}},children:(0,r.jsxs)("div",{className:"flex items-center gap-1.5 rounded-sm bg-accent px-2 py-1",children:[(0,r.jsx)(af.b,{size:"small"}),(0,r.jsx)("span",{className:"font-medium",children:x("chatSuggestion")})]})}),(0,r.jsxs)("div",{ref:$,className:"relative flex flex-1 items-start",children:[(0,r.jsxs)("div",{ref:Y,"aria-hidden":"true",className:(0,H.cn)("pointer-events-none absolute inset-0 z-20 max-h-[max(35svh,5rem)] overflow-hidden whitespace-pre-wrap break-words px-2 py-2 text-[16px] leading-snug scrollbar-hide md:text-base",ed&&"hidden"),children:[(0,r.jsx)("span",{className:"text-foreground",children:F}),em&&V&&(0,r.jsx)("span",{ref:Z,className:"text-muted-foreground/50",children:em})]}),(0,r.jsx)(ta.N,{children:eh&&(0,r.jsx)(tt.P.div,{initial:{opacity:0,scale:.9,y:-4},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:-4},transition:{type:"spring",stiffness:500,damping:30,mass:.8},className:"pointer-events-auto absolute z-50 origin-top-left",style:{top:G.top,left:Math.max(0,G.left)},children:(0,r.jsx)("div",{className:"overflow-hidden rounded-lg border border-input bg-popover px-1 py-1 shadow-lg",onMouseLeave:()=>B(null),children:O.map((e,t)=>{let a=q===t,n=null===q&&K===t;return(0,r.jsx)("button",{type:"button",onClick:t=>{t.stopPropagation(),eg(e)},onMouseEnter:()=>B(t),className:(0,H.cn)("block w-full whitespace-nowrap rounded px-2 py-1 text-left text-sm transition-colors",a||n?"bg-accent text-accent-foreground":"text-popover-foreground/70"),children:e},t)})})})}),(0,r.jsx)(ax.T,{id:"chatinput",autoFocus:s,ref:null!=v?v:void 0,disabled:m,defaultValue:eb,onChange:ex,onCompositionStart:()=>ep.current=!0,onCompositionEnd:()=>ep.current=!1,onFocus:e=>{J.current&&(window.clearTimeout(J.current),J.current=void 0),U(!0);let t=/Android/i.test(navigator.userAgent);M&&t&&setTimeout(()=>{e.target.scrollIntoView({behavior:"smooth",block:"center"})},200)},onBlur:()=>{J.current=window.setTimeout(()=>{U(!1),z([]),et.current=!1},150)},className:(0,H.cn)("resize-none border-none text-[16px] leading-snug placeholder-shown:text-ellipsis placeholder-shown:whitespace-nowrap md:text-base","focus-visible:border-none focus-visible:ring-0 focus-visible:ring-offset-0","max-h-[max(35svh,5rem)]","bg-transparent focus:bg-transparent","flex-1",em&&V?"text-transparent caret-foreground":"",n),style:{height:a},placeholder:d,onKeyDown:e=>{if(O.length>0){let a=O.length-1;if("Tab"===e.key||"ArrowRight"===e.key){var t;if(em&&(null==(t=v.current)?void 0:t.selectionStart)===F.length){e.preventDefault(),ef();return}}else if("ArrowDown"===e.key){e.preventDefault(),B(null),W(e=>e<a?e+1:0);return}else if("ArrowUp"===e.key){e.preventDefault(),B(null),W(e=>e>0?e-1:a);return}else if("Escape"===e.key)return void z([])}"Backspace"===e.key&&""===e.target.value&&(g(),A(!1));let a=ep.current||e.nativeEvent.isComposing;if("Enter"===e.key&&!e.shiftKey&&!M&&!a){if(e.preventDefault(),A(!1),em)return void eg(em);if(f&&E)p(),S("");else{let t=e.currentTarget.closest("form");t&&t.requestSubmit(),e.currentTarget.blur()}}},maxLength:j.d2,onPaste:e=>{e.clipboardData.getData("text/plain").length>j.d2&&c.toast.warning(x("limitReached"),{description:x("limitReachedDescription",{count:j.d2})})}})]})]})};aj.displayName="ChatInputTextAreaWithSuggestions";let aw=e=>{let{autoSize:t,value:a,inlineSuggestion:r,textareaRef:n,minHeight:s=0}=e;(0,o.useLayoutEffect)(()=>{if(!n.current||!t)return;let e=n.current,i=document.createElement("div");i.style.visibility="hidden",i.style.position="absolute",i.style.overflow="hidden",i.style.whiteSpace="pre-wrap",i.style.wordBreak="break-word",document.body.appendChild(i);let l=window.getComputedStyle(e);i.style.width=l.width,i.style.padding=l.padding,i.style.lineHeight=l.lineHeight,i.style.fontSize=l.fontSize,i.style.fontFamily=l.fontFamily,i.style.boxSizing=l.boxSizing,i.textContent=a+(null!=r?r:"")+"\n";let o=Math.max(i.scrollHeight,s);e.style.height!=="".concat(o,"px")&&(e.style.height="".concat(o,"px")),document.body.removeChild(i)},[a,r,n,s,t])},aS={dashboard:{prefix:"Build a dashboard for",pills:[{name:"legacy data",prompt:"legacy data that we have in our database. Include charts, tables, and filters plus intuitive navigation for exploring historical records."},{name:"compliance tracking",prompt:"compliance tracking that lets us quickly understand if we are compliant or not. Include task tracking, document management, audit trails, and status indicators."},{name:"revenue projections",prompt:"simulating revenue with adjustable sliders for pricing, volume, and costs using our product pricing and usage data. Include real-time charts and break-even analysis."},{name:"financial data",prompt:"financial data that lets us track expenses, visualize income, and understand our budget goals. Include user auth, cloud sync, and AI chat assistant."},{name:"expense tracking",prompt:"expense tracking with an approval process, user login with different roles, and AI chat assistant. Include charts and categorized transactions."}]},portal:{prefix:"Create a portal for our",pills:[{name:"enterprise partners",prompt:"enterprise partners where we can share documents, provide project updates and receive change requests."},{name:"brand assets",prompt:"brand assets where employees can sign in and quickly find the latest brand assets and guidelines. Include an admin interface."},{name:"marketing campaigns",prompt:"marketing campaigns where we can quickly get an overview of planned and upcoming campaign plans and their progress."},{name:"vendor management",prompt:"vendor management where we can add, edit and delete vendors and track contracts. Include users, vendor profiles, scorecards, purchase orders, and approvals."},{name:"employee resources",prompt:"employee resources that administrators can easily manage. A chat assistant should help users answer questions. Start with policies, benefits, training, and time-off requests."}]},page:{prefix:"Make a page to",pills:[{name:"list integrations",prompt:"list integrations that we support with cards for each service. It should be easy for an admin to add, edit and delete integrations."},{name:"onboard employees",prompt:"welcome new employees and help them onboard themselves. It should support multiple checklists and a chat assistant to help them with any questions."},{name:"register attendees",prompt:"register event attendees easily. Include registration forms, event details, ticket payment, capacity tracking, and waitlists."},{name:"showcase products",prompt:"showcase our products to potential customers. It should support filtering, search and an admin interface to add, edit and delete products."},{name:"collect feedback",prompt:"collect customer feedback and automatically analyze sentiment with AI. Include survey forms, NPS scoring, and an analytics dashboard."}]}},ak={website:{prefix:"Create a website for",pills:[{name:"email signups",prompt:"email signups where users can sign up for our newsletter or receive updates. Include a hero section with benefits and prominent CTA."},{name:"waitlist signups",prompt:"signing up for our waitlist with email form, validation, user auth, countdown timer, and AI chatbot for FAQs with gradient backgrounds."},{name:"payment checkout",prompt:"paying for my services with Stripe integration. Include cart summary, payment form, order confirmation."},{name:"beta signup",prompt:"joining our beta program with email input, waitlist counter, feature highlights with a gradient background and glassmorphism."},{name:"my portfolio",prompt:"showcasing my work with dark mode, animated project cards, contact form and a way for me to add projects to the page."}]},page:{prefix:"Make a page to",pills:[{name:"onboard users",prompt:"guide new users of my product with a step-by-step flow. Include user auth, profile setup, payment integration, progress indicators, and skip options."},{name:"book services",prompt:"book and pay for my services in a calendar view. Include a booking form with service selection, and confirmation emails."},{name:"schedule appointments",prompt:"allow users to schedule appointments in a calendar view. Include day/week/month views, time slot management, and reminders."},{name:"showcase work",prompt:"showcase my portfolio with a gallery of projects. Include image galleries with lightbox, and case studies."},{name:"sell products",prompt:"sell my products using Shopify. Include product previews, customer reviews, analytics dashboard, trust badges, and clear CTAs."}]},dashboard:{prefix:"Build a dashboard for",pills:[{name:"saas subscriptions",prompt:"managing SaaS subscriptions and usage for logged in admins. Include data visualization, KPI cards, sidebar navigation, and analytics."},{name:"content performance",prompt:"analyzing content performance for posts and videos. Include content calendar, draft management, and AI chat assistant for writing ideas."},{name:"fitness tracking",prompt:"tracking fitness progress with user auth, and workout logging. Include exercise history, progress charts, goals, and AI chat assistant."},{name:"project management",prompt:"managing projects with user auth, and kanban boards. Include task assignments, deadlines, progress tracking."},{name:"social analytics",prompt:"analyzing social media account performance with user auth, and real-time metrics. Include follower growth, engagement rates, post performance, and AI recommendations."}]}},aN=e=>{let{atStart:t,atEnd:a}=e;return(0,r.jsxs)(ta.N,{initial:!1,mode:"wait",children:[!a&&(0,r.jsx)(tt.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"pointer-events-none absolute right-0 top-0 h-full w-16 bg-gradient-to-l from-muted to-transparent"},"right-gradient"),!t&&(0,r.jsx)(tt.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"pointer-events-none absolute left-0 top-0 h-full w-16 bg-gradient-to-r from-muted to-transparent"},"left-gradient")]})},aC=e=>{let{isDeleting:t,pillConfig:a}=e,n=(0,k.Uw)(e=>e.message),s=(0,k.Uw)(e=>e.setMessage),i=(0,o.useRef)(null),c=(0,o.useRef)(null),[d,u]=(0,o.useState)(!0),[m,h]=(0,o.useState)(!1),[p,g]=(0,o.useState)(!1),[f,x]=(0,o.useState)(!1),v=(0,o.useRef)(0),b=(0,o.useRef)(0),y=(0,o.useRef)(!1),j=n.length>0||t||f;(0,o.useEffect)(()=>()=>{i.current&&clearTimeout(i.current)},[]),(0,o.useEffect)(()=>{let e=c.current;if(!e||j){u(!0),h(!1);return}e.scrollLeft=0;let t=()=>{u(0===e.scrollLeft),h(e.scrollLeft+e.clientWidth>=e.scrollWidth-1)},a=t=>{e.scrollWidth>e.clientWidth&&0!==t.deltaY&&0===t.deltaX&&(t.preventDefault(),e.scrollLeft+=t.deltaY)};return t(),e.addEventListener("scroll",t),e.addEventListener("wheel",a,{passive:!1}),()=>{e.removeEventListener("scroll",t),e.removeEventListener("wheel",a)}},[j,a]);let w=(0,o.useCallback)(e=>{if(y.current){y.current=!1;return}l.Ay.capture(el.yD.EXAMPLE_PROMPT.CLICKED,{pill:e.name}),x(!0);let t=a.prefix+" ";s(t);let r=(e,t)=>{if(0===t.length)return void x(!1);let a=e+t[0];s(a),i.current=setTimeout(()=>{r(a,t.slice(1))},15)};r(t,e.prompt)},[a.prefix,s]);return(0,r.jsx)("div",{className:"pointer-events-none absolute bottom-0 left-0 right-0 flex h-10",children:(0,r.jsx)(ta.N,{mode:"wait",children:!j&&(0,r.jsxs)(tt.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5,ease:"easeInOut"},className:"absolute left-0 right-0 top-1/2 h-fit -translate-y-1/2",children:[(0,r.jsx)("div",{ref:c,"data-horizontal-scroll":!0,className:(0,H.cn)("pointer-events-auto flex w-full select-none flex-nowrap gap-2 overflow-x-auto scrollbar-hide",p&&"cursor-grabbing"),onMouseDown:e=>{var t,a;g(!0),v.current=e.clientX,b.current=null!=(a=null==(t=c.current)?void 0:t.scrollLeft)?a:0,y.current=!1},onMouseMove:e=>{if(!p||!c.current)return;let t=e.clientX-v.current;Math.abs(t)>5&&(y.current=!0),c.current.scrollLeft=b.current-t},onMouseUp:()=>{g(!1)},onMouseLeave:()=>{g(!1)},children:a.pills.map(e=>(0,r.jsx)(O.$,{variant:"outline",size:"sm",type:"button",onClick:()=>w(e),className:(0,H.cn)("text-nowrap rounded-full",p&&"cursor-grabbing"),children:e.name},e.name))}),(0,r.jsx)(aN,{atStart:d,atEnd:m})]},a.prefix)})})},a_=(0,n.default)(async()=>(await Promise.all([a.e(22617),a.e(48265),a.e(33727),a.e(98397),a.e(89740),a.e(16432),a.e(88163)]).then(a.bind(a,567755))).ChatInputTiptap,{loadableGenerated:{webpack:()=>[567755]},ssr:!1}),aI=e=>{var t,a;let{disabled:n=!1,minHeight:s,contentKey:l,usePills:c=!1,searchAutosuggestions:d=!1,disableAutoFocus:u=!1}=e,m=(0,tW.b)(),h=null!=l?l:m?"TypeWriterEdu":"TypeWriter",p=(0,i.c3)(h),g=(0,au.ot)(),f=(0,b.J)(),x=(0,eo.dm)(),v=(0,eo.wb)(),y=null!=(a=null==(t=g[h])?void 0:t.words)?a:[],{pillConfig:j,refresh:w}=(()=>{let e=(0,C.j4)(e=>e.currentWorkspace),{isEnterprisePlan:t}=(0,G.cb)(null==e?void 0:e.plan),a=t?aS:ak,r=(0,o.useMemo)(()=>Object.keys(a),[a]),[n,s]=(0,o.useState)(0);(0,o.useEffect)(()=>{r.length>0&&s(Math.floor(Math.random()*r.length))},[r]);let i=(0,o.useCallback)(()=>{s(e=>(e+1)%r.length)},[r.length]);return{pillConfig:a[r[n]],refresh:i}})(),S=c?j.prefix:p("prefix"),k=c?[j.prefix]:y,{text:N,isDeleting:_}=(0,ah.d)({words:k,prefix:c?"":S,onWordCompleted:c?w:void 0,pauseBetweenWords:c?5e3:void 0,typingSpeed:30,deletingSpeed:30}),I=n?"Viewers can only view existing projects":N;return d?(0,r.jsx)(aj,{autoSize:!0,minHeight:null!=s?s:80,shouldAutoFocus:!n&&!f&&!u,placeholder:I,enableSlashCommands:!1,isChatModeActive:!1,disabled:n}):x&&v?(0,r.jsx)(a_,{minHeight:null!=s?s:80,shouldAutoFocus:!n&&!f&&!u,placeholder:I,disabled:n,disableKeyboardScroll:!0}):(0,r.jsx)(am.h,{autoSize:!0,minHeight:null!=s?s:80,shouldAutoFocus:!n&&!f&&!u,placeholder:I,enableSlashCommands:!1,isChatModeActive:!1,disabled:n,children:c&&(0,r.jsx)(aC,{isDeleting:_,pillConfig:j})})};var aE=a(536185);let aA=(0,n.default)(async()=>(await Promise.all([a.e(97097),a.e(7579),a.e(52899),a.e(65064),a.e(2421),a.e(7761),a.e(73383),a.e(78199),a.e(10375),a.e(14356)]).then(a.bind(a,214356))).TemplatesDialog,{loadableGenerated:{webpack:()=>[214356]},ssr:!1}),aT=(0,n.default)(async function(){return(await Promise.all([a.e(94485),a.e(7579),a.e(52899),a.e(94088),a.e(7333),a.e(19396),a.e(86709),a.e(40981),a.e(999),a.e(31788),a.e(25339),a.e(31987),a.e(56590),a.e(25398),a.e(52120),a.e(75764)]).then(a.bind(a,232773))).ThemeDialog},{loadableGenerated:{webpack:()=>[232773]},ssr:!1}),aM="create-form",aP=e=>{var t;let a=(0,r.jsx)(aD,{...e,maxWidth:null!=(t=e.maxWidth)?t:"max-w-3xl"});return e.skipProvider?a:(0,r.jsx)(k.Ar,{localStorageKey:aM,children:a})},aD=e=>{var t;let{maxWidth:a,textareaMinHeight:n,typeWriterContentKey:x,className:v,children:b,usePills:P,searchAutosuggestions:F=!1,disableAutoFocus:L=!1,disableAutoSubmit:O=!1}=e,z=(0,i.c3)("AttachImageActionModal"),{store:V}=(0,k.Xl)(),U=V(e=>e.message),K=V(e=>e.setImages),W=(0,k.Uw)(e=>e.suggestionLabel),q=(0,k.Uw)(e=>e.images),B=(0,eo.zJ)(),{authUser:Z}=(0,g.Z2)(),{isChatModeEnabledByDefault:Y}=(0,eo.to)(),J=(0,eo.nM)(),X=(0,eo.iZ)(),[et,ed]=(0,d.A)("chat-mode-enabled-landing-page-v2",{defaultValue:Y}),{currentWorkspaceId:eu,setCurrentWorkspaceId:em}=(0,C.Dx)(),ep=(0,E.Mu)(e=>e.isLoading),ev=(0,s.useSearchParams)(),eb=ev.get("promptKey"),eO=ev.get("prompt"),ez=ev.get("autosubmit"),eV=ev.get("builder_token"),eU=ev.get("folderId"),eW=(0,C.j4)(e=>e.currentWorkspace),eq=(0,ei.z)(),{isBizOrEnterprisePlan:eB}=(0,G.cb)(null==eW?void 0:eW.plan),eG=(0,$.B)(),{permitted:eH}=(0,I.J)(Q.eZ.CreateWorkspaceProjects),{selectedModel:eQ}=(0,_.Y$)(),{showDismissApiKeyDialog:e$,setShowDismissApiKeyDialog:eZ,isThemeDialogOpen:eY,setIsThemeDialogOpen:eJ,showTemplatesDialog:eX,setShowTemplatesDialog:e0,openTemplatesDialog:e1}=(()=>{let[e,t]=(0,o.useState)(!1),[a,r]=(0,o.useState)(!1),[n,s]=(0,o.useState)(!1),i=(0,o.useCallback)(()=>s(!0),[]);return{showDismissApiKeyDialog:e,setShowDismissApiKeyDialog:t,isThemeDialogOpen:a,setIsThemeDialogOpen:r,showTemplatesDialog:n,setShowTemplatesDialog:s,openTemplatesDialog:i}})(),{techStack:e2,setTechStack:e5,selectedTemplateId:e3,setSelectedTemplateId:e4,hasUserRemovedTemplate:e6,setHasUserRemovedTemplate:e7,selectedTheme:e8,setSelectedTheme:e9,selectedSupabaseProject:te,setSelectedSupabaseProject:tt,selectedLibraries:ta,setSelectedLibraries:tr,importedGitUrl:tn,setImportedGitUrl:ts,uploadedZipFile:ti,setUploadedZipFile:tl,envVars:to,setEnvVars:tc,visibility:td,setVisibility:tu,deploymentTarget:tm,setDeploymentTarget:th,selectedStack:tp,setSelectedStack:tg}=(e=>{let{workspaceId:t,currentWorkspace:a,isLovableCloudAvailable:r,hasTemplateInUrl:n}=e,{data:s}=(0,ef.I)({...ex.yX.templates({workspaceId:null!=t?t:""}),enabled:!!t&&!!(null==a?void 0:a.default_template_id)}),[i,l]=(0,o.useState)(""),[c,d]=(0,o.useState)(ey),[u,m]=(0,o.useState)(null),[h,p]=(0,o.useState)([]),[g,f]=(0,o.useState)(void 0),[x,v]=(0,o.useState)(void 0),[b,y]=(0,o.useState)({}),[j,w]=(0,o.useState)(void 0),[S,k]=(0,o.useState)(!1),[N,C]=(0,o.useState)(void 0),[_,I]=(0,o.useState)(void 0),E=(0,ej.C)(e=>e.themeState.selectedTheme),A=(0,ej.C)(e=>e.setSelectedTheme),T=(0,o.useRef)(t);return(0,o.useEffect)(()=>{T.current!==t&&null!==T.current&&(f(void 0),v(void 0),y({})),T.current=t},[t]),(0,o.useEffect)(()=>{let e=localStorage.getItem(ew);("modern"===e||"classic"===e||"modern-solid"===e)&&d(e)},[]),(0,o.useEffect)(()=>{m(null),k(!1),w(void 0),A(void 0),p([]),C(void 0),I(void 0)},[t,r,A]),(0,o.useEffect)(()=>{if(!n&&!S&&!j&&(null==a?void 0:a.default_template_id)){let e=null==s?void 0:s.some(e=>e.id===a.default_template_id);void 0!==s&&e&&w(a.default_template_id)}},[a,S,n,j,s]),(0,o.useEffect)(()=>{!N&&(null==a?void 0:a.default_project_visibility)&&C(a.default_project_visibility)},[null==a?void 0:a.default_project_visibility,N,C]),{techStack:i,setTechStack:l,selectedStack:c,setSelectedStack:e=>{d(e),localStorage.setItem(ew,e)},selectedTemplateId:j,setSelectedTemplateId:w,hasUserRemovedTemplate:S,setHasUserRemovedTemplate:k,selectedTheme:E,setSelectedTheme:A,selectedSupabaseProject:u,setSelectedSupabaseProject:m,selectedLibraries:h,setSelectedLibraries:p,importedGitUrl:g,setImportedGitUrl:f,uploadedZipFile:x,setUploadedZipFile:v,envVars:b,setEnvVars:y,visibility:N,setVisibility:C,deploymentTarget:_,setDeploymentTarget:I}})({workspaceId:eu,currentWorkspace:eW,isLovableCloudAvailable:eq,hasTemplateInUrl:!!ev.get("templateId")});(0,o.useEffect)(()=>{let e=ev.get("templateId");e&&(e4(e),e7(!1))},[ev,e4,e7]);let{disableChangeVisibility:tf,disableFormActions:tx,disableSubmission:tv,showActionButtons:tb,disabledTooltipContent:ty}=(e=>{let{canCreateProjects:t}=e;return(0,o.useMemo)(()=>{let e=t?void 0:"You don't have permission to create projects in this workspace. Contact a workspace admin for access.";return{disableChangeVisibility:!t,disabledTooltipContent:e,disableFormActions:!1,disableSubmission:!1,showActionButtons:!0}},[t])})({canCreateProjects:eH}),{hashPromptData:tj,effectivePrompt:tw,cleanupHashPrompt:tS}=(e=>{let{promptKey:t,promptParam:a,setImages:r,enabled:n=!0}=e,s=(0,o.useMemo)(()=>n&&t?(0,ek.Bj)(t):null,[t,n]),i=(null==s?void 0:s.prompt)||a,{download:l}=(0,eS.l)();return(0,o.useEffect)(()=>{(null==s?void 0:s.files)&&s.files.length>0?Promise.all(s.files.map(async e=>{try{let{url:t}=await l({dir_name:e.userId,file_name:e.fileId});return{id:"hash-file-".concat(e.fileId),url:t,name:e.fileName,size:0,type:e.mimeType,uploaded:!0,uploading:!1,existingFileId:e.fileId}}catch(t){return eN.logging.error("Error fetching download URL for file from hash",{error:t,fileId:e.fileId}),null}})).then(e=>{r(e.filter(e=>null!=e))}):(null==s?void 0:s.images)&&s.images.length>0&&r(s.images.map((e,t)=>{try{return{id:"hash-image-".concat(e,"-").concat(t),url:decodeURIComponent(e),name:"Image ".concat(t+1),size:0,type:"image/jpeg",uploaded:!0,uploading:!1}}catch(t){return eN.logging.error("Error decoding malformed image URL from hash fragment",{error:t,url:e}),null}}).filter(e=>null!=e))},[null==s?void 0:s.images,null==s?void 0:s.files,r,l]),{hashPromptData:s,effectivePrompt:i,cleanupHashPrompt:()=>{t&&(0,ek.t)(t)}}})({promptKey:eb,promptParam:eO,setImages:K,enabled:!O}),{createProject:tk}=(e=>{let{workspaceId:t,selectedModel:a,techStack:r,selectedStack:n,suggestionLabel:i,selectedTemplateId:d,selectedSupabaseProject:u,selectedTheme:m,selectedLibraries:h,chatModeEnabled:p,cleanupHashPrompt:g,importedGitUrl:f,uploadedZipFile:x,envVars:v,visibility:b,folderId:y,deploymentTarget:j}=e,w=(0,s.useRouter)(),S=(0,eC.jE)(),N=(0,eI.X)(),{store:C}=(0,k.Xl)(),_=(0,eo.iZ)();return{createProject:(0,o.useCallback)(async e=>{var s,o;let{body:k,project_type:I,options:E}=e;try{let e;if(!t)return void c.toast.error("We had trouble finding your workspace.",{description:"Please try again later or contact support if the problem persists."});let l=C.getState(),o=(0,e_.wL)(k);if(x){let e=await eF.tokenManager.getValidToken();if(!e)return void c.toast.error("Not authenticated");let r=new FormData;r.append("file",x),r.append("visibility",b||R.Lu.Private),r.append("description",o.message||"Imported from ZIP"),v&&Object.keys(v).length>0&&r.append("env_vars",JSON.stringify(v));let n=(0,eT.N)(),i=await fetch("".concat(n,"/workspaces/").concat(t,"/projects/from-zip"),{method:"POST",headers:{Authorization:"Bearer ".concat(e)},body:r});if(!i.ok){let e=await i.json().catch(()=>({message:"Upload failed"}));throw Error(e.message||"Upload failed")}let l=await i.json(),d=l.id||(null==(s=l.link)?void 0:s.split("/projects/")[1]);if(d&&o.message){let e=(0,eD.Pg)(),t={id:o.id,message:o.message,thread_id:eR.x};o.ai_message_id&&(t.ai_message_id=o.ai_message_id),a&&"auto"!==a&&(t.model=a),await e.post("/projects/".concat(d,"/chat"),t)}S.invalidateQueries({queryKey:eL.workspaceKeys.all}),null==g||g(),l.link?w.push(l.link.replace(window.location.origin,"")):d&&w.push("/projects/"+d),setTimeout(()=>{var e;null==E||null==(e=E.clear)||e.call(E)},1e3);return}let N={description:"library"===I?"Library project":o.message||"Implement exactly the screenshot and nothing else",tech_stack:n&&n!==ey?n:r||void 0,example_prompt_label:i||void 0,visibility:_&&"library"===I?R.Lu.Private:b||R.Lu.Private,images_added_via_dropdown:l.imagesAddedViaDropdown&&l.images.length>0||void 0,template_project_id:d,selected_theme:m||void 0,selected_libraries:h.length>0?h:void 0,source_repo_url:f,env_vars:v,deployment_target:j,metadata:{chat_mode_enabled:p,fullscreen_enabled:!!p||void 0},...u&&"object"==typeof u?{supabase_project_config:{supabase_organization_id:u.organization_id,supabase_project_id:u.id}}:{},...o.image_urls&&o.image_urls.length>0&&o.from_hash_fragment?{image_urls:o.image_urls}:{},project_type:I,is_template:!!_&&"library"===I||void 0};"auto"!==a&&null!==a&&(e=a);let A={id:o.id,message:o.message,images:l.images,ai_message_id:o.ai_message_id||void 0,chatOnly:!!p||!0===o.chat_only||void 0,builderToken:o.builder_token||void 0,model:e};N.initial_message={...o,model:e,..."noop"===o.message&&{noop_mode:!0}};let T=(0,eD.Pg)(),M=await T.post("/workspaces/".concat(t,"/projects"),N);if(S.invalidateQueries({queryKey:eL.workspaceKeys.all}),"library"!==I&&S.setQueryData(eL.gO.initialPrompt(M.id),A),y&&t)try{await (0,eP.td)(t,y,[M.id]),S.invalidateQueries({queryKey:eE.Xn.projectsInFolder(t,y)}),S.invalidateQueries({queryKey:eL.workspaceKeys.projectsBase(t)})}catch(e){eN.logging.error("Failed to add project to folder",{error:e}),c.toast.warning("Project created successfully, but failed to add it to the folder.")}null==g||g(),w.push("/projects/"+M.id),setTimeout(()=>{var e;null==E||null==(e=E.clear)||e.call(E)},1e3)}catch(a){null==E||null==(o=E.restore)||o.call(E);let e=401===a.status,t=402===a.status;if(a instanceof eA.L&&"rate_limited"===a.type)return void c.toast.error("We are currently under heavy load, please try again later.");if(e)return;if(t){l.Ay.capture("out_of_credits_dialog_opened"),N();return}(0,eM.Ni)(a),eN.logging.error("Create project error",a);return}},[C,r,n,i,d,u,t,p,a,S,w,N,m,h,g,f,x,v,b,y,j,_])}})({workspaceId:eu,selectedModel:eQ,techStack:e2,selectedStack:J?tp:void 0,suggestionLabel:W,selectedTemplateId:e3,selectedSupabaseProject:te,selectedTheme:e8,selectedLibraries:ta,chatModeEnabled:et,cleanupHashPrompt:tS,importedGitUrl:tn,uploadedZipFile:ti,envVars:to,visibility:td,folderId:eU||void 0,deploymentTarget:tm}),tN=(0,o.useCallback)(()=>{let e=c.toast.loading(X?"Creating template":z("creatingDesignSystem"),{duration:1e4});tk({body:{id:(0,h.g)(),message:X?"I'm creating a design template":"I'm creating a design system project. What are some next steps?"},project_type:"library"}).then(()=>{c.toast.success(X?"Template created successfully":"Design system created successfully",{id:e})}).catch(()=>{c.toast.error(X?"Failed to create template":"Failed to create design system",{id:e})})},[tk,z,X]),{handleMessageSubmit:tC}=(e=>{let{createProject:t,selectedModel:a,setShowDismissApiKeyDialog:r}=e;return{handleMessageSubmit:(0,o.useCallback)(async e=>{let{body:n,options:s}=e;if((0,ec.u)(n.message)){l.Ay.capture(el.$6.CREATION.API_KEY_DETECTED),r(!0);return}await t({body:{...n,model:"auto"!==a&&null!==a?a:void 0},options:s})},[t,a,r])}})({createProject:tk,selectedModel:eQ,setShowDismissApiKeyDialog:eZ}),{sendChatMessage:t_,isSendingDisabled:tI,isSubmitting:tE}=(e=>{let{onSubmit:t,chatModeEnabled:a=!1,hasImportedRepo:r=!1,techStack:n,templateId:s}=e,{authUser:i,authState:l}=(0,g.Z2)(),c=(0,f.A)(),{storeAction:d}=(0,w.zg)(),[u,m]=(0,o.useState)(!1),{store:p,clearEditorState:x,restoreEditorState:v}=(0,k.Xl)(),b=p(e=>e.images),y=p(e=>e.message),C=(0,o.useMemo)(()=>b.some(e=>!e.uploaded),[b]),_=(0,o.useMemo)(()=>{var e,t;let a=null!=(e=null==y?void 0:y.length)?e:0,n=null!=(t=null==b?void 0:b.length)?t:0;return!!(!(a>0||n>0||r)||i&&C||(0,j.rn)(null!=y?y:""))||!!u||"loading"===l},[y,b,r,i,C,u,l]);return{sendChatMessage:(0,o.useCallback)(async()=>{if(!_){if(!i){let e=(0,h.g)();d(S.A.CREATE_PROJECT,{message:y,messageId:e,chatModeEnabled:a,techStack:n,templateId:s},[S.M.SEGMENTATION]),c("signup");return}m(!0);try{let e=b.map(e=>({file_id:e.existingFileId||e.id,file_name:e.name,type:N.g.USER_UPLOAD})),r={id:(0,h.g)(),message:y,files:e,optimisticImageUrls:b.map(e=>e.url),chat_only:a,agent_mode_enabled:!1};await t({body:r,options:{clear:x,restore:v}})}finally{m(!1)}}},[i,_,y,b,t,x,v,c,a,d,n,s]),isSendingDisabled:_,isSubmitting:u}})({onSubmit:tC,chatModeEnabled:et,hasImportedRepo:!!tn||!!ti,techStack:e2,templateId:e3}),{showWorkspaceDialog:tA,onWorkspaceSelect:tT,handleWorkspaceDialogOpenChange:tM}=(e=>{let{effectivePrompt:t,autoSubmit:a,builderToken:r,workspaceId:n,isLoadingWorkspaces:i,images:c,hashPromptData:d,createProject:m,cleanupHashPrompt:h,enabled:p=!0}=e,g=(0,s.useRouter)(),[f,x]=(0,o.useState)(!1),[v,b]=(0,o.useState)(!1),[y,j]=(0,o.useState)(!1),w=(0,o.useRef)(!1),S=(0,o.useCallback)(e=>{j(!0),x(!1)},[]),k=(0,o.useCallback)(e=>{x(e),e||y||(h(),g.replace("/"))},[y,h,g]);return(0,o.useEffect)(()=>{if(p&&!w.current){if(r&&n){w.current=!0;let e=(0,u.A)();m({body:{message:"Build a pixel perfect UI clone of this Figma design!",builder_token:r,id:e}}),l.Ay.capture("builder_io_figma_import_request_sent",{project_id:e})}else if(t&&"true"===a&&!i)if(v){if(y&&n){w.current=!0,j(!1);let e=c.map(e=>({file_id:e.existingFileId||e.id,file_name:e.name,type:N.g.USER_UPLOAD}));m({body:{message:t,id:(0,u.A)(),files:e,optimisticImageUrls:c.map(e=>e.url),from_hash_fragment:!!((null==d?void 0:d.images)||(null==d?void 0:d.files))}})}}else b(!0),x(!0)}},[p,m,t,a,r,n,i,v,y,null==d?void 0:d.images,null==d?void 0:d.files,c]),{showWorkspaceDialog:f,setShowWorkspaceDialog:x,hasShownWorkspaceDialog:v,pendingAutoSubmit:y,onWorkspaceSelect:S,handleWorkspaceDialogOpenChange:k}})({effectivePrompt:tw,autoSubmit:ez,builderToken:eV,workspaceId:eu,isLoadingWorkspaces:ep,images:q,hashPromptData:tj,createProject:tk,cleanupHashPrompt:tS,enabled:!O}),tP=(0,o.useCallback)(e=>{e||l.Ay.capture(el.Yq.DIALOG.CLOSED),eJ(e)},[eJ]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(m.c,{isOpen:e$,onDismiss:()=>eZ(!1),onConfirm:()=>{eZ(!1),U&&(l.Ay.capture(el.$6.CREATION.API_KEY_WARNING_DISMISSED),tk({body:{message:U,id:(0,u.A)()}}))}}),(0,r.jsx)(aA,{isOpen:eX,setIsOpen:e0,selectedTemplateId:e3,setSelectedTemplateId:e=>{e4(e),e7(!1)},onCreateLibraryProject:X?tN:void 0}),(0,r.jsx)(aT,{open:eY,onOpenChange:tP}),(0,r.jsx)(es.A,{open:tA,onOpenChange:tM,onWorkspaceSelect:e=>{em(e),tT(e)},selectedWorkspaceId:eu}),(0,r.jsx)("div",{className:(0,H.cn)("w-full ".concat(a),v),children:(0,r.jsx)("div",{className:"relative w-full",children:(0,r.jsx)("div",{className:"flex w-full flex-col items-center",children:(0,r.jsx)("div",{className:"relative size-full",children:(0,r.jsx)(p.C,{children:(0,r.jsxs)(D._A,{onSendChatMessage:tC,isSubmitting:tE,children:[(0,r.jsx)(eh,{}),(0,r.jsxs)(A.V,{className:(0,H.cn)("w-full rounded-3.5xl border border-white bg-muted text-base shadow-xl ring-1 ring-black/[0.08] transition-all focus-within:ring-black/[0.16] hover:ring-black/[0.12] focus-within:hover:ring-black/[0.16] dark:border-white/[0.08] dark:ring-black/[0.88] dark:focus-within:ring-black/[0.96]","duration-150 ease-in-out focus-within:border-white hover:border-white/90 focus-within:hover:border-white dark:focus-within:border-foreground/[0.16] dark:hover:border-foreground/[0.12] dark:focus-within:hover:border-foreground/[0.16]"),onSubmit:tv?()=>{}:t_,children:[(q.length>0||!!e3||!!tn||!!ti)&&(0,r.jsx)("div",{className:"p-1 pb-0",children:(0,r.jsxs)(M.H,{children:[e3&&(0,r.jsx)(ad,{projectId:e3,setSelectedTemplateId:e=>{e4(e),e||e7(!0)},openTemplatesDialog:e1}),tn&&(0,r.jsx)(eK,{name:(null==(t=tn.split("/").pop())?void 0:t.replace(".git",""))||tn,type:"github",onRemove:()=>{ts(void 0),tc({})}}),ti&&(0,r.jsx)(eK,{name:ti.name.replace(".zip",""),type:"zip",onRemove:()=>{tl(void 0),tc({})}})]})}),(0,r.jsx)(aE.S,{children:(0,r.jsx)(aI,{searchAutosuggestions:F,disabled:tv,minHeight:n,contentKey:x,usePills:P,disableAutoFocus:L})}),b,(0,r.jsx)(j.eh,{}),(0,r.jsxs)(T.Z,{className:"flex items-center @container/create-form-button-row",children:[(0,r.jsx)(en.B,{setSelectedProject:tt,setOpen:()=>{},children:(0,r.jsx)(al,{handleTemplatesClick:()=>{eB?e1():eG($.K.BIZ_TEMPLATES)},disabled:tx,selectedSupabaseProject:te,workspace:eW||void 0,selectedLibraries:ta,onLibrariesSelectAction:e=>tr(e),onCreateLibraryProject:tN,onManageThemes:()=>eJ(!0),onImportCodebase:(e,t)=>{ts(e),tc(t),e4(void 0)},onZipSelected:(e,t)=>{tl(e),tc(t),e4(void 0),ts(void 0)},selectedStack:J?tp:void 0,onStackSelect:J?tg:void 0,chatModeEnabled:et,setChatModeEnabled:ed,techStack:e2,setTechStack:e5,deploymentTarget:tm,setDeploymentTarget:th})}),eB&&(0,r.jsx)(ee,{visibility:td,setVisibility:tu,currentWorkspacePlan:(null==eW?void 0:eW.plan)||null,workspace:eW||void 0,disabled:tf,disabledTooltipContent:ty}),(0,r.jsxs)("div",{className:"ml-auto flex items-center gap-1",children:[B&&(0,r.jsx)(er.B,{projectId:"create-form"}),(0,r.jsx)(y,{align:"end",children:(0,r.jsx)(eg,{chatModeEnabled:et,onToggle:()=>ed(!et),disabled:!tb||!Z})}),(0,r.jsx)(y,{align:"end",children:(0,r.jsx)(aE.f,{variant:"ghost",hotkeyEnabled:!!Z,disabled:!Z})}),(0,r.jsx)(ea,{isSendingDisabled:tI||!tb})]})]})]})]})})})})})})]})}},536630:(e,t,a)=>{a.d(t,{J:()=>n});var r=a(889701);let n=()=>(0,r.U)("(pointer: coarse)")},552500:(e,t,a)=>{var r;a.d(t,{s:()=>r}),function(e){var t;(t=e.status||(e.status={})).CONNECTED="connected",t.FAILED="failed",t.NEEDS_REFRESH="needs_refresh"}(r||(r={}))},557642:(e,t,a)=>{a.d(t,{W:()=>n});var r=a(567733);let n=(0,a(780493).w)(r.A,"FileExportIcon")},567733:(e,t,a)=>{a.d(t,{A:()=>i});var r,n=a(325413);function s(){return(s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(null,arguments)}let i=function(e){return n.createElement("svg",s({xmlns:"http://www.w3.org/2000/svg",width:48,height:48,viewBox:"0 -960 960 960"},e),r||(r=n.createElement("path",{d:"M329-207 222-100q-9 9-21 8.5t-21.39-9.5q-8.61-9-8.61-21t9-21l107-107h-96q-12.75 0-21.37-8.68-8.63-8.67-8.63-21.5 0-12.82 8.63-21.32 8.62-8.5 21.37-8.5h168q12.75 0 21.38 8.62Q389-292.75 389-280v168q0 12.75-8.68 21.37-8.67 8.63-21.5 8.63-12.82 0-21.32-8.63Q329-99.25 329-112zM189.82-370q-12.82 0-21.32-8.63-8.5-8.62-8.5-21.37v-420q0-24.75 17.63-42.38Q195.25-880 220-880h340l240 240v500q0 24.75-17.62 42.37Q764.75-80 740-80H479q-12.75 0-21.37-8.68-8.63-8.67-8.63-21.5 0-12.82 8.63-21.32 8.62-8.5 21.37-8.5h261v-460H550q-12.75 0-21.37-8.63Q520-617.25 520-630v-190H220v420q0 12.75-8.68 21.37-8.67 8.63-21.5 8.63"})))}},695877:(e,t,a)=>{a.d(t,{O:()=>o});var r=a(20097),n=a(399124),s=a(477877),i=a(375896);let l=e=>{let{color:t,index:a,className:n}=e,s=t?"hsl(".concat(t,")"):"transparent";return(0,r.jsx)("div",{className:(0,i.cn)(a>0&&"-ml-1",n),children:0===a?(0,r.jsx)("svg",{viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"size-3",children:(0,r.jsx)("circle",{cx:"6",cy:"6",r:"6",fill:s})}):(0,r.jsx)("svg",{viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"size-3",children:(0,r.jsx)("path",{d:"M6.00195 0C9.31566 0 12.002 2.68629 12.002 6C12.002 9.31371 9.31566 12 6.00195 12C4.82977 12 3.73653 11.6632 2.8125 11.082C4.15989 9.80618 5.00195 8.00207 5.00195 6C5.00195 3.99769 4.16018 2.19287 2.8125 0.916992C3.73644 0.336023 4.82996 0 6.00195 0Z",fill:s})})})},o=e=>{let{theme:t,pageMode:a="light",numberOfDots:o=4,className:c,dotClassName:d}=e,u=(0,s.P)(t.cssVars,a),m=(0,n.Aj)(u);return(0,r.jsx)("div",{className:(0,i.cn)("flex items-center justify-center",c),children:Array.from({length:o}).map((e,t)=>(0,r.jsx)(l,{color:m[t],index:t,className:d},t))})}},703825:(e,t,a)=>{a.d(t,{Bj:()=>s,C9:()=>o,Fj:()=>l,t:()=>i});var r=a(96324);let n="lovable_hash_prompt_";function s(e){try{let t=localStorage.getItem(n+e);if(!t)return null;let a=JSON.parse(t);if(Date.now()-a.timestamp>36e5)return i(e),null;return a}catch(t){return r.logging.error("Failed to retrieve or parse hash prompt for key: ".concat(e),{error:t}),i(e),null}}function i(e){try{localStorage.removeItem(n+e)}catch(e){r.logging.error("Failed to cleanup hash prompt from localStorage",{error:e})}}function l(){try{let e=Object.keys(localStorage),t=Date.now();e.forEach(e=>{if(e.startsWith(n))try{let a=localStorage.getItem(e);if(a){let r=JSON.parse(a);t-r.timestamp>36e5&&localStorage.removeItem(e)}}catch(t){r.logging.error("Failed to process expired hash prompt",{key:e,error:t}),localStorage.removeItem(e)}})}catch(e){r.logging.error("Failed to cleanup expired hash prompts from localStorage",{error:e})}}function o(){let e=window.location.hash.substring(1);if(!e)return null;try{let t=new URLSearchParams(e),a=t.get("prompt");if(a){let e;if(a.length>5e4)return r.logging.error("HashPromptStorage: Prompt exceeds maximum length",{promptLength:a.length,maxLength:5e4}),null;let s=t.getAll("file_id"),i=t.getAll("file_name"),l=t.getAll("mime_type"),o=t.getAll("user_id");s.length>0&&s.length===i.length&&s.length===l.length&&s.length===o.length&&(e=s.map((e,t)=>({fileId:e,fileName:i[t],mimeType:l[t],userId:o[t]})));let c=t.getAll("images"),d=function(e,t,a){if(e.length>5e4)throw Error("Prompt exceeds maximum length of ".concat(5e4," characters"));let s=crypto.randomUUID(),i={prompt:e,images:t,files:a,timestamp:Date.now()};try{return localStorage.setItem(n+s,JSON.stringify(i)),s}catch(e){throw r.logging.error("Failed to store prompt data in localStorage",{error:e}),Error("Failed to store prompt data")}}(a,c.length>0?c:void 0,e);return window.history.replaceState({},"",window.location.pathname+window.location.search),d}}catch(t){r.logging.error("Error processing hash fragment on load",{hash:e,error:t})}return null}},755613:(e,t,a)=>{a.d(t,{N:()=>i});var r=a(255348);let n={sans:["Inter","Roboto","Open Sans","Lato","Montserrat","Poppins","Source Sans Pro","Space Grotesk","Nunito","Raleway","Work Sans","Outfit","Manrope","DM Sans","Plus Jakarta Sans","Figtree"],serif:["Playfair Display","Merriweather","Lora","Source Serif Pro","Crimson Text","Libre Baskerville","Cormorant Garamond","EB Garamond","Crimson Pro","Libre Caslon Text"],mono:["JetBrains Mono","Fira Code","Source Code Pro","Roboto Mono","IBM Plex Mono","Space Mono","Inconsolata","Cascadia Code","Geist Mono","SF Mono"]},s={sans:["ui-sans-serif","system-ui","sans-serif","Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji"],serif:["ui-serif","Georgia","Cambria","Times New Roman","Times","serif"],mono:["ui-monospace","SFMono-Regular","Menlo","Monaco","Consolas","Liberation Mono","Courier New","monospace"]};class i{static getPopularFonts(e){return(n[e]||[]).map(t=>({family:t,category:e}))}static getFontCSSVariable(e){switch(e){case"sans":default:return"--font-sans";case"serif":return"--font-serif";case"mono":return"--font-mono"}}static getFontFamilyFromName(e){let t=e.trim().replace(/^['"]|['"]$/g,"");for(let e of r.Rg)if(n[e].includes(t))return{family:t,category:e};return e}static generateGoogleFontsURL(e){let t=e.family.replace(/ /g,"+");return"https://fonts.googleapis.com/css2?family=".concat(t,"&display=swap")}static getDefaultFallbacks(e){return s[e]}static generateTailwindFontVariable(e,t){return[t.family.includes(" ")?'"'.concat(t.family,'"'):t.family,...this.getDefaultFallbacks(e)].join(", ")}static getFontFamilyWithFallbacks(e,t){return t?[t.family,...this.getDefaultFallbacks(e)]:this.getDefaultFallbacks(e)}}},780493:(e,t,a)=>{a.d(t,{w:()=>i,y:()=>s});var r=a(20097),n=a(375896);let s={xsmall:"size-3",small:"size-4",default:"size-5",large:"size-6",xlarge:"size-8","2xlarge":"size-10"};function i(e,t){let a=t=>{let{size:a="default",className:i,...l}=t;return(0,r.jsx)(e,{width:"100%",height:"100%",className:(0,n.cn)("shrink-0",s[a],i),fill:"currentColor",...l})};return a.displayName=t,a}},873298:(e,t,a)=>{a.d(t,{P:()=>r});let r=(0,a(602571).vt)(e=>({shouldShowReferralNotice:!1,setIsSuccessfulReferral:()=>e({shouldShowReferralNotice:!0})}))},879100:(e,t,a)=>{a.d(t,{aM:()=>r,xp:()=>n});let r=10,n=100},902357:(e,t,a)=>{a.d(t,{y:()=>h});var r=a(20097),n=a(154724),s=a(375896);let i=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";return({xsmall:12,small:16,default:20,large:24,xlarge:32,"2xlarge":40})[e]},l=e=>{let{className:t,size:a,...i}=e;return(0,r.jsx)(n.o,{className:(0,s.cn)("animate-spin",t),size:a,...i})},o=e=>{let{className:t,size:a,...i}=e;return(0,r.jsx)(n.o,{className:(0,s.cn)("animate-spin",t),size:a,...i})},c=e=>{let{className:t,size:a,...i}=e;return(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("div",{className:"absolute inset-0 rotate-180",children:(0,r.jsx)(n.o,{className:(0,s.cn)("animate-spin",t,"text-foreground opacity-20"),size:a,...i})}),(0,r.jsx)(n.o,{className:(0,s.cn)("relative animate-spin",t),size:a,...i})]})},d=e=>{let{size:t,...a}=e,n=i(t);return(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:n,viewBox:"0 0 24 24",...a,children:[(0,r.jsx)("title",{children:"Loading..."}),(0,r.jsx)("circle",{cx:"4",cy:"12",r:"2",fill:"currentColor",children:(0,r.jsx)("animate",{id:"ellipsis1",begin:"0;ellipsis3.end+0.25s",attributeName:"cy",calcMode:"spline",dur:"0.6s",values:"12;6;12",keySplines:".33,.66,.66,1;.33,0,.66,.33"})}),(0,r.jsx)("circle",{cx:"12",cy:"12",r:"2",fill:"currentColor",children:(0,r.jsx)("animate",{begin:"ellipsis1.begin+0.1s",attributeName:"cy",calcMode:"spline",dur:"0.6s",values:"12;6;12",keySplines:".33,.66,.66,1;.33,0,.66,.33"})}),(0,r.jsx)("circle",{cx:"20",cy:"12",r:"2",fill:"currentColor",children:(0,r.jsx)("animate",{id:"ellipsis3",begin:"ellipsis1.begin+0.2s",attributeName:"cy",calcMode:"spline",dur:"0.6s",values:"12;6;12",keySplines:".33,.66,.66,1;.33,0,.66,.33"})})]})},u=e=>{let{size:t,...a}=e,n=i(t);return(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:n,viewBox:"0 0 44 44",stroke:"currentColor",...a,children:[(0,r.jsx)("title",{children:"Loading..."}),(0,r.jsxs)("g",{fill:"none",fillRule:"evenodd",strokeWidth:"2",children:[(0,r.jsxs)("circle",{cx:"22",cy:"22",r:"1",children:[(0,r.jsx)("animate",{attributeName:"r",begin:"0s",dur:"1.8s",values:"1; 20",calcMode:"spline",keyTimes:"0; 1",keySplines:"0.165, 0.84, 0.44, 1",repeatCount:"indefinite"}),(0,r.jsx)("animate",{attributeName:"stroke-opacity",begin:"0s",dur:"1.8s",values:"1; 0",calcMode:"spline",keyTimes:"0; 1",keySplines:"0.3, 0.61, 0.355, 1",repeatCount:"indefinite"})]}),(0,r.jsxs)("circle",{cx:"22",cy:"22",r:"1",children:[(0,r.jsx)("animate",{attributeName:"r",begin:"-0.9s",dur:"1.8s",values:"1; 20",calcMode:"spline",keyTimes:"0; 1",keySplines:"0.165, 0.84, 0.44, 1",repeatCount:"indefinite"}),(0,r.jsx)("animate",{attributeName:"stroke-opacity",begin:"-0.9s",dur:"1.8s",values:"1; 0",calcMode:"spline",keyTimes:"0; 1",keySplines:"0.3, 0.61, 0.355, 1",repeatCount:"indefinite"})]})]})]})},m=e=>{let{size:t,...a}=e,n=i(t);return(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:n,viewBox:"0 0 24 24",...a,children:[(0,r.jsx)("title",{children:"Loading..."}),(0,r.jsx)("style",{children:"\n        .spinner-bar {\n          animation: spinner-bars-animation .8s linear infinite;\n          animation-delay: -.8s;\n        }\n        .spinner-bars-2 {\n          animation-delay: -.65s;\n        }\n        .spinner-bars-3 {\n          animation-delay: -0.5s;\n        }\n        @keyframes spinner-bars-animation {\n          0% {\n            y: 1px;\n            height: 22px;\n          }\n          93.75% {\n            y: 5px;\n            height: 14px;\n            opacity: 0.2;\n          }\n        }\n      "}),(0,r.jsx)("rect",{className:"spinner-bar",x:"1",y:"1",width:"6",height:"22",fill:"currentColor"}),(0,r.jsx)("rect",{className:"spinner-bar spinner-bars-2",x:"9",y:"1",width:"6",height:"22",fill:"currentColor"}),(0,r.jsx)("rect",{className:"spinner-bar spinner-bars-3",x:"17",y:"1",width:"6",height:"22",fill:"currentColor"})]})},h=e=>{let{variant:t="default",size:a,...n}=e;switch(t){case"default":return(0,r.jsx)(l,{size:a,...n});case"circle":return(0,r.jsx)(o,{size:a,...n});case"circle_filled":return(0,r.jsx)(c,{size:a,...n});case"ellipsis":return(0,r.jsx)(d,{size:a,...n});case"ring":return(0,r.jsx)(u,{size:a,...n});case"bars":return(0,r.jsx)(m,{size:a,...n})}}},913154:(e,t,a)=>{a.d(t,{o:()=>n});var r=a(58476);let n=(0,a(780493).w)(r.A,"SlidersHorizontalIcon")},916068:(e,t,a)=>{a.d(t,{L:()=>n});var r=a(485212);let n=e=>e.status===r.K.ACTIVE_HEALTHY},999305:(e,t,a)=>{a.d(t,{y:()=>n});var r=a(325413);function n(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{deps:a=[],initialValue:n=!1}=t,[s,i]=(0,r.useState)(n);return(0,r.useEffect)(()=>{let t=e.current;if(!t)return;let a=document.createElement("div");a.style.height="1px",a.style.width="100%",a.style.flexShrink="0",a.setAttribute("aria-hidden","true"),t.appendChild(a);let r=new IntersectionObserver(e=>{let a=e[0];a&&i(t.scrollHeight>t.clientHeight&&!a.isIntersecting)},{root:t,threshold:0});r.observe(a);let n=new ResizeObserver(()=>{r.unobserve(a),r.observe(a)});return n.observe(t),()=>{r.disconnect(),n.disconnect(),a.remove()}},[e,...a]),s}}}]);